{
    "MSP_API_VERSION": {
        "code": 1,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "mspProtocolVersion",
                    "ctype": "uint8_t",
                    "desc": "MSP Protocol version (`MSP_PROTOCOL_VERSION`, typically 0)",
                    "units": ""
                },
                {
                    "name": "apiVersionMajor",
                    "ctype": "uint8_t",
                    "desc": "INAV API Major version (`API_VERSION_MAJOR`)",
                    "units": ""
                },
                {
                    "name": "apiVersionMinor",
                    "ctype": "uint8_t",
                    "desc": "INAV API Minor version (`API_VERSION_MINOR`)",
                    "units": ""
                }
            ]
        },
        "notes": "Used by configurators to check compatibility.",
        "description": "Provides the MSP protocol version and the INAV API version."
    },
    "MSP_FC_VARIANT": {
        "code": 2,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "fcVariantIdentifier",
                    "desc": "4-character identifier string (e.g., \"INAV\"). Defined by `flightControllerIdentifier`.",
                    "ctype": "char",
                    "array": true,
                    "array_size": 4,
                    "units": ""
                }
            ]
        },
        "notes": "See `FLIGHT_CONTROLLER_IDENTIFIER_LENGTH`.",
        "description": "Identifies the flight controller firmware variant (e.g., INAV, Betaflight)."
    },
    "MSP_FC_VERSION": {
        "code": 3,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "fcVersionMajor",
                    "ctype": "uint8_t",
                    "desc": "Firmware Major version (`FC_VERSION_MAJOR`)",
                    "units": ""
                },
                {
                    "name": "fcVersionMinor",
                    "ctype": "uint8_t",
                    "desc": "Firmware Minor version (`FC_VERSION_MINOR`)",
                    "units": ""
                },
                {
                    "name": "fcVersionPatch",
                    "ctype": "uint8_t",
                    "desc": "Firmware Patch level (`FC_VERSION_PATCH_LEVEL`)",
                    "units": ""
                }
            ]
        },
        "notes": "",
        "description": "Provides the specific version number of the flight controller firmware."
    },
    "MSP_BOARD_INFO": {
        "code": 4,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "boardIdentifier",
                    "desc": "4-character UPPER CASE board identifier (`TARGET_BOARD_IDENTIFIER`)",
                    "ctype": "char",
                    "array": true,
                    "array_size": 4,
                    "units": ""
                },
                {
                    "name": "hardwareRevision",
                    "ctype": "uint16_t",
                    "desc": "Hardware revision number. 0 if not detected (`USE_HARDWARE_REVISION_DETECTION`)",
                    "units": ""
                },
                {
                    "name": "osdSupport",
                    "ctype": "uint8_t",
                    "desc": "OSD chip type: 0=None, 2=Onboard (`USE_OSD`). INAV does not support slave OSD (1)",
                    "units": ""
                },
                {
                    "name": "commCapabilities",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Communication capabilities: Bit 0=VCP support (`USE_VCP`), Bit 1=SoftSerial support (`USE_SOFTSERIAL1`/`2`)",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "targetNameLength",
                    "ctype": "uint8_t",
                    "desc": "Length of the target name string that follows",
                    "units": ""
                },
                {
                    "name": "targetName",
                    "desc": "Target name string (e.g., \"MATEKF405\"). Length given by previous field",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "`BOARD_IDENTIFIER_LENGTH` is 4.",
        "description": "Provides information about the specific hardware board and its capabilities."
    },
    "MSP_BUILD_INFO": {
        "code": 5,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "buildDate",
                    "desc": "Build date string (e.g., \"Dec 31 2023\"). `BUILD_DATE_LENGTH`.",
                    "ctype": "char",
                    "array": true,
                    "array_size": 11,
                    "array_size_define": "BUILD_DATE_LENGTH",
                    "units": ""
                },
                {
                    "name": "buildTime",
                    "desc": "Build time string (e.g., \"23:59:59\"). `BUILD_TIME_LENGTH`.",
                    "ctype": "char",
                    "array": true,
                    "array_size": 8,
                    "array_size_define": "BUILD_TIME_LENGTH",
                    "units": ""
                },
                {
                    "name": "gitRevision",
                    "desc": "Short Git revision string. `GIT_SHORT_REVISION_LENGTH`.",
                    "ctype": "char",
                    "array": true,
                    "array_size": 8,
                    "array_size_define": "GIT_SHORT_REVISION_LENGTH",
                    "units": ""
                }
            ]
        },
        "notes": "",
        "description": "Provides build date, time, and Git revision of the firmware."
    },
    "MSP_INAV_PID": {
        "code": 6,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "legacyAsyncProcessing",
                    "ctype": "uint8_t",
                    "desc": "Legacy, unused. Always 0",
                    "value": 0
                },
                {
                    "name": "legacyAsyncValue1",
                    "ctype": "uint16_t",
                    "desc": "Legacy, unused. Always 0",
                    "value": 0
                },
                {
                    "name": "legacyAsyncValue2",
                    "ctype": "int16_t",
                    "desc": "Legacy, unused. Always 0",
                    "value": 0
                },
                {
                    "name": "headingHoldRateLimit",
                    "ctype": "uint8_t",
                    "desc": "Max rate for heading hold P term (`pidProfile()->heading_hold_rate_limit`)",
                    "units": "deg/s"
                },
                {
                    "name": "headingHoldLpfFreq",
                    "ctype": "uint8_t",
                    "desc": "Fixed LPF frequency for heading hold error (`HEADING_HOLD_ERROR_LPF_FREQ`)",
                    "units": "Hz"
                },
                {
                    "name": "legacyYawJumpLimit",
                    "ctype": "int16_t",
                    "desc": "Legacy, unused. Always 0",
                    "value": 0
                },
                {
                    "name": "legacyGyroLpf",
                    "ctype": "uint8_t",
                    "desc": "Fixed value `GYRO_LPF_256HZ`",
                    "units": "Hz"
                },
                {
                    "name": "accLpfHz",
                    "ctype": "uint8_t",
                    "desc": "Accelerometer LPF frequency (`accelerometerConfig()->acc_lpf_hz`) cutoff frequency for the low pass filter used on the acc z-axis for althold in Hz",
                    "units": "Hz"
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Reserved. Always 0",
                    "value": 0
                },
                {
                    "name": "reserved2",
                    "ctype": "uint8_t",
                    "desc": "Reserved. Always 0",
                    "value": 0
                },
                {
                    "name": "reserved3",
                    "ctype": "uint8_t",
                    "desc": "Reserved. Always 0",
                    "value": 0
                },
                {
                    "name": "reserved4",
                    "ctype": "uint8_t",
                    "desc": "Reserved. Always 0",
                    "value": 0
                }
            ]
        },
        "notes": "Superseded by `MSP2_PID` for core PIDs and other specific messages for filter settings.",
        "description": "Retrieves legacy INAV-specific PID controller related settings. Many fields are now obsolete or placeholders."
    },
    "MSP_SET_INAV_PID": {
        "code": 7,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "legacyAsyncProcessing",
                    "ctype": "uint8_t",
                    "desc": "Legacy, ignored"
                },
                {
                    "name": "legacyAsyncValue1",
                    "ctype": "int16_t",
                    "desc": "Legacy, ignored"
                },
                {
                    "name": "legacyAsyncValue2",
                    "ctype": "int16_t",
                    "desc": "Legacy, ignored"
                },
                {
                    "name": "headingHoldRateLimit",
                    "ctype": "uint8_t",
                    "desc": "Sets `pidProfileMutable()->heading_hold_rate_limit`.",
                    "units": "deg/s"
                },
                {
                    "name": "headingHoldLpfFreq",
                    "ctype": "uint8_t",
                    "desc": "Ignored (fixed value `HEADING_HOLD_ERROR_LPF_FREQ` used)",
                    "units": "Hz"
                },
                {
                    "name": "legacyYawJumpLimit",
                    "ctype": "int16_t",
                    "desc": "Legacy, ignored"
                },
                {
                    "name": "legacyGyroLpf",
                    "ctype": "uint8_t",
                    "desc": "Ignored (historically mapped to `gyro_lpf_e` values).",
                    "units": ""
                },
                {
                    "name": "accLpfHz",
                    "ctype": "uint8_t",
                    "desc": "Sets `accelerometerConfigMutable()->acc_lpf_hz`.",
                    "units": "Hz"
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "reserved2",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "reserved3",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "reserved4",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 15 bytes.",
        "description": "Sets legacy INAV-specific PID controller related settings."
    },
    "MSP_NAME": {
        "code": 10,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "craftName",
                    "desc": "The craft name string (`systemConfig()->craftName`). Null termination is *not* explicitly sent, the length is determined by the payload size",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "",
        "description": "Returns the user-defined craft name."
    },
    "MSP_SET_NAME": {
        "code": 11,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "craftName",
                    "desc": "The new craft name string. Automatically null-terminated by the FC",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "notes": "Maximum length is `MAX_NAME_LENGTH`.",
        "description": "Sets the user-defined craft name."
    },
    "MSP_NAV_POSHOLD": {
        "code": 12,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "userControlMode",
                    "ctype": "uint8_t",
                    "desc": "Navigation user control mode NAV_GPS_ATTI (0) or NAV_GPS_CRUISE (1)"
                },
                {
                    "name": "maxAutoSpeed",
                    "ctype": "uint16_t",
                    "desc": "Max speed in autonomous modes (`navConfig()->general.max_auto_speed`)",
                    "units": "cm/s"
                },
                {
                    "name": "maxAutoClimbRate",
                    "ctype": "uint16_t",
                    "desc": "Max climb rate in autonomous modes (uses `fw.max_auto_climb_rate` or `mc.max_auto_climb_rate` based on platform)",
                    "units": "cm/s"
                },
                {
                    "name": "maxManualSpeed",
                    "ctype": "uint16_t",
                    "desc": "Max speed in manual modes with GPS aiding (`navConfig()->general.max_manual_speed`)",
                    "units": "cm/s"
                },
                {
                    "name": "maxManualClimbRate",
                    "ctype": "uint16_t",
                    "desc": "Max climb rate in manual modes with GPS aiding (uses `fw.max_manual_climb_rate` or `mc.max_manual_climb_rate`)",
                    "units": "cm/s"
                },
                {
                    "name": "mcMaxBankAngle",
                    "ctype": "uint8_t",
                    "desc": "Max bank angle for multirotor position hold (`navConfig()->mc.max_bank_angle`)",
                    "units": "degrees"
                },
                {
                    "name": "mcAltHoldThrottleType",
                    "ctype": "uint8_t",
                    "desc": "Enum `navMcAltHoldThrottle_e` mirrored from `navConfig()->mc.althold_throttle_type`.",
                    "units": "Enum",
                    "enum": "navMcAltHoldThrottle_e"
                },
                {
                    "name": "mcHoverThrottle",
                    "ctype": "uint16_t",
                    "desc": "Multirotor hover throttle PWM value (`currentBatteryProfile->nav.mc.hover_throttle`).",
                    "units": "PWM"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves navigation position hold and general manual/auto flight parameters. Some parameters depend on the platform type (Multirotor vs Fixed Wing)."
    },
    "MSP_SET_NAV_POSHOLD": {
        "code": 13,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "userControlMode",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->general.flags.user_control_mode`. WARNING: uses unnamed enum in navigation.h 'NAV_GPS_ATTI/NAV_GPS_CRUISE'",
                    "units": "Enum",
                    "enum": "navUserControlMode_e"
                },
                {
                    "name": "maxAutoSpeed",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.max_auto_speed`.",
                    "units": "cm/s"
                },
                {
                    "name": "maxAutoClimbRate",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->fw.max_auto_climb_rate` or `navConfigMutable()->mc.max_auto_climb_rate` based on `mixerConfig()->platformType`.",
                    "units": "cm/s"
                },
                {
                    "name": "maxManualSpeed",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.max_manual_speed`.",
                    "units": "cm/s"
                },
                {
                    "name": "maxManualClimbRate",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->fw.max_manual_climb_rate` or `navConfigMutable()->mc.max_manual_climb_rate`.",
                    "units": "cm/s"
                },
                {
                    "name": "mcMaxBankAngle",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->mc.max_bank_angle`.",
                    "units": "degrees"
                },
                {
                    "name": "mcAltHoldThrottleType",
                    "ctype": "uint8_t",
                    "desc": "Enum `navMcAltHoldThrottle_e`; updates `navConfigMutable()->mc.althold_throttle_type`.",
                    "units": "Enum",
                    "enum": "navMcAltHoldThrottle_e"
                },
                {
                    "name": "mcHoverThrottle",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->nav.mc.hover_throttle`.",
                    "units": "PWM"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 13 bytes.",
        "description": "Sets navigation position hold and general manual/auto flight parameters."
    },
    "MSP_CALIBRATION_DATA": {
        "code": 14,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "accCalibAxisFlags",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Flags indicating which axes of the accelerometer have been calibrated (`accGetCalibrationAxisFlags()`)",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "accZeroX",
                    "ctype": "int16_t",
                    "desc": "Accelerometer zero offset for X-axis (`accelerometerConfig()->accZero.raw[X]`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "accZeroY",
                    "ctype": "int16_t",
                    "desc": "Accelerometer zero offset for Y-axis (`accelerometerConfig()->accZero.raw[Y]`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "accZeroZ",
                    "ctype": "int16_t",
                    "desc": "Accelerometer zero offset for Z-axis (`accelerometerConfig()->accZero.raw[Z]`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "accGainX",
                    "ctype": "int16_t",
                    "desc": "Accelerometer gain/scale for X-axis (`accelerometerConfig()->accGain.raw[X]`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "accGainY",
                    "ctype": "int16_t",
                    "desc": "Accelerometer gain/scale for Y-axis (`accelerometerConfig()->accGain.raw[Y]`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "accGainZ",
                    "ctype": "int16_t",
                    "desc": "Accelerometer gain/scale for Z-axis (`accelerometerConfig()->accGain.raw[Z]`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "magZeroX",
                    "ctype": "int16_t",
                    "desc": "Magnetometer zero offset for X-axis (`compassConfig()->magZero.raw[X]`). 0 if `USE_MAG` disabled",
                    "units": "Raw ADC"
                },
                {
                    "name": "magZeroY",
                    "ctype": "int16_t",
                    "desc": "Magnetometer zero offset for Y-axis (`compassConfig()->magZero.raw[Y]`). 0 if `USE_MAG` disabled",
                    "units": "Raw ADC"
                },
                {
                    "name": "magZeroZ",
                    "ctype": "int16_t",
                    "desc": "Magnetometer zero offset for Z-axis (`compassConfig()->magZero.raw[Z]`). 0 if `USE_MAG` disabled",
                    "units": "Raw ADC"
                },
                {
                    "name": "opflowScale",
                    "ctype": "uint16_t",
                    "desc": "Optical flow scale factor (`opticalFlowConfig()->opflow_scale * 256`). 0 if `USE_OPFLOW` disabled",
                    "units": "Scale * 256"
                },
                {
                    "name": "magGainX",
                    "ctype": "int16_t",
                    "desc": "Magnetometer gain/scale for X-axis (`compassConfig()->magGain[X]`). 0 if `USE_MAG` disabled",
                    "units": "Raw ADC"
                },
                {
                    "name": "magGainY",
                    "ctype": "int16_t",
                    "desc": "Magnetometer gain/scale for Y-axis (`compassConfig()->magGain[Y]`). 0 if `USE_MAG` disabled",
                    "units": "Raw ADC"
                },
                {
                    "name": "magGainZ",
                    "ctype": "int16_t",
                    "desc": "Magnetometer gain/scale for Z-axis (`compassConfig()->magGain[Z]`). 0 if `USE_MAG` disabled",
                    "units": "Raw ADC"
                }
            ]
        },
        "notes": "Total size 27 bytes. Fields related to optional sensors are zero if the sensor is not used.",
        "description": "Retrieves sensor calibration data (Accelerometer zero/gain, Magnetometer zero/gain, Optical Flow scale)."
    },
    "MSP_SET_CALIBRATION_DATA": {
        "code": 15,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "accZeroX",
                    "ctype": "int16_t",
                    "desc": "Sets `accelerometerConfigMutable()->accZero.raw[X]`.",
                    "units": "Raw ADC"
                },
                {
                    "name": "accZeroY",
                    "ctype": "int16_t",
                    "desc": "Sets `accelerometerConfigMutable()->accZero.raw[Y]`.",
                    "units": "Raw ADC"
                },
                {
                    "name": "accZeroZ",
                    "ctype": "int16_t",
                    "desc": "Sets `accelerometerConfigMutable()->accZero.raw[Z]`.",
                    "units": "Raw ADC"
                },
                {
                    "name": "accGainX",
                    "ctype": "int16_t",
                    "desc": "Sets `accelerometerConfigMutable()->accGain.raw[X]`.",
                    "units": "Raw ADC"
                },
                {
                    "name": "accGainY",
                    "ctype": "int16_t",
                    "desc": "Sets `accelerometerConfigMutable()->accGain.raw[Y]`.",
                    "units": "Raw ADC"
                },
                {
                    "name": "accGainZ",
                    "ctype": "int16_t",
                    "desc": "Sets `accelerometerConfigMutable()->accGain.raw[Z]`.",
                    "units": "Raw ADC"
                },
                {
                    "name": "magZeroX",
                    "ctype": "int16_t",
                    "desc": "Sets `compassConfigMutable()->magZero.raw[X]` (if `USE_MAG`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "magZeroY",
                    "ctype": "int16_t",
                    "desc": "Sets `compassConfigMutable()->magZero.raw[Y]` (if `USE_MAG`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "magZeroZ",
                    "ctype": "int16_t",
                    "desc": "Sets `compassConfigMutable()->magZero.raw[Z]` (if `USE_MAG`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "opflowScale",
                    "ctype": "uint16_t",
                    "desc": "Sets `opticalFlowConfigMutable()->opflow_scale = value / 256.0f` (if `USE_OPFLOW`)",
                    "units": "Scale * 256"
                },
                {
                    "name": "magGainX",
                    "ctype": "int16_t",
                    "desc": "Sets `compassConfigMutable()->magGain[X]` (if `USE_MAG`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "magGainY",
                    "ctype": "int16_t",
                    "desc": "Sets `compassConfigMutable()->magGain[Y]` (if `USE_MAG`)",
                    "units": "Raw ADC"
                },
                {
                    "name": "magGainZ",
                    "ctype": "int16_t",
                    "desc": "Sets `compassConfigMutable()->magGain[Z]` (if `USE_MAG`)",
                    "units": "Raw ADC"
                }
            ]
        },
        "reply": null,
        "notes": "Minimum payload 18 bytes. Adds +6 bytes for magnetometer zeros, +2 for optical flow scale, and +6 for magnetometer gains when those features (`USE_MAG`, `USE_OPFLOW`) are compiled in.",
        "description": "Sets sensor calibration data."
    },
    "MSP_POSITION_ESTIMATION_CONFIG": {
        "code": 16,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "weightZBaroP",
                    "ctype": "uint16_t",
                    "desc": "Barometer Z position fusion weight (`positionEstimationConfig()->w_z_baro_p * 100`)",
                    "units": "Weight * 100"
                },
                {
                    "name": "weightZGPSP",
                    "ctype": "uint16_t",
                    "desc": "GPS Z position fusion weight (`positionEstimationConfig()->w_z_gps_p * 100`)",
                    "units": "Weight * 100"
                },
                {
                    "name": "weightZGPSV",
                    "ctype": "uint16_t",
                    "desc": "GPS Z velocity fusion weight (`positionEstimationConfig()->w_z_gps_v * 100`)",
                    "units": "Weight * 100"
                },
                {
                    "name": "weightXYGPSP",
                    "ctype": "uint16_t",
                    "desc": "GPS XY position fusion weight (`positionEstimationConfig()->w_xy_gps_p * 100`)",
                    "units": "Weight * 100"
                },
                {
                    "name": "weightXYGPSV",
                    "ctype": "uint16_t",
                    "desc": "GPS XY velocity fusion weight (`positionEstimationConfig()->w_xy_gps_v * 100`)",
                    "units": "Weight * 100"
                },
                {
                    "name": "minSats",
                    "ctype": "uint8_t",
                    "desc": "Minimum satellites required for GPS use (`gpsConfigMutable()->gpsMinSats`)",
                    "units": "Count"
                },
                {
                    "name": "useGPSVelNED",
                    "ctype": "uint8_t",
                    "desc": "Legacy flag, always 1 (GPS velocity is always used if available)",
                    "units": "Boolean",
                    "value": 1
                }
            ]
        },
        "notes": "",
        "description": "Retrieves parameters related to the INAV position estimation fusion weights and GPS minimum satellite count."
    },
    "MSP_SET_POSITION_ESTIMATION_CONFIG": {
        "code": 17,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "weightZBaroP",
                    "ctype": "uint16_t",
                    "desc": "Sets `positionEstimationConfigMutable()->w_z_baro_p = value / 100.0f` (constrained 0.0-10.0)",
                    "units": "Weight * 100"
                },
                {
                    "name": "weightZGPSP",
                    "ctype": "uint16_t",
                    "desc": "Sets `positionEstimationConfigMutable()->w_z_gps_p = value / 100.0f` (constrained 0.0-10.0)",
                    "units": "Weight * 100"
                },
                {
                    "name": "weightZGPSV",
                    "ctype": "uint16_t",
                    "desc": "Sets `positionEstimationConfigMutable()->w_z_gps_v = value / 100.0f` (constrained 0.0-10.0)",
                    "units": "Weight * 100"
                },
                {
                    "name": "weightXYGPSP",
                    "ctype": "uint16_t",
                    "desc": "Sets `positionEstimationConfigMutable()->w_xy_gps_p = value / 100.0f` (constrained 0.0-10.0)",
                    "units": "Weight * 100"
                },
                {
                    "name": "weightXYGPSV",
                    "ctype": "uint16_t",
                    "desc": "Sets `positionEstimationConfigMutable()->w_xy_gps_v = value / 100.0f` (constrained 0.0-10.0)",
                    "units": "Weight * 100"
                },
                {
                    "name": "minSats",
                    "ctype": "uint8_t",
                    "desc": "Sets `gpsConfigMutable()->gpsMinSats` (constrained 5-10)",
                    "units": "Count"
                },
                {
                    "name": "useGPSVelNED",
                    "ctype": "uint8_t",
                    "desc": "Legacy flag, ignored",
                    "units": "Boolean"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 12 bytes.",
        "description": "Sets parameters related to the INAV position estimation fusion weights and GPS minimum satellite count."
    },
    "MSP_WP_MISSION_LOAD": {
        "code": 18,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "missionID",
                    "ctype": "uint8_t",
                    "desc": "Reserved for future use, currently ignored",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Only functional if `NAV_NON_VOLATILE_WAYPOINT_STORAGE` is defined. Requires 1 byte payload. Returns error if loading fails.",
        "description": "Commands the FC to load the waypoint mission stored in non-volatile memory (e.g., EEPROM or FlashFS) into the active mission buffer."
    },
    "MSP_WP_MISSION_SAVE": {
        "code": 19,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "missionID",
                    "ctype": "uint8_t",
                    "desc": "Reserved for future use, currently ignored",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Only functional if `NAV_NON_VOLATILE_WAYPOINT_STORAGE` is defined. Requires 1 byte payload. Returns error if saving fails.",
        "description": "Commands the FC to save the currently active waypoint mission from RAM to non-volatile memory (e.g., EEPROM or FlashFS)."
    },
    "MSP_WP_GETINFO": {
        "code": 20,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "wpCapabilities",
                    "ctype": "uint8_t",
                    "desc": "Reserved for future waypoint capabilities flags. Currently always 0",
                    "units": "",
                    "value": 0
                },
                {
                    "name": "maxWaypoints",
                    "ctype": "uint8_t",
                    "desc": "Maximum number of waypoints supported (`NAV_MAX_WAYPOINTS`)",
                    "units": ""
                },
                {
                    "name": "missionValid",
                    "ctype": "uint8_t",
                    "desc": "Boolean flag indicating if the current mission in RAM is valid (`isWaypointListValid()`)",
                    "units": ""
                },
                {
                    "name": "waypointCount",
                    "ctype": "uint8_t",
                    "desc": "Number of waypoints currently defined in the mission (`getWaypointCount()`)",
                    "units": ""
                }
            ]
        },
        "notes": "",
        "description": "Retrieves information about the waypoint mission capabilities and the status of the currently loaded mission."
    },
    "MSP_RTH_AND_LAND_CONFIG": {
        "code": 21,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "minRthDistance",
                    "ctype": "uint16_t",
                    "desc": "Minimum distance from home required for RTH to engage (`navConfig()->general.min_rth_distance`)",
                    "units": "cm"
                },
                {
                    "name": "rthClimbFirst",
                    "ctype": "uint8_t",
                    "desc": "Flag: Climb to RTH altitude before returning (`navConfig()->general.flags.rth_climb_first`)",
                    "units": "Boolean"
                },
                {
                    "name": "rthClimbIgnoreEmerg",
                    "ctype": "uint8_t",
                    "desc": "Flag: Climb even in emergency RTH (`navConfig()->general.flags.rth_climb_ignore_emerg`)",
                    "units": "Boolean"
                },
                {
                    "name": "rthTailFirst",
                    "ctype": "uint8_t",
                    "desc": "Flag: Return tail-first during RTH (`navConfig()->general.flags.rth_tail_first`)",
                    "units": "Boolean"
                },
                {
                    "name": "rthAllowLanding",
                    "ctype": "uint8_t",
                    "desc": "Flag: Allow automatic landing after RTH (`navConfig()->general.flags.rth_allow_landing`)",
                    "units": "Boolean"
                },
                {
                    "name": "rthAltControlMode",
                    "ctype": "uint8_t",
                    "desc": "RTH altitude control mode (`navConfig()->general.flags.rth_alt_control_mode`). WARNING: uses unnamed enum in navigation.h:253 'NAV_RTH_NO_ALT...'",
                    "units": "Enum",
                    "enum": "navRthAltControlMode_e"
                },
                {
                    "name": "rthAbortThreshold",
                    "ctype": "uint16_t",
                    "desc": "Distance increase threshold to abort RTH (`navConfig()->general.rth_abort_threshold`)",
                    "units": "cm"
                },
                {
                    "name": "rthAltitude",
                    "ctype": "uint16_t",
                    "desc": "Target RTH altitude (`navConfig()->general.rth_altitude`)",
                    "units": "cm"
                },
                {
                    "name": "landMinAltVspd",
                    "ctype": "uint16_t",
                    "desc": "Landing vertical speed at minimum slowdown altitude (`navConfig()->general.land_minalt_vspd`)",
                    "units": "cm/s"
                },
                {
                    "name": "landMaxAltVspd",
                    "ctype": "uint16_t",
                    "desc": "Landing vertical speed at maximum slowdown altitude (`navConfig()->general.land_maxalt_vspd`)",
                    "units": "cm/s"
                },
                {
                    "name": "landSlowdownMinAlt",
                    "ctype": "uint16_t",
                    "desc": "Altitude below which `landMinAltVspd` applies (`navConfig()->general.land_slowdown_minalt`)",
                    "units": "cm"
                },
                {
                    "name": "landSlowdownMaxAlt",
                    "ctype": "uint16_t",
                    "desc": "Altitude above which `landMaxAltVspd` applies (`navConfig()->general.land_slowdown_maxalt`)",
                    "units": "cm"
                },
                {
                    "name": "emergDescentRate",
                    "ctype": "uint16_t",
                    "desc": "Vertical speed during emergency landing descent (`navConfig()->general.emerg_descent_rate`)",
                    "units": "cm/s"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves configuration parameters related to Return-to-Home (RTH) and automatic landing behaviors."
    },
    "MSP_SET_RTH_AND_LAND_CONFIG": {
        "code": 22,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "minRthDistance",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.min_rth_distance`.",
                    "units": "cm"
                },
                {
                    "name": "rthClimbFirst",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_climb_first`.",
                    "units": "Boolean"
                },
                {
                    "name": "rthClimbIgnoreEmerg",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_climb_ignore_emerg`.",
                    "units": "Boolean"
                },
                {
                    "name": "rthTailFirst",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_tail_first`.",
                    "units": "Boolean"
                },
                {
                    "name": "rthAllowLanding",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_allow_landing`.",
                    "units": "Boolean"
                },
                {
                    "name": "rthAltControlMode",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->general.flags.rth_alt_control_mode`. WARNING: uses unnamed enum in navigation.h:253",
                    "units": "Enum",
                    "enum": "navRthAltControlMode_e"
                },
                {
                    "name": "rthAbortThreshold",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.rth_abort_threshold`.",
                    "units": "cm"
                },
                {
                    "name": "rthAltitude",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.rth_altitude`.",
                    "units": "cm"
                },
                {
                    "name": "landMinAltVspd",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.land_minalt_vspd`.",
                    "units": "cm/s"
                },
                {
                    "name": "landMaxAltVspd",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.land_maxalt_vspd`.",
                    "units": "cm/s"
                },
                {
                    "name": "landSlowdownMinAlt",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.land_slowdown_minalt`.",
                    "units": "cm"
                },
                {
                    "name": "landSlowdownMaxAlt",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.land_slowdown_maxalt`.",
                    "units": "cm"
                },
                {
                    "name": "emergDescentRate",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->general.emerg_descent_rate`.",
                    "units": "cm/s"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 21 bytes.",
        "description": "Sets configuration parameters related to Return-to-Home (RTH) and automatic landing behaviors."
    },
    "MSP_FW_CONFIG": {
        "code": 23,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "cruiseThrottle",
                    "ctype": "uint16_t",
                    "desc": "Cruise throttle command (`currentBatteryProfile->nav.fw.cruise_throttle`).",
                    "units": "PWM"
                },
                {
                    "name": "minThrottle",
                    "ctype": "uint16_t",
                    "desc": "Minimum throttle during autonomous flight (`currentBatteryProfile->nav.fw.min_throttle`).",
                    "units": "PWM"
                },
                {
                    "name": "maxThrottle",
                    "ctype": "uint16_t",
                    "desc": "Maximum throttle during autonomous flight (`currentBatteryProfile->nav.fw.max_throttle`).",
                    "units": "PWM"
                },
                {
                    "name": "maxBankAngle",
                    "ctype": "uint8_t",
                    "desc": "Maximum bank angle allowed (`navConfig()->fw.max_bank_angle`)",
                    "units": "degrees"
                },
                {
                    "name": "maxClimbAngle",
                    "ctype": "uint8_t",
                    "desc": "Maximum pitch angle during climb (`navConfig()->fw.max_climb_angle`)",
                    "units": "degrees"
                },
                {
                    "name": "maxDiveAngle",
                    "ctype": "uint8_t",
                    "desc": "Maximum negative pitch angle during descent (`navConfig()->fw.max_dive_angle`)",
                    "units": "degrees"
                },
                {
                    "name": "pitchToThrottle",
                    "ctype": "uint8_t",
                    "desc": "Pitch-to-throttle gain (`currentBatteryProfile->nav.fw.pitch_to_throttle`); PWM microseconds per degree (10 units ≈ 1% throttle).",
                    "units": "us/deg"
                },
                {
                    "name": "loiterRadius",
                    "ctype": "uint16_t",
                    "desc": "Default loiter radius (`navConfig()->fw.loiter_radius`).",
                    "units": "cm"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves configuration parameters specific to Fixed Wing navigation."
    },
    "MSP_SET_FW_CONFIG": {
        "code": 24,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "cruiseThrottle",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->nav.fw.cruise_throttle`.",
                    "units": "PWM"
                },
                {
                    "name": "minThrottle",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->nav.fw.min_throttle`.",
                    "units": "PWM"
                },
                {
                    "name": "maxThrottle",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->nav.fw.max_throttle`.",
                    "units": "PWM"
                },
                {
                    "name": "maxBankAngle",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->fw.max_bank_angle`.",
                    "units": "degrees"
                },
                {
                    "name": "maxClimbAngle",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->fw.max_climb_angle`.",
                    "units": "degrees"
                },
                {
                    "name": "maxDiveAngle",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->fw.max_dive_angle`.",
                    "units": "degrees"
                },
                {
                    "name": "pitchToThrottle",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentBatteryProfileMutable->nav.fw.pitch_to_throttle` (PWM microseconds per degree; 10 units ≈ 1% throttle).",
                    "units": "us/deg"
                },
                {
                    "name": "loiterRadius",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->fw.loiter_radius`.",
                    "units": "cm"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 12 bytes.",
        "description": "Sets configuration parameters specific to Fixed Wing navigation."
    },
    "MSP_MODE_RANGES": {
        "code": 34,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "modePermanentId",
                    "ctype": "uint8_t",
                    "desc": "Permanent ID of the flight mode (maps to `boxId` via `findBoxByActiveBoxId`). 0 if entry unused",
                    "units": "ID"
                },
                {
                    "name": "auxChannelIndex",
                    "ctype": "uint8_t",
                    "desc": "0-based index of the AUX channel used for activation",
                    "units": "Index"
                },
                {
                    "name": "rangeStartStep",
                    "ctype": "uint8_t",
                    "desc": "Start step (0-48). Each step is 25 PWM units; 0 is <=900 and 48 is >=2100.",
                    "units": "step"
                },
                {
                    "name": "rangeEndStep",
                    "ctype": "uint8_t",
                    "desc": "End step (0-48). Uses the same 25-PWM step mapping as rangeStartStep.",
                    "units": "step"
                }
            ],
            "repeating": "MAX_MODE_ACTIVATION_CONDITION_COUNT"
        },
        "notes": "The number of steps and mapping to PWM values depends on internal range calculations.",
        "description": "Returns all defined mode activation ranges (aux channel assignments for flight modes)."
    },
    "MSP_SET_MODE_RANGE": {
        "code": 35,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "rangeIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the mode range to set (0 to `MAX_MODE_ACTIVATION_CONDITION_COUNT - 1`)",
                    "units": "Index"
                },
                {
                    "name": "modePermanentId",
                    "ctype": "uint8_t",
                    "desc": "Permanent ID of the flight mode to assign",
                    "units": "ID"
                },
                {
                    "name": "auxChannelIndex",
                    "ctype": "uint8_t",
                    "desc": "0-based index of the AUX channel",
                    "units": "Index"
                },
                {
                    "name": "rangeStartStep",
                    "ctype": "uint8_t",
                    "desc": "Start step (0-48). Each step is 25 PWM units; 0 is <=900 and 48 is >=2100.",
                    "units": "step"
                },
                {
                    "name": "rangeEndStep",
                    "ctype": "uint8_t",
                    "desc": "End step (0-48). Uses the same 25-PWM step mapping as rangeStartStep.",
                    "units": "step"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 5 bytes. Updates the mode configuration and recalculates used mode flags. Returns error if `rangeIndex` or `modePermanentId` is invalid.",
        "description": "Sets a single mode activation range by its index."
    },
    "MSP_FEATURE": {
        "code": 36,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "featureMask",
                    "ctype": "uint32_t",
                    "desc": "Bitmask: active features (see `featureMask()`)",
                    "units": "Bitmask",
                    "bitmask": true
                }
            ]
        },
        "notes": "Feature bits are defined in `feature.h`.",
        "description": "Returns a bitmask of enabled features."
    },
    "MSP_SET_FEATURE": {
        "code": 37,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "featureMask",
                    "ctype": "uint32_t",
                    "desc": "Bitmask: features to enable",
                    "units": "Bitmask",
                    "bitmask": true
                }
            ]
        },
        "reply": null,
        "notes": "Expects 4 bytes. Updates feature configuration and related settings (e.g., RSSI source).",
        "description": "Sets the enabled features using a bitmask. Clears all previous features first."
    },
    "MSP_BOARD_ALIGNMENT": {
        "code": 38,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "rollAlign",
                    "ctype": "int16_t",
                    "desc": "Board alignment roll angle (`boardAlignment()->rollDeciDegrees`). Negative values tilt left.",
                    "units": "deci-degrees"
                },
                {
                    "name": "pitchAlign",
                    "ctype": "int16_t",
                    "desc": "Board alignment pitch angle (`boardAlignment()->pitchDeciDegrees`). Negative values nose down.",
                    "units": "deci-degrees"
                },
                {
                    "name": "yawAlign",
                    "ctype": "int16_t",
                    "desc": "Board alignment yaw angle (`boardAlignment()->yawDeciDegrees`). Negative values rotate counter-clockwise.",
                    "units": "deci-degrees"
                }
            ]
        },
        "notes": "Ranges are typically -1800 to +1800 (i.e. -180.0° to +180.0°).",
        "description": "Returns the sensor board alignment angles relative to the craft frame."
    },
    "MSP_SET_BOARD_ALIGNMENT": {
        "code": 39,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "rollAlign",
                    "ctype": "int16_t",
                    "desc": "Sets `boardAlignmentMutable()->rollDeciDegrees`.",
                    "units": "deci-degrees"
                },
                {
                    "name": "pitchAlign",
                    "ctype": "int16_t",
                    "desc": "Sets `boardAlignmentMutable()->pitchDeciDegrees`.",
                    "units": "deci-degrees"
                },
                {
                    "name": "yawAlign",
                    "ctype": "int16_t",
                    "desc": "Sets `boardAlignmentMutable()->yawDeciDegrees`.",
                    "units": "deci-degrees"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 6 bytes encoded as little-endian signed deci-degrees (-1800 to +1800 typical).",
        "description": "Sets the sensor board alignment angles."
    },
    "MSP_CURRENT_METER_CONFIG": {
        "code": 40,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "scale",
                    "ctype": "int16_t",
                    "desc": "Current sensor scale factor (`batteryMetersConfig()->current.scale`). Stored in 0.1 mV/A; signed for calibration.",
                    "units": "0.1 mV/A"
                },
                {
                    "name": "offset",
                    "ctype": "int16_t",
                    "desc": "Current sensor offset (`batteryMetersConfig()->current.offset`). Signed millivolt adjustment.",
                    "units": "mV"
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "desc": "Enum `currentSensor_e` Type of current sensor hardware",
                    "units": "Enum",
                    "enum": "currentSensor_e"
                },
                {
                    "name": "capacity",
                    "ctype": "uint16_t",
                    "desc": "Battery capacity (constrained 0-65535) (`currentBatteryProfile->capacity.value`). Note: This is legacy, use `MSP2_INAV_BATTERY_CONFIG` for full 32-bit capacity",
                    "units": "mAh (legacy)"
                }
            ]
        },
        "notes": "Scale and offset are signed values matching `batteryMetersConfig()->current` fields.",
        "description": "Retrieves the configuration for the current sensor."
    },
    "MSP_SET_CURRENT_METER_CONFIG": {
        "code": 41,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "scale",
                    "ctype": "int16_t",
                    "desc": "Sets `batteryMetersConfigMutable()->current.scale` (0.1 mV/A, signed).",
                    "units": "0.1 mV/A"
                },
                {
                    "name": "offset",
                    "ctype": "int16_t",
                    "desc": "Sets `batteryMetersConfigMutable()->current.offset` (signed millivolts).",
                    "units": "mV"
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "desc": "Enum `currentSensor_e` Sets `batteryMetersConfigMutable()->current.type`.",
                    "units": "Enum",
                    "enum": "currentSensor_e"
                },
                {
                    "name": "capacity",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.value` (truncated to 16 bits)",
                    "units": "mAh (legacy)"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 7 bytes. Signed values use little-endian two's complement.",
        "description": "Sets the configuration for the current sensor."
    },
    "MSP_MIXER": {
        "code": 42,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "mixerMode",
                    "ctype": "uint8_t",
                    "desc": "Always 3 (QuadX) in INAV for compatibility",
                    "units": "",
                    "value": 3
                }
            ]
        },
        "notes": "This command is largely obsolete. Mixer configuration is handled differently in INAV (presets, custom mixes). See `MSP2_INAV_MIXER`.",
        "description": "Retrieves the mixer type (Legacy, INAV always returns QuadX)."
    },
    "MSP_SET_MIXER": {
        "code": 43,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "mixerMode",
                    "ctype": "uint8_t",
                    "desc": "Mixer mode to set (ignored by INAV)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 1 byte. Calls `mixerUpdateStateFlags()` for potential side effects related to presets.",
        "description": "Sets the mixer type (Legacy, ignored by INAV)."
    },
    "MSP_RX_CONFIG": {
        "code": 44,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "serialRxProvider",
                    "ctype": "uint8_t",
                    "desc": "Enum `rxSerialReceiverType_e`. Serial RX provider (`rxConfig()->serialrx_provider`).",
                    "units": "Enum",
                    "enum": "rxSerialReceiverType_e"
                },
                {
                    "name": "maxCheck",
                    "ctype": "uint16_t",
                    "desc": "Upper channel value threshold for stick commands (`rxConfig()->maxcheck`)",
                    "units": "PWM"
                },
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "desc": "Center channel value (`PWM_RANGE_MIDDLE`, typically 1500)",
                    "units": "PWM"
                },
                {
                    "name": "minCheck",
                    "ctype": "uint16_t",
                    "desc": "Lower channel value threshold for stick commands (`rxConfig()->mincheck`)",
                    "units": "PWM"
                },
                {
                    "name": "spektrumSatBind",
                    "ctype": "uint8_t",
                    "desc": "Spektrum bind pulses (`rxConfig()->spektrum_sat_bind`). 0 if `USE_SPEKTRUM_BIND` disabled.",
                    "units": "Count/Flag"
                },
                {
                    "name": "rxMinUsec",
                    "ctype": "uint16_t",
                    "desc": "Minimum expected pulse width (`rxConfig()->rx_min_usec`)",
                    "units": "PWM"
                },
                {
                    "name": "rxMaxUsec",
                    "ctype": "uint16_t",
                    "desc": "Maximum expected pulse width (`rxConfig()->rx_max_usec`)",
                    "units": "PWM"
                },
                {
                    "name": "bfCompatRcInterpolation",
                    "ctype": "uint8_t",
                    "desc": "BF compatibility. Always 0",
                    "value": 0
                },
                {
                    "name": "bfCompatRcInterpolationInt",
                    "ctype": "uint8_t",
                    "desc": "BF compatibility. Always 0",
                    "value": 0
                },
                {
                    "name": "bfCompatAirModeThreshold",
                    "ctype": "uint16_t",
                    "desc": "BF compatibility. Always 0",
                    "value": 0
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Reserved/Padding. Always 0",
                    "value": 0
                },
                {
                    "name": "reserved2",
                    "ctype": "uint32_t",
                    "desc": "Reserved/Padding. Always 0",
                    "value": 0
                },
                {
                    "name": "reserved3",
                    "ctype": "uint8_t",
                    "desc": "Reserved/Padding. Always 0",
                    "value": 0
                },
                {
                    "name": "bfCompatFpvCamAngle",
                    "ctype": "uint8_t",
                    "desc": "BF compatibility. Always 0",
                    "value": 0
                },
                {
                    "name": "receiverType",
                    "ctype": "uint8_t",
                    "desc": "Enum `rxReceiverType_e` Receiver type (Parallel PWM, PPM, Serial) ('rxConfig()->receiverType')",
                    "units": "Enum",
                    "enum": "rxReceiverType_e"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves receiver configuration settings. Some fields are Betaflight compatibility placeholders."
    },
    "MSP_SET_RX_CONFIG": {
        "code": 45,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "serialRxProvider",
                    "ctype": "uint8_t",
                    "desc": "Enum `rxSerialReceiverType_e`. Sets `rxConfigMutable()->serialrx_provider`.",
                    "units": "Enum",
                    "enum": "rxSerialReceiverType_e"
                },
                {
                    "name": "maxCheck",
                    "ctype": "uint16_t",
                    "desc": "Sets `rxConfigMutable()->maxcheck`.",
                    "units": "PWM"
                },
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "desc": "Ignored (`PWM_RANGE_MIDDLE` is used)",
                    "units": "PWM"
                },
                {
                    "name": "minCheck",
                    "ctype": "uint16_t",
                    "desc": "Sets `rxConfigMutable()->mincheck`.",
                    "units": "PWM"
                },
                {
                    "name": "spektrumSatBind",
                    "ctype": "uint8_t",
                    "desc": "Sets `rxConfigMutable()->spektrum_sat_bind` (if `USE_SPEKTRUM_BIND`).",
                    "units": "Count/Flag"
                },
                {
                    "name": "rxMinUsec",
                    "ctype": "uint16_t",
                    "desc": "Sets `rxConfigMutable()->rx_min_usec`.",
                    "units": "PWM"
                },
                {
                    "name": "rxMaxUsec",
                    "ctype": "uint16_t",
                    "desc": "Sets `rxConfigMutable()->rx_max_usec`.",
                    "units": "PWM"
                },
                {
                    "name": "bfCompatRcInterpolation",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "bfCompatRcInterpolationInt",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "bfCompatAirModeThreshold",
                    "ctype": "uint16_t",
                    "desc": "Ignored"
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "reserved2",
                    "ctype": "uint32_t",
                    "desc": "Ignored"
                },
                {
                    "name": "reserved3",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "bfCompatFpvCamAngle",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "receiverType",
                    "ctype": "uint8_t",
                    "desc": "Enum `rxReceiverType_e` Sets `rxConfigMutable()->receiverType`.",
                    "units": "Enum",
                    "enum": "rxReceiverType_e"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 24 bytes.",
        "description": "Sets receiver configuration settings."
    },
    "MSP_LED_COLORS": {
        "code": 46,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "hue",
                    "ctype": "uint16_t",
                    "desc": "Hue value (0-359)",
                    "units": ""
                },
                {
                    "name": "saturation",
                    "ctype": "uint8_t",
                    "desc": "Saturation value (0-255)",
                    "units": ""
                },
                {
                    "name": "value",
                    "ctype": "uint8_t",
                    "desc": "Value/Brightness (0-255)",
                    "units": ""
                }
            ],
            "repeating": "LED_CONFIGURABLE_COLOR_COUNT"
        },
        "notes": "Only available if `USE_LED_STRIP` is defined.",
        "description": "Retrieves the HSV color definitions for configurable LED colors."
    },
    "MSP_SET_LED_COLORS": {
        "code": 47,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "hue",
                    "ctype": "uint16_t",
                    "desc": "Hue value (0-359)",
                    "units": ""
                },
                {
                    "name": "saturation",
                    "ctype": "uint8_t",
                    "desc": "Saturation value (0-255)",
                    "units": ""
                },
                {
                    "name": "value",
                    "ctype": "uint8_t",
                    "desc": "Value/Brightness (0-255)",
                    "units": ""
                }
            ],
            "repeating": "LED_CONFIGURABLE_COLOR_COUNT"
        },
        "reply": null,
        "notes": "Only available if `USE_LED_STRIP` is defined. Expects `LED_CONFIGURABLE_COLOR_COUNT * 4` bytes.",
        "description": "Sets the HSV color definitions for configurable LED colors."
    },
    "MSP_LED_STRIP_CONFIG": {
        "code": 48,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "legacyLedConfig",
                    "ctype": "uint32_t",
                    "desc": "Packed LED configuration (position, function, overlay, color, direction, params). See C code for bit packing details",
                    "units": ""
                }
            ],
            "repeating": "LED_MAX_STRIP_LENGTH"
        },
        "variable_len": "LED_MAX_STRIP_LENGTH",
        "notes": "Only available if `USE_LED_STRIP` is defined. Superseded by `MSP2_INAV_LED_STRIP_CONFIG_EX` which uses a clearer struct.",
        "description": "Retrieves the configuration for each LED on the strip (legacy packed format)."
    },
    "MSP_SET_LED_STRIP_CONFIG": {
        "code": 49,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "ledIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the LED to configure (0 to `LED_MAX_STRIP_LENGTH - 1`)",
                    "units": ""
                },
                {
                    "name": "legacyLedConfig",
                    "ctype": "uint32_t",
                    "desc": "Packed LED configuration to set",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Only available if `USE_LED_STRIP` is defined. Expects 5 bytes. Calls `reevaluateLedConfig()`. Superseded by `MSP2_INAV_SET_LED_STRIP_CONFIG_EX`.",
        "description": "Sets the configuration for a single LED on the strip using the legacy packed format."
    },
    "MSP_RSSI_CONFIG": {
        "code": 50,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "desc": "AUX channel index (1-based) used for RSSI, or 0 if disabled (`rxConfig()->rssi_channel`)",
                    "units": ""
                }
            ]
        },
        "notes": "",
        "description": "Retrieves the channel used for analog RSSI input."
    },
    "MSP_SET_RSSI_CONFIG": {
        "code": 51,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "desc": "AUX channel index (1-based) to use for RSSI, or 0 to disable",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 1 byte. Input value is constrained 0 to `MAX_SUPPORTED_RC_CHANNEL_COUNT`. Updates the effective RSSI source.",
        "description": "Sets the channel used for analog RSSI input."
    },
    "MSP_ADJUSTMENT_RANGES": {
        "code": 52,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "adjustmentIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the adjustment slot (0 to `MAX_SIMULTANEOUS_ADJUSTMENT_COUNT - 1`)",
                    "units": ""
                },
                {
                    "name": "auxChannelIndex",
                    "ctype": "uint8_t",
                    "desc": "0-based index of the AUX channel controlling the adjustment value",
                    "units": ""
                },
                {
                    "name": "rangeStartStep",
                    "ctype": "uint8_t",
                    "desc": "Start step (0-48). Each step is 25 PWM units; 0 is <=900 and 48 is >=2100.",
                    "units": "step"
                },
                {
                    "name": "rangeEndStep",
                    "ctype": "uint8_t",
                    "desc": "End step (0-48). Uses the same 25-PWM step mapping as rangeStartStep.",
                    "units": "step"
                },
                {
                    "name": "adjustmentFunction",
                    "ctype": "uint8_t",
                    "desc": "Function/parameter being adjusted (see `adjustmentFunction_e`).",
                    "units": "",
                    "enum": "adjustmentFunction_e"
                },
                {
                    "name": "auxSwitchChannelIndex",
                    "ctype": "uint8_t",
                    "desc": "0-based index of the AUX channel acting as an enable switch (or 0 if always enabled)",
                    "units": ""
                }
            ],
            "repeating": "MAX_ADJUSTMENT_RANGE_COUNT"
        },
        "notes": "See `adjustmentRange_t`.",
        "description": "Returns all defined RC adjustment ranges (tuning via aux channels)."
    },
    "MSP_SET_ADJUSTMENT_RANGE": {
        "code": 53,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "rangeIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the adjustment range to set (0 to `MAX_ADJUSTMENT_RANGE_COUNT - 1`)",
                    "units": ""
                },
                {
                    "name": "adjustmentIndex",
                    "ctype": "uint8_t",
                    "desc": "Adjustment slot index (0 to `MAX_SIMULTANEOUS_ADJUSTMENT_COUNT - 1`)",
                    "units": ""
                },
                {
                    "name": "auxChannelIndex",
                    "ctype": "uint8_t",
                    "desc": "0-based index of the control AUX channel",
                    "units": ""
                },
                {
                    "name": "rangeStartStep",
                    "ctype": "uint8_t",
                    "desc": "Start step (0-48). Each step is 25 PWM units; 0 is <=900 and 48 is >=2100.",
                    "units": "step"
                },
                {
                    "name": "rangeEndStep",
                    "ctype": "uint8_t",
                    "desc": "End step (0-48). Uses the same 25-PWM step mapping as rangeStartStep.",
                    "units": "step"
                },
                {
                    "name": "adjustmentFunction",
                    "ctype": "uint8_t",
                    "desc": "Function/parameter being adjusted.",
                    "units": "",
                    "enum": "adjustmentFunction_e"
                },
                {
                    "name": "auxSwitchChannelIndex",
                    "ctype": "uint8_t",
                    "desc": "0-based index of the enable switch AUX channel (or 0)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 7 bytes. Returns error if `rangeIndex` or `adjustmentIndex` is invalid.",
        "description": "Sets a single RC adjustment range configuration by its index."
    },
    "MSP_CF_SERIAL_CONFIG": {
        "code": 54,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`. Use `MSP2_COMMON_SERIAL_CONFIG`.",
        "description": "Deprecated command to get serial port configuration."
    },
    "MSP_SET_CF_SERIAL_CONFIG": {
        "code": 55,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`. Use `MSP2_COMMON_SET_SERIAL_CONFIG`.",
        "description": "Deprecated command to set serial port configuration."
    },
    "MSP_VOLTAGE_METER_CONFIG": {
        "code": 56,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "vbatScale",
                    "ctype": "uint8_t",
                    "desc": "Voltage sensor scale factor / 10 (`batteryMetersConfig()->voltage.scale / 10`). 0 if `USE_ADC` disabled",
                    "units": "Scale / 10"
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint8_t",
                    "desc": "Minimum cell voltage / 10 (`currentBatteryProfile->voltage.cellMin / 10`). 0 if `USE_ADC` disabled",
                    "units": "0.1V"
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint8_t",
                    "desc": "Maximum cell voltage / 10 (`currentBatteryProfile->voltage.cellMax / 10`). 0 if `USE_ADC` disabled",
                    "units": "0.1V"
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint8_t",
                    "desc": "Warning cell voltage / 10 (`currentBatteryProfile->voltage.cellWarning / 10`). 0 if `USE_ADC` disabled",
                    "units": "0.1V"
                }
            ]
        },
        "notes": "Superseded by `MSP2_INAV_BATTERY_CONFIG`.",
        "description": "Retrieves legacy voltage meter configuration (scaled values)."
    },
    "MSP_SET_VOLTAGE_METER_CONFIG": {
        "code": 57,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "vbatScale",
                    "ctype": "uint8_t",
                    "desc": "Sets `batteryMetersConfigMutable()->voltage.scale = value * 10` (if `USE_ADC`)",
                    "units": "Scale / 10"
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMin = value * 10` (if `USE_ADC`)",
                    "units": "0.1V"
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMax = value * 10` (if `USE_ADC`)",
                    "units": "0.1V"
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellWarning = value * 10` (if `USE_ADC`)",
                    "units": "0.1V"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 4 bytes. Superseded by `MSP2_INAV_SET_BATTERY_CONFIG`.",
        "description": "Sets legacy voltage meter configuration (scaled values)."
    },
    "MSP_SONAR_ALTITUDE": {
        "code": 58,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "rangefinderAltitude",
                    "ctype": "int32_t",
                    "desc": "Latest altitude reading from the rangefinder (`rangefinderGetLatestAltitude()`). 0 if `USE_RANGEFINDER` disabled or no reading.",
                    "units": "cm"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves the altitude measured by the primary rangefinder (sonar or lidar)."
    },
    "MSP_RX_MAP": {
        "code": 64,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "rcMap",
                    "desc": "Array defining the mapping from input channel index to logical function (Roll, Pitch, Yaw, Throttle, Aux1...)",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 4,
                    "array_size_define": "MAX_MAPPABLE_RX_INPUTS",
                    "units": ""
                }
            ]
        },
        "notes": "`MAX_MAPPABLE_RX_INPUTS` is currently 4 (Roll, Pitch, Yaw, Throttle).",
        "description": "Retrieves the RC channel mapping array (AETR, etc.)."
    },
    "MSP_SET_RX_MAP": {
        "code": 65,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "rcMap",
                    "desc": "Array defining the new channel mapping",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 4,
                    "array_size_define": "MAX_MAPPABLE_RX_INPUTS",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects `MAX_MAPPABLE_RX_INPUTS` bytes (currently 4).",
        "description": "Sets the RC channel mapping array."
    },
    "MSP_REBOOT": {
        "code": 68,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "The FC sends an ACK *before* rebooting. The `mspPostProcessFn` is set to `mspRebootFn` to perform the reboot after the reply is sent. Will fail if the craft is armed.",
        "description": "Commands the flight controller to reboot."
    },
    "MSP_DATAFLASH_SUMMARY": {
        "code": 70,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "flashReady",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if flash chip is ready, 0 otherwise. (`flashIsReady()`). 0 if `USE_FLASHFS` disabled",
                    "units": ""
                },
                {
                    "name": "sectorCount",
                    "ctype": "uint32_t",
                    "desc": "Total number of sectors on the flash chip (`geometry->sectors`). 0 if `USE_FLASHFS` disabled",
                    "units": ""
                },
                {
                    "name": "totalSize",
                    "ctype": "uint32_t",
                    "desc": "Total size of the flash chip in bytes (`geometry->totalSize`). 0 if `USE_FLASHFS` disabled",
                    "units": ""
                },
                {
                    "name": "usedSize",
                    "ctype": "uint32_t",
                    "desc": "Currently used size in bytes (FlashFS offset) (`flashfsGetOffset()`). 0 if `USE_FLASHFS` disabled",
                    "units": ""
                }
            ]
        },
        "notes": "Requires `USE_FLASHFS`.",
        "description": "Retrieves summary information about the onboard dataflash chip (if present and used for Blackbox via FlashFS)."
    },
    "MSP_DATAFLASH_READ": {
        "code": 71,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "address",
                    "ctype": "uint32_t",
                    "desc": "Starting address to read from within the FlashFS volume",
                    "units": ""
                },
                {
                    "name": "size",
                    "ctype": "uint16_t",
                    "desc": "(Optional) Number of bytes to read. Defaults to 128 if not provided",
                    "units": "",
                    "optional": true
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "address",
                    "ctype": "uint32_t",
                    "desc": "The starting address from which data was actually read",
                    "units": ""
                },
                {
                    "name": "data",
                    "desc": "The data read from flash. Length is MIN(requested size, remaining buffer space, remaining flashfs data)",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Requires `USE_FLASHFS`. Read length may be truncated by buffer size or end of flashfs volume.",
        "description": "Reads a block of data from the onboard dataflash (FlashFS)."
    },
    "MSP_DATAFLASH_ERASE": {
        "code": 72,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "Requires `USE_FLASHFS`. This is a potentially long operation. Use with caution.",
        "description": "Erases the entire onboard dataflash chip (FlashFS volume)."
    },
    "MSP_LOOP_TIME": {
        "code": 73,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "looptime",
                    "ctype": "uint16_t",
                    "desc": "Configured loop time (`gyroConfig()->looptime`)",
                    "units": "PWM"
                }
            ]
        },
        "notes": "This is the *configured* target loop time, not necessarily the *actual* measured cycle time (see `MSP_STATUS`).",
        "description": "Retrieves the configured loop time (PID loop frequency denominator)."
    },
    "MSP_SET_LOOP_TIME": {
        "code": 74,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "looptime",
                    "ctype": "uint16_t",
                    "desc": "New loop time to set (`gyroConfigMutable()->looptime`)",
                    "units": "PWM"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 2 bytes.",
        "description": "Sets the configured loop time."
    },
    "MSP_FAILSAFE_CONFIG": {
        "code": 75,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "failsafeDelay",
                    "ctype": "uint8_t",
                    "desc": "Delay before failsafe stage 1 activates (`failsafeConfig()->failsafe_delay`)",
                    "units": "0.1s"
                },
                {
                    "name": "failsafeOffDelay",
                    "ctype": "uint8_t",
                    "desc": "Delay after signal recovery before returning control (`failsafeConfig()->failsafe_off_delay`)",
                    "units": "0.1s"
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "desc": "Throttle level during failsafe stage 2 (`currentBatteryProfile->failsafe_throttle`)",
                    "units": "PWM"
                },
                {
                    "name": "legacyKillSwitch",
                    "ctype": "uint8_t",
                    "desc": "Legacy flag, always 0",
                    "value": 0
                },
                {
                    "name": "failsafeThrottleLowDelay",
                    "ctype": "uint16_t",
                    "desc": "Delay for throttle-based failsafe detection (`failsafeConfig()->failsafe_throttle_low_delay`). Units of 0.1 seconds.",
                    "units": "0.1s"
                },
                {
                    "name": "failsafeProcedure",
                    "ctype": "uint8_t",
                    "desc": "Enum `failsafeProcedure_e` Failsafe procedure (Drop, RTH, Land, etc.) ('failsafeConfig()->failsafe_procedure')",
                    "units": "Enum",
                    "enum": "failsafeProcedure_e"
                },
                {
                    "name": "failsafeRecoveryDelay",
                    "ctype": "uint8_t",
                    "desc": "Delay after RTH finishes before attempting recovery (`failsafeConfig()->failsafe_recovery_delay`)",
                    "units": "0.1s"
                },
                {
                    "name": "failsafeFWRollAngle",
                    "ctype": "int16_t",
                    "desc": "Fixed-wing failsafe roll angle (`failsafeConfig()->failsafe_fw_roll_angle`). Signed deci-degrees.",
                    "units": "deci-degrees"
                },
                {
                    "name": "failsafeFWPitchAngle",
                    "ctype": "int16_t",
                    "desc": "Fixed-wing failsafe pitch angle (`failsafeConfig()->failsafe_fw_pitch_angle`). Signed deci-degrees.",
                    "units": "deci-degrees"
                },
                {
                    "name": "failsafeFWYawRate",
                    "ctype": "int16_t",
                    "desc": "Fixed-wing failsafe yaw rate (`failsafeConfig()->failsafe_fw_yaw_rate`). Signed degrees per second.",
                    "units": "deg/s"
                },
                {
                    "name": "failsafeStickThreshold",
                    "ctype": "uint16_t",
                    "desc": "Stick movement threshold to exit failsafe (`failsafeConfig()->failsafe_stick_motion_threshold`)",
                    "units": "PWM units"
                },
                {
                    "name": "failsafeMinDistance",
                    "ctype": "uint16_t",
                    "desc": "Minimum distance from home for RTH failsafe (`failsafeConfig()->failsafe_min_distance`). Units of centimeters.",
                    "units": "cm"
                },
                {
                    "name": "failsafeMinDistanceProc",
                    "ctype": "uint8_t",
                    "desc": "Enum `failsafeProcedure_e` Failsafe procedure if below min distance ('failsafeConfig()->failsafe_min_distance_procedure')",
                    "units": "Enum",
                    "enum": "failsafeProcedure_e"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves the failsafe configuration settings."
    },
    "MSP_SET_FAILSAFE_CONFIG": {
        "code": 76,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "failsafeDelay",
                    "ctype": "uint8_t",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_delay`.",
                    "units": "0.1s"
                },
                {
                    "name": "failsafeOffDelay",
                    "ctype": "uint8_t",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_off_delay`.",
                    "units": "0.1s"
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->failsafe_throttle`.",
                    "units": "PWM"
                },
                {
                    "name": "legacyKillSwitch",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "failsafeThrottleLowDelay",
                    "ctype": "uint16_t",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_throttle_low_delay`. Units of 0.1 seconds.",
                    "units": "0.1s"
                },
                {
                    "name": "failsafeProcedure",
                    "ctype": "uint8_t",
                    "desc": "Enum `failsafeProcedure_e`. Sets `failsafeConfigMutable()->failsafe_procedure`.",
                    "units": "Enum",
                    "enum": "failsafeProcedure_e"
                },
                {
                    "name": "failsafeRecoveryDelay",
                    "ctype": "uint8_t",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_recovery_delay`.",
                    "units": "0.1s"
                },
                {
                    "name": "failsafeFWRollAngle",
                    "ctype": "int16_t",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_fw_roll_angle`. Signed deci-degrees.",
                    "units": "deci-degrees"
                },
                {
                    "name": "failsafeFWPitchAngle",
                    "ctype": "int16_t",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_fw_pitch_angle`. Signed deci-degrees.",
                    "units": "deci-degrees"
                },
                {
                    "name": "failsafeFWYawRate",
                    "ctype": "int16_t",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_fw_yaw_rate`. Signed degrees per second.",
                    "units": "deg/s"
                },
                {
                    "name": "failsafeStickThreshold",
                    "ctype": "uint16_t",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_stick_motion_threshold`.",
                    "units": "PWM units"
                },
                {
                    "name": "failsafeMinDistance",
                    "ctype": "uint16_t",
                    "desc": "Sets `failsafeConfigMutable()->failsafe_min_distance`. Units of centimeters.",
                    "units": "cm"
                },
                {
                    "name": "failsafeMinDistanceProc",
                    "ctype": "uint8_t",
                    "desc": "Enum `failsafeProcedure_e`. Sets `failsafeConfigMutable()->failsafe_min_distance_procedure`.",
                    "units": "Enum",
                    "enum": "failsafeProcedure_e"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 20 bytes.",
        "description": "Sets the failsafe configuration settings."
    },
    "MSP_SDCARD_SUMMARY": {
        "code": 79,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "sdCardSupported",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Bit 0 = 1 if SD card support compiled in (`USE_SDCARD`)",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "sdCardState",
                    "ctype": "uint8_t",
                    "desc": "Enum (`mspSDCardState_e`): Current state (Not Present, Fatal, Card Init, FS Init, Ready). 0 if `USE_SDCARD` disabled",
                    "units": "",
                    "enum": "mspSDCardState_e"
                },
                {
                    "name": "fsError",
                    "ctype": "uint8_t",
                    "desc": "Last filesystem error code (`afatfs_getLastError()`). 0 if `USE_SDCARD` disabled",
                    "units": ""
                },
                {
                    "name": "freeSpaceKB",
                    "ctype": "uint32_t",
                    "desc": "Free space in KiB (`afatfs_getContiguousFreeSpace() / 1024`). 0 if `USE_SDCARD` disabled",
                    "units": ""
                },
                {
                    "name": "totalSpaceKB",
                    "ctype": "uint32_t",
                    "desc": "Total space in KiB (`sdcard_getMetadata()->numBlocks / 2`). 0 if `USE_SDCARD` disabled",
                    "units": ""
                }
            ]
        },
        "notes": "Requires `USE_SDCARD` and `USE_ASYNCFATFS`.",
        "description": "Retrieves summary information about the SD card status and filesystem."
    },
    "MSP_BLACKBOX_CONFIG": {
        "code": 80,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "blackboxDevice",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (API no longer supported)",
                    "units": "",
                    "value": 0
                },
                {
                    "name": "blackboxRateNum",
                    "ctype": "uint8_t",
                    "desc": "Always 0",
                    "units": "",
                    "value": 0
                },
                {
                    "name": "blackboxRateDenom",
                    "ctype": "uint8_t",
                    "desc": "Always 0",
                    "units": "",
                    "value": 0
                },
                {
                    "name": "blackboxPDenom",
                    "ctype": "uint8_t",
                    "desc": "Always 0",
                    "units": "",
                    "value": 0
                }
            ]
        },
        "notes": "Returns fixed zero values. Use `MSP2_BLACKBOX_CONFIG`.",
        "description": "Legacy command to retrieve Blackbox configuration. Superseded by `MSP2_BLACKBOX_CONFIG`."
    },
    "MSP_SET_BLACKBOX_CONFIG": {
        "code": 81,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in `fc_msp.c`. Use `MSP2_SET_BLACKBOX_CONFIG`.",
        "description": "Legacy command to set Blackbox configuration. Superseded by `MSP2_SET_BLACKBOX_CONFIG`."
    },
    "MSP_TRANSPONDER_CONFIG": {
        "code": 82,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Get VTX Transponder settings (likely specific to RaceFlight/Betaflight, not standard INAV VTX)."
    },
    "MSP_SET_TRANSPONDER_CONFIG": {
        "code": 83,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Set VTX Transponder settings."
    },
    "MSP_OSD_CONFIG": {
        "code": 84,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "osdDriverType",
                    "ctype": "uint8_t",
                    "desc": "Enum `osdDriver_e`: `OSD_DRIVER_MAX7456` if `USE_OSD`, else `OSD_DRIVER_NONE`.",
                    "units": "Enum",
                    "enum": "osdDriver_e"
                },
                {
                    "name": "videoSystem",
                    "ctype": "uint8_t",
                    "desc": "Enum `videoSystem_e`: Video system (Auto/PAL/NTSC) (`osdConfig()->video_system`). Sent even if OSD disabled",
                    "units": "Enum",
                    "enum": "videoSystem_e"
                },
                {
                    "name": "units",
                    "ctype": "uint8_t",
                    "desc": "Enum `osd_unit_e` Measurement units (Metric/Imperial) (`osdConfig()->units`). Sent even if OSD disabled",
                    "units": "Enum",
                    "enum": "osd_unit_e"
                },
                {
                    "name": "rssiAlarm",
                    "ctype": "uint8_t",
                    "desc": "RSSI alarm threshold (`osdConfig()->rssi_alarm`). Sent even if OSD disabled",
                    "units": "%"
                },
                {
                    "name": "capAlarm",
                    "ctype": "uint16_t",
                    "desc": "Capacity alarm threshold (`currentBatteryProfile->capacity.warning`). Truncated to 16 bits. Sent even if OSD disabled.",
                    "units": "mAh/mWh"
                },
                {
                    "name": "timerAlarm",
                    "ctype": "uint16_t",
                    "desc": "Timer alarm threshold in minutes (`osdConfig()->time_alarm`). Sent even if OSD disabled.",
                    "units": "minutes"
                },
                {
                    "name": "altAlarm",
                    "ctype": "uint16_t",
                    "desc": "Altitude alarm threshold (`osdConfig()->alt_alarm`). Sent even if OSD disabled",
                    "units": "meters"
                },
                {
                    "name": "distAlarm",
                    "ctype": "uint16_t",
                    "desc": "Distance alarm threshold (`osdConfig()->dist_alarm`). Sent even if OSD disabled",
                    "units": "meters"
                },
                {
                    "name": "negAltAlarm",
                    "ctype": "uint16_t",
                    "desc": "Negative altitude alarm threshold (`osdConfig()->neg_alt_alarm`). Sent even if OSD disabled",
                    "units": "meters"
                },
                {
                    "name": "itemPositions",
                    "desc": "Packed X/Y position for each OSD item on screen 0 (`osdLayoutsConfig()->item_pos[0][i]`). Sent even if OSD disabled",
                    "ctype": "uint16_t",
                    "array": true,
                    "array_size": 0,
                    "array_size_define": "OSD_ITEM_COUNT",
                    "units": "packed"
                }
            ]
        },
        "variable_len": true,
        "notes": "1 byte if `USE_OSD` disabled; full payload (1 + fields + 2*OSD_ITEM_COUNT bytes) otherwise.",
        "description": "Retrieves OSD configuration settings and layout for screen 0. Coordinates are packed as `(Y << 8) | X`. When `USE_OSD` is not compiled in, only `osdDriverType` = `OSD_DRIVER_NONE` is returned."
    },
    "MSP_SET_OSD_CONFIG": {
        "code": 85,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "Requires `USE_OSD`. Distinguishes formats based on the first byte. Format 1 requires at least 10 bytes. Format 2 requires 3 bytes. Triggers an OSD redraw. See `MSP2_INAV_OSD_SET_*` for more advanced control.",
        "description": "Sets OSD configuration or a single item's position on screen 0.",
        "variants": {
            "dataSize >= 10": {
                "description": "dataSize >= 10",
                "request": {
                    "payload": [
                        {
                            "name": "selector",
                            "ctype": "uint8_t",
                            "desc": "Must be 0xFF (-1) to indicate a configuration update.",
                            "value": 255
                        },
                        {
                            "name": "videoSystem",
                            "ctype": "uint8_t",
                            "desc": "Enum `videoSystem_e`: Video system (Auto/PAL/NTSC) (`osdConfig()->video_system`).",
                            "units": "Enum",
                            "enum": "videoSystem_e"
                        },
                        {
                            "name": "units",
                            "ctype": "uint8_t",
                            "desc": "Enum `osd_unit_e` Measurement units (Metric/Imperial) (`osdConfig()->units`).",
                            "units": "Enum",
                            "enum": "osd_unit_e"
                        },
                        {
                            "name": "rssiAlarm",
                            "ctype": "uint8_t",
                            "desc": "RSSI alarm threshold (`osdConfig()->rssi_alarm`).",
                            "units": "%"
                        },
                        {
                            "name": "capAlarm",
                            "ctype": "uint16_t",
                            "desc": "Capacity alarm threshold (`currentBatteryProfile->capacity.warning`). Truncated to 16 bits.",
                            "units": "mAh/mWh"
                        },
                        {
                            "name": "timerAlarm",
                            "ctype": "uint16_t",
                            "desc": "Timer alarm threshold in minutes (`osdConfig()->time_alarm`).",
                            "units": "minutes"
                        },
                        {
                            "name": "altAlarm",
                            "ctype": "uint16_t",
                            "desc": "Altitude alarm threshold (`osdConfig()->alt_alarm`).",
                            "units": "meters"
                        },
                        {
                            "name": "distAlarm",
                            "ctype": "uint16_t",
                            "desc": "Distance alarm threshold (`osdConfig()->dist_alarm`). Optional trailing field.",
                            "units": "meters",
                            "optional": true
                        },
                        {
                            "name": "negAltAlarm",
                            "ctype": "uint16_t",
                            "desc": "Negative altitude alarm threshold (`osdConfig()->neg_alt_alarm`). Optional trailing field.",
                            "units": "meters",
                            "optional": true
                        }
                    ]
                },
                "reply": null
            },
        "dataSize == 3": {
            "description": "Single item position update",
            "request": {
                "payload": [
                    {
                        "name": "itemIndex",
                        "ctype": "uint8_t",
                        "desc": "Index of the OSD item to update (0 to `OSD_ITEM_COUNT - 1`).",
                        "units": "Index"
                    },
                    {
                        "name": "itemPosition",
                        "ctype": "uint16_t",
                        "desc": "Packed X/Y position (`(Y << 8) | X`) for the specified item.",
                        "units": "packed"
                    }
                ]
            },
            "reply": null
            }
        }
    },
    "MSP_OSD_CHAR_READ": {
        "code": 86,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`. Requires direct hardware access, typically done via DisplayPort.",
        "description": "Reads character data from the OSD font memory."
    },
    "MSP_OSD_CHAR_WRITE": {
        "code": 87,
        "mspv": 1,
        "request": null,
        "reply": null,
        "variable_len": true,
        "notes": "Requires `USE_OSD`. Minimum payload is `OSD_CHAR_VISIBLE_BYTES + 1` (8-bit address + 54 bytes). Payload size determines the address width and whether the extra metadata bytes are present. Writes characters via `displayWriteFontCharacter()`.",
        "description": "Writes character data to the OSD font memory.",
        "variants": {
            "payloadSize >= OSD_CHAR_BYTES + 2 (>=66 bytes)": {
                "description": "16-bit character index with full 64-byte payload (visible + metadata).",
                "request": {
                    "payload": [
                        {
                            "name": "address",
                            "ctype": "uint16_t",
                            "desc": "Character slot index (0-1023)."
                        },
                        {
                            "name": "charData",
                            "desc": "All 64 bytes, including driver metadata.",
                            "ctype": "uint8_t",
                            "array": true,
                            "array_size": 64,
                            "array_size_define": "OSD_CHAR_BYTES"
                        }
                    ]
                },
                "reply": null
            },
            "payloadSize == OSD_CHAR_BYTES + 1 (65 bytes)": {
                "description": "8-bit character index with full 64-byte payload.",
                "request": {
                    "payload": [
                        {
                            "name": "address",
                            "ctype": "uint8_t",
                            "desc": "Character slot index (0-255)."
                        },
                        {
                            "name": "charData",
                            "desc": "All 64 bytes, including driver metadata.",
                            "ctype": "uint8_t",
                            "array": true,
                            "array_size": 64,
                            "array_size_define": "OSD_CHAR_BYTES"
                        }
                    ]
                },
                "reply": null
            },
            "payloadSize == OSD_CHAR_VISIBLE_BYTES + 2 (56 bytes)": {
                "description": "16-bit character index with only the 54 visible bytes.",
                "request": {
                    "payload": [
                        {
                            "name": "address",
                            "ctype": "uint16_t",
                            "desc": "Character slot index (0-1023)."
                        },
                        {
                            "name": "charData",
                            "desc": "Visible pixel data only (no metadata).",
                            "ctype": "uint8_t",
                            "array": true,
                            "array_size": 54,
                            "array_size_define": "OSD_CHAR_VISIBLE_BYTES"
                        }
                    ]
                },
                "reply": null
            },
            "payloadSize == OSD_CHAR_VISIBLE_BYTES + 1 (55 bytes)": {
                "description": "8-bit character index with only the 54 visible bytes.",
                "request": {
                    "payload": [
                        {
                            "name": "address",
                            "ctype": "uint8_t",
                            "desc": "Character slot index (0-255)."
                        },
                        {
                            "name": "charData",
                            "desc": "Visible pixel data only (no metadata).",
                            "ctype": "uint8_t",
                            "array": true,
                            "array_size": 54,
                            "array_size_define": "OSD_CHAR_VISIBLE_BYTES"
                        }
                    ]
                },
                "reply": null
            }
        }
    },
    "MSP_VTX_CONFIG": {
        "code": 88,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "vtxDeviceType",
                    "ctype": "uint8_t",
                    "desc": "Enum (`vtxDevType_e`): Type of VTX device detected/configured. `VTXDEV_UNKNOWN` if none",
                    "units": "",
                    "enum": "vtxDevType_e"
                },
                {
                    "name": "band",
                    "ctype": "uint8_t",
                    "desc": "VTX band number (from `vtxSettingsConfig`)",
                    "units": ""
                },
                {
                    "name": "channel",
                    "ctype": "uint8_t",
                    "desc": "VTX channel number (from `vtxSettingsConfig`)",
                    "units": ""
                },
                {
                    "name": "power",
                    "ctype": "uint8_t",
                    "desc": "VTX power level index (from `vtxSettingsConfig()`).",
                    "units": ""
                },
                {
                    "name": "pitMode",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if VTX is currently in pit mode, 0 otherwise.",
                    "units": ""
                },
                {
                    "name": "vtxReady",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if VTX device reported ready, 0 otherwise",
                    "units": ""
                },
                {
                    "name": "lowPowerDisarm",
                    "ctype": "uint8_t",
                    "desc": "Enum `vtxLowerPowerDisarm_e`: Low-power behaviour while disarmed (`vtxSettingsConfig()->lowPowerDisarm`).",
                    "units": "Enum",
                    "enum": "vtxLowerPowerDisarm_e"
                },
                {
                    "name": "vtxTableAvailable",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if VTX tables (band/power) are available for query",
                    "units": ""
                },
                {
                    "name": "bandCount",
                    "ctype": "uint8_t",
                    "desc": "Number of bands supported by the VTX device",
                    "units": ""
                },
                {
                    "name": "channelCount",
                    "ctype": "uint8_t",
                    "desc": "Number of channels per band supported by the VTX device",
                    "units": ""
                },
                {
                    "name": "powerCount",
                    "ctype": "uint8_t",
                    "desc": "Number of power levels supported by the VTX device",
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Returns 1 byte (`VTXDEV_UNKNOWN`) when no VTX is detected or `USE_VTX_CONTROL` is disabled; otherwise sends full payload. BF compatibility field `frequency` (uint16) is missing compared to some BF versions. Use `MSP_VTXTABLE_BAND` and `MSP_VTXTABLE_POWERLEVEL` for details.",
        "description": "Retrieves the current VTX (Video Transmitter) configuration and capabilities."
    },
    "MSP_SET_VTX_CONFIG": {
        "code": 89,
        "mspv": 1,
        "request": null,
        "reply": null,
        "variable_len": true,
        "notes": "Requires dataSize >= 2. If no VTX device or device type is VTXDEV_UNKNOWN, fields are read and discarded. The first uint16 is interpreted as band/channel when value <= VTXCOMMON_MSP_BANDCHAN_CHKVAL, otherwise treated as a frequency value that is not applied by this path. Subsequent fields are applied only if present. If dataSize < 2 the command returns MSP_RESULT_ERROR.",
        "description": "Sets VTX band/channel and related options. Fields are a progressive superset based on payload length.",
        "variants": {
            "payloadSize >= 14": {
                "description": "Full payload (Betaflight 1.42+): includes explicit band/channel/frequency and capability counts.",
                "request": {
                    "payload": [
                        {
                            "name": "bandChanOrFreq",
                            "ctype": "uint16_t",
                            "desc": "Encoded band/channel if <= `VTXCOMMON_MSP_BANDCHAN_CHKVAL`; otherwise frequency placeholder."
                        },
                        {
                            "name": "power",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "pitMode",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "lowPowerDisarm",
                            "ctype": "uint8_t",
                            "enum": "vtxLowerPowerDisarm_e"
                        },
                        {
                            "name": "pitModeFreq",
                            "ctype": "uint16_t"
                        },
                        {
                            "name": "band",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "channel",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "frequency",
                            "ctype": "uint16_t"
                        },
                        {
                            "name": "bandCount",
                            "ctype": "uint8_t",
                            "desc": "Read and ignored."
                        },
                        {
                            "name": "channelCount",
                            "ctype": "uint8_t",
                            "desc": "Read and ignored."
                        },
                        {
                            "name": "powerCount",
                            "ctype": "uint8_t",
                            "desc": "If 0 < value < current capability, caps `vtxDevice->capability.powerCount`."
                        }
                    ]
                },
                "reply": null
            },
            "payloadSize >= 11": {
                "description": "Extends payload with explicit frequency.",
                "request": {
                    "payload": [
                        {
                            "name": "bandChanOrFreq",
                            "ctype": "uint16_t"
                        },
                        {
                            "name": "power",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "pitMode",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "lowPowerDisarm",
                            "ctype": "uint8_t",
                            "enum": "vtxLowerPowerDisarm_e"
                        },
                        {
                            "name": "pitModeFreq",
                            "ctype": "uint16_t"
                        },
                        {
                            "name": "band",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "channel",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "frequency",
                            "ctype": "uint16_t",
                            "desc": "Read and ignored by INAV."
                        }
                    ]
                },
                "reply": null
            },
            "payloadSize >= 9": {
                "description": "Adds explicit band/channel overrides (API 1.42 extension).",
                "request": {
                    "payload": [
                        {
                            "name": "bandChanOrFreq",
                            "ctype": "uint16_t"
                        },
                        {
                            "name": "power",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "pitMode",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "lowPowerDisarm",
                            "ctype": "uint8_t",
                            "enum": "vtxLowerPowerDisarm_e"
                        },
                        {
                            "name": "pitModeFreq",
                            "ctype": "uint16_t"
                        },
                        {
                            "name": "band",
                            "ctype": "uint8_t",
                            "desc": "1..N; overrides band when present."
                        },
                        {
                            "name": "channel",
                            "ctype": "uint8_t",
                            "desc": "1..8; overrides channel when present."
                        }
                    ]
                },
                "reply": null
            },
            "payloadSize >= 7": {
                "description": "Adds pit-mode frequency placeholder.",
                "request": {
                    "payload": [
                        {
                            "name": "bandChanOrFreq",
                            "ctype": "uint16_t"
                        },
                        {
                            "name": "power",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "pitMode",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "lowPowerDisarm",
                            "ctype": "uint8_t",
                            "enum": "vtxLowerPowerDisarm_e"
                        },
                        {
                            "name": "pitModeFreq",
                            "ctype": "uint16_t",
                            "desc": "Read and skipped."
                        }
                    ]
                },
                "reply": null
            },
            "payloadSize >= 5": {
                "description": "Adds low-power disarm behaviour.",
                "request": {
                    "payload": [
                        {
                            "name": "bandChanOrFreq",
                            "ctype": "uint16_t"
                        },
                        {
                            "name": "power",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "pitMode",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "lowPowerDisarm",
                            "ctype": "uint8_t",
                            "enum": "vtxLowerPowerDisarm_e",
                            "desc": "0=Off, 1=Always, 2=Until first arm."
                        }
                    ]
                },
                "reply": null
            },
            "payloadSize >= 4": {
                "description": "Adds power index and pit mode flag.",
                "request": {
                    "payload": [
                        {
                            "name": "bandChanOrFreq",
                            "ctype": "uint16_t"
                        },
                        {
                            "name": "power",
                            "ctype": "uint8_t"
                        },
                        {
                            "name": "pitMode",
                            "ctype": "uint8_t"
                        }
                    ]
                },
                "reply": null
            },
            "payloadSize == 2": {
                "description": "Minimum payload (band/channel encoded in 0..63).",
                "request": {
                    "payload": [
                        {
                            "name": "bandChanOrFreq",
                            "ctype": "uint16_t",
                            "desc": "If <= `VTXCOMMON_MSP_BANDCHAN_CHKVAL`, decoded as band/channel; otherwise treated as a frequency placeholder."
                        }
                    ]
                },
                "reply": null
            }
        }
    },
    "MSP_ADVANCED_CONFIG": {
        "code": 90,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "gyroSyncDenom",
                    "ctype": "uint8_t",
                    "desc": "Always 1 (BF compatibility)",
                    "units": "",
                    "value": 1
                },
                {
                    "name": "pidProcessDenom",
                    "ctype": "uint8_t",
                    "desc": "Always 1 (BF compatibility)",
                    "units": "",
                    "value": 1
                },
                {
                    "name": "useUnsyncedPwm",
                    "ctype": "uint8_t",
                    "desc": "Always 1 (BF compatibility, INAV uses async PWM based on protocol)",
                    "units": "",
                    "value": 1
                },
                {
                    "name": "motorPwmProtocol",
                    "ctype": "uint8_t",
                    "desc": "Motor PWM protocol type (`motorConfig()->motorPwmProtocol`).",
                    "units": "Enum",
                    "enum": "motorPwmProtocolTypes_e"
                },
                {
                    "name": "motorPwmRate",
                    "ctype": "uint16_t",
                    "desc": "Motor PWM rate (if applicable) (`motorConfig()->motorPwmRate`).",
                    "units": "Hz"
                },
                {
                    "name": "servoPwmRate",
                    "ctype": "uint16_t",
                    "desc": "Servo PWM rate (`servoConfig()->servoPwmRate`).",
                    "units": "Hz"
                },
                {
                    "name": "legacyGyroSync",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (BF compatibility)",
                    "units": "",
                    "value": 0
                }
            ]
        },
        "notes": "",
        "description": "Retrieves advanced hardware-related configuration (PWM protocols, rates). Some fields are BF compatibility placeholders."
    },
    "MSP_SET_ADVANCED_CONFIG": {
        "code": 91,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "gyroSyncDenom",
                    "ctype": "uint8_t",
                    "desc": "Ignored (legacy Betaflight field).",
                    "units": ""
                },
                {
                    "name": "pidProcessDenom",
                    "ctype": "uint8_t",
                    "desc": "Ignored (legacy Betaflight field).",
                    "units": ""
                },
                {
                    "name": "useUnsyncedPwm",
                    "ctype": "uint8_t",
                    "desc": "Ignored (legacy Betaflight field).",
                    "units": ""
                },
                {
                    "name": "motorPwmProtocol",
                    "ctype": "uint8_t",
                    "desc": "Sets `motorConfigMutable()->motorPwmProtocol`.",
                    "units": "Enum",
                    "enum": "motorPwmProtocolTypes_e"
                },
                {
                    "name": "motorPwmRate",
                    "ctype": "uint16_t",
                    "desc": "Sets `motorConfigMutable()->motorPwmRate`.",
                    "units": "Hz"
                },
                {
                    "name": "servoPwmRate",
                    "ctype": "uint16_t",
                    "desc": "Sets `servoConfigMutable()->servoPwmRate`.",
                    "units": "Hz"
                },
                {
                    "name": "legacyGyroSync",
                    "ctype": "uint8_t",
                    "desc": "Ignored (legacy Betaflight field).",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 9 bytes.",
        "description": "Sets advanced hardware-related configuration (PWM protocols, rates)."
    },
    "MSP_FILTER_CONFIG": {
        "code": 92,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "gyroMainLpfHz",
                    "ctype": "uint8_t",
                    "desc": "Gyro main low-pass filter cutoff frequency (`gyroConfig()->gyro_main_lpf_hz`)",
                    "units": "Hz"
                },
                {
                    "name": "dtermLpfHz",
                    "ctype": "uint16_t",
                    "desc": "D-term low-pass filter cutoff frequency (`pidProfile()->dterm_lpf_hz`)",
                    "units": "Hz"
                },
                {
                    "name": "yawLpfHz",
                    "ctype": "uint16_t",
                    "desc": "Yaw low-pass filter cutoff frequency (`pidProfile()->yaw_lpf_hz`)",
                    "units": "Hz"
                },
                {
                    "name": "legacyGyroNotchHz",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "legacyGyroNotchCutoff",
                    "ctype": "uint16_t",
                    "desc": "Always 1 (Legacy)",
                    "value": 1
                },
                {
                    "name": "bfCompatDtermNotchHz",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (BF compatibility)",
                    "value": 0
                },
                {
                    "name": "bfCompatDtermNotchCutoff",
                    "ctype": "uint16_t",
                    "desc": "Always 1 (BF compatibility)",
                    "value": 1
                },
                {
                    "name": "bfCompatGyroNotch2Hz",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (BF compatibility)",
                    "value": 0
                },
                {
                    "name": "bfCompatGyroNotch2Cutoff",
                    "ctype": "uint16_t",
                    "desc": "Always 1 (BF compatibility)",
                    "value": 1
                },
                {
                    "name": "accNotchHz",
                    "ctype": "uint16_t",
                    "desc": "Accelerometer notch filter center frequency (`accelerometerConfig()->acc_notch_hz`)",
                    "units": "Hz"
                },
                {
                    "name": "accNotchCutoff",
                    "ctype": "uint16_t",
                    "desc": "Accelerometer notch filter cutoff frequency (`accelerometerConfig()->acc_notch_cutoff`)",
                    "units": "Hz"
                },
                {
                    "name": "legacyGyroStage2LpfHz",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                }
            ]
        },
        "notes": "",
        "description": "Retrieves filter configuration settings (Gyro, D-term, Yaw, Accel). Some fields are BF compatibility placeholders or legacy."
    },
    "MSP_SET_FILTER_CONFIG": {
        "code": 93,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "gyroMainLpfHz",
                    "ctype": "uint8_t",
                    "desc": "Sets `gyroConfigMutable()->gyro_main_lpf_hz`. (Size >= 5)",
                    "units": "Hz"
                },
                {
                    "name": "dtermLpfHz",
                    "ctype": "uint16_t",
                    "desc": "Sets `pidProfileMutable()->dterm_lpf_hz` (constrained 0-500). (Size >= 5)",
                    "units": "Hz"
                },
                {
                    "name": "yawLpfHz",
                    "ctype": "uint16_t",
                    "desc": "Sets `pidProfileMutable()->yaw_lpf_hz` (constrained 0-255). (Size >= 5)",
                    "units": "Hz"
                },
                {
                    "name": "legacyGyroNotchHz",
                    "ctype": "uint16_t",
                    "desc": "Ignored. (Size >= 9)"
                },
                {
                    "name": "legacyGyroNotchCutoff",
                    "ctype": "uint16_t",
                    "desc": "Ignored. (Size >= 9)"
                },
                {
                    "name": "bfCompatDtermNotchHz",
                    "ctype": "uint16_t",
                    "desc": "Ignored. (Size >= 13)"
                },
                {
                    "name": "bfCompatDtermNotchCutoff",
                    "ctype": "uint16_t",
                    "desc": "Ignored. (Size >= 13)"
                },
                {
                    "name": "bfCompatGyroNotch2Hz",
                    "ctype": "uint16_t",
                    "desc": "Ignored. (Size >= 17)"
                },
                {
                    "name": "bfCompatGyroNotch2Cutoff",
                    "ctype": "uint16_t",
                    "desc": "Ignored. (Size >= 17)"
                },
                {
                    "name": "accNotchHz",
                    "ctype": "uint16_t",
                    "desc": "Sets `accelerometerConfigMutable()->acc_notch_hz` (constrained 0-255). (Size >= 21)",
                    "units": "Hz"
                },
                {
                    "name": "accNotchCutoff",
                    "ctype": "uint16_t",
                    "desc": "Sets `accelerometerConfigMutable()->acc_notch_cutoff` (constrained 1-255). (Size >= 21)",
                    "units": "Hz"
                },
                {
                    "name": "legacyGyroStage2LpfHz",
                    "ctype": "uint16_t",
                    "desc": "Ignored. (Size >= 22)"
                }
            ]
        },
        "reply": null,
        "notes": "Requires at least 22 bytes; intermediate length checks enforce legacy Betaflight frame layout and call `pidInitFilters()` once the D-term notch placeholders are consumed.",
        "description": "Sets filter configuration settings. Handles different payload lengths for backward compatibility."
    },
    "MSP_PID_ADVANCED": {
        "code": 94,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "legacyRollPitchItermIgnore",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "legacyYawItermIgnore",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "legacyYawPLimit",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "bfCompatDeltaMethod",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (BF compatibility)",
                    "value": 0
                },
                {
                    "name": "bfCompatVbatPidComp",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (BF compatibility)",
                    "value": 0
                },
                {
                    "name": "bfCompatSetpointRelaxRatio",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (BF compatibility)",
                    "value": 0
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Always 0",
                    "value": 0
                },
                {
                    "name": "legacyPidSumLimit",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "bfCompatItermThrottleGain",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (BF compatibility)",
                    "value": 0
                },
                {
                    "name": "accelLimitRollPitch",
                    "ctype": "uint16_t",
                    "desc": "Axis acceleration limit for Roll/Pitch / 10 (`pidProfile()->axisAccelerationLimitRollPitch / 10`)",
                    "units": "dps / 10"
                },
                {
                    "name": "accelLimitYaw",
                    "ctype": "uint16_t",
                    "desc": "Axis acceleration limit for Yaw / 10 (`pidProfile()->axisAccelerationLimitYaw / 10`)",
                    "units": "dps / 10"
                }
            ]
        },
        "notes": "Acceleration limits are scaled by 10 for compatibility.",
        "description": "Retrieves advanced PID tuning parameters. Many fields are BF compatibility placeholders."
    },
    "MSP_SET_PID_ADVANCED": {
        "code": 95,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "legacyRollPitchItermIgnore",
                    "ctype": "uint16_t",
                    "desc": "Ignored (legacy compatibility)."
                },
                {
                    "name": "legacyYawItermIgnore",
                    "ctype": "uint16_t",
                    "desc": "Ignored (legacy compatibility)."
                },
                {
                    "name": "legacyYawPLimit",
                    "ctype": "uint16_t",
                    "desc": "Ignored (legacy compatibility)."
                },
                {
                    "name": "bfCompatDeltaMethod",
                    "ctype": "uint8_t",
                    "desc": "Ignored (BF compatibility)."
                },
                {
                    "name": "bfCompatVbatPidComp",
                    "ctype": "uint8_t",
                    "desc": "Ignored (BF compatibility)."
                },
                {
                    "name": "bfCompatSetpointRelaxRatio",
                    "ctype": "uint8_t",
                    "desc": "Ignored (BF compatibility)."
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Ignored (reserved)."
                },
                {
                    "name": "legacyPidSumLimit",
                    "ctype": "uint16_t",
                    "desc": "Ignored (legacy compatibility)."
                },
                {
                    "name": "bfCompatItermThrottleGain",
                    "ctype": "uint8_t",
                    "desc": "Ignored (BF compatibility)."
                },
                {
                    "name": "accelLimitRollPitch",
                    "ctype": "uint16_t",
                    "desc": "Sets `pidProfileMutable()->axisAccelerationLimitRollPitch = value * 10`.",
                    "units": "dps / 10"
                },
                {
                    "name": "accelLimitYaw",
                    "ctype": "uint16_t",
                    "desc": "Sets `pidProfileMutable()->axisAccelerationLimitYaw = value * 10`.",
                    "units": "dps / 10"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 17 bytes.",
        "description": "Sets advanced PID tuning parameters."
    },
    "MSP_SENSOR_CONFIG": {
        "code": 96,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "accHardware",
                    "ctype": "uint8_t",
                    "desc": "Enum (`accelerationSensor_e`): Accelerometer hardware type (`accelerometerConfig()->acc_hardware`)",
                    "units": "",
                    "enum": "accelerationSensor_e"
                },
                {
                    "name": "baroHardware",
                    "ctype": "uint8_t",
                    "desc": "Enum (`baroSensor_e`): Barometer hardware type (`barometerConfig()->baro_hardware`). 0 if `USE_BARO` disabled",
                    "units": "",
                    "enum": "baroSensor_e"
                },
                {
                    "name": "magHardware",
                    "ctype": "uint8_t",
                    "desc": "Enum (`magSensor_e`): Magnetometer hardware type (`compassConfig()->mag_hardware`). 0 if `USE_MAG` disabled",
                    "units": "",
                    "enum": "magSensor_e"
                },
                {
                    "name": "pitotHardware",
                    "ctype": "uint8_t",
                    "desc": "Enum (`pitotSensor_e`): Pitot tube hardware type (`pitotmeterConfig()->pitot_hardware`). 0 if `USE_PITOT` disabled",
                    "units": "",
                    "enum": "pitotSensor_e"
                },
                {
                    "name": "rangefinderHardware",
                    "ctype": "uint8_t",
                    "desc": "Enum (`rangefinderType_e`): Rangefinder hardware type (`rangefinderConfig()->rangefinder_hardware`). 0 if `USE_RANGEFINDER` disabled",
                    "units": "",
                    "enum": "rangefinderType_e"
                },
                {
                    "name": "opflowHardware",
                    "ctype": "uint8_t",
                    "desc": "Enum (`opticalFlowSensor_e`): Optical flow hardware type (`opticalFlowConfig()->opflow_hardware`). 0 if `USE_OPFLOW` disabled",
                    "units": "",
                    "enum": "opticalFlowSensor_e"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves the configured hardware type for various sensors."
    },
    "MSP_SET_SENSOR_CONFIG": {
        "code": 97,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "accHardware",
                    "ctype": "uint8_t",
                    "desc": "Sets `accelerometerConfigMutable()->acc_hardware`",
                    "units": "",
                    "enum": "accelerationSensor_e"
                },
                {
                    "name": "baroHardware",
                    "ctype": "uint8_t",
                    "desc": "Sets `barometerConfigMutable()->baro_hardware` (if `USE_BARO`)",
                    "units": "",
                    "enum": "baroSensor_e"
                },
                {
                    "name": "magHardware",
                    "ctype": "uint8_t",
                    "desc": "Sets `compassConfigMutable()->mag_hardware` (if `USE_MAG`)",
                    "units": "",
                    "enum": "magSensor_e"
                },
                {
                    "name": "pitotHardware",
                    "ctype": "uint8_t",
                    "desc": "Sets `pitotmeterConfigMutable()->pitot_hardware` (if `USE_PITOT`)",
                    "units": "",
                    "enum": "pitotSensor_e"
                },
                {
                    "name": "rangefinderHardware",
                    "ctype": "uint8_t",
                    "desc": "Sets `rangefinderConfigMutable()->rangefinder_hardware` (if `USE_RANGEFINDER`)",
                    "units": "",
                    "enum": "rangefinderType_e"
                },
                {
                    "name": "opflowHardware",
                    "ctype": "uint8_t",
                    "desc": "Sets `opticalFlowConfigMutable()->opflow_hardware` (if `USE_OPFLOW`)",
                    "units": "",
                    "enum": "opticalFlowSensor_e"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 6 bytes.",
        "description": "Sets the configured hardware type for various sensors."
    },
    "MSP_SPECIAL_PARAMETERS": {
        "code": 98,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Betaflight specific"
    },
    "MSP_SET_SPECIAL_PARAMETERS": {
        "code": 99,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Betaflight specific"
    },
    "MSP_IDENT": {
        "code": 100,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "MultiWii version",
                    "ctype": "uint8_t",
                    "desc": "Scaled version major*100+minor",
                    "units": "n/a"
                },
                {
                    "name": "Mixer Mode",
                    "ctype": "uint8_t",
                    "desc": "Mixer type",
                    "units": "Enum"
                },
                {
                    "name": "MSP Version",
                    "ctype": "uint8_t",
                    "desc": "Scaled version major*100+minor",
                    "units": "n/a"
                },
                {
                    "name": "Platform Capability",
                    "ctype": "uint32_t",
                    "desc": "Bitmask: MW capabilities",
                    "units": "Bitmask",
                    "bitmask": true
                }
            ]
        },
        "notes": "Obsolete. Listed for legacy compatibility only.",
        "description": "Provides basic flight controller identity information. Not implemented in modern INAV, but used by legacy versions and MultiWii."
    },
    "MSP_STATUS": {
        "code": 101,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "cycleTime",
                    "ctype": "uint16_t",
                    "desc": "Main loop cycle time (`cycleTime`)",
                    "units": "µs"
                },
                {
                    "name": "i2cErrors",
                    "ctype": "uint16_t",
                    "desc": "Number of I2C errors encountered (`i2cGetErrorCounter()`). 0 if `USE_I2C` not defined",
                    "units": "Count"
                },
                {
                    "name": "sensorStatus",
                    "ctype": "uint16_t",
                    "desc": "Bitmask: available/active sensors (`packSensorStatus()`). See notes",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "activeModesLow",
                    "ctype": "uint32_t",
                    "desc": "Bitmask: First 32 bits of the active flight modes bitmask (`packBoxModeFlags()`)",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "profile",
                    "ctype": "uint8_t",
                    "desc": "Current configuration profile index (0-based) (`getConfigProfile()`)",
                    "units": "Index"
                }
            ]
        },
        "notes": "Superseded by `MSP_STATUS_EX` and `MSP2_INAV_STATUS`. `sensorStatus` bitmask: (Bit 0: ACC, 1: BARO, 2: MAG, 3: GPS, 4: RANGEFINDER, 5: OPFLOW, 6: PITOT, 7: TEMP; Bit 15: hardware failure). `activeModesLow` only contains the first 32 modes; use `MSP_ACTIVEBOXES` for the full set.",
        "description": "Provides basic flight controller status including cycle time, errors, sensor status, active modes (first 32), and the current configuration profile."
    },
    "MSP_RAW_IMU": {
        "code": 102,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "accX",
                    "ctype": "int16_t",
                    "desc": "Raw accelerometer X reading, scaled (`acc.accADCf[X] * 512`)",
                    "units": "~1/512 G"
                },
                {
                    "name": "accY",
                    "ctype": "int16_t",
                    "desc": "Raw accelerometer Y reading, scaled (`acc.accADCf[Y] * 512`)",
                    "units": "~1/512 G"
                },
                {
                    "name": "accZ",
                    "ctype": "int16_t",
                    "desc": "Raw accelerometer Z reading, scaled (`acc.accADCf[Z] * 512`)",
                    "units": "~1/512 G"
                },
                {
                    "name": "gyroX",
                    "ctype": "int16_t",
                    "desc": "Gyroscope X-axis rate (`gyroRateDps(X)`)",
                    "units": "deg/s"
                },
                {
                    "name": "gyroY",
                    "ctype": "int16_t",
                    "desc": "Gyroscope Y-axis rate (`gyroRateDps(Y)`)",
                    "units": "deg/s"
                },
                {
                    "name": "gyroZ",
                    "ctype": "int16_t",
                    "desc": "Gyroscope Z-axis rate (`gyroRateDps(Z)`)",
                    "units": "deg/s"
                },
                {
                    "name": "magX",
                    "ctype": "int16_t",
                    "desc": "Raw magnetometer X reading (`mag.magADC[X]`). 0 if `USE_MAG` disabled",
                    "units": "Raw units"
                },
                {
                    "name": "magY",
                    "ctype": "int16_t",
                    "desc": "Raw magnetometer Y reading (`mag.magADC[Y]`). 0 if `USE_MAG` disabled",
                    "units": "Raw units"
                },
                {
                    "name": "magZ",
                    "ctype": "int16_t",
                    "desc": "Raw magnetometer Z reading (`mag.magADC[Z]`). 0 if `USE_MAG` disabled",
                    "units": "Raw units"
                }
            ]
        },
        "notes": "Acc scaling is approximate (512 LSB/G). Mag units depend on the sensor.",
        "description": "Provides raw sensor readings from the IMU (Accelerometer, Gyroscope, Magnetometer)."
    },
    "MSP_SERVO": {
        "code": 103,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "servoOutputs",
                    "desc": "Array of current servo output values (typically 1000-2000)",
                    "ctype": "int16_t",
                    "array": true,
                    "array_size": 18,
                    "array_size_define": "MAX_SUPPORTED_SERVOS",
                    "units": "PWM"
                }
            ]
        },
        "variable_len": true,
        "notes": "",
        "description": "Provides the current output values for all supported servos."
    },
    "MSP_MOTOR": {
        "code": 104,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "motorOutputs",
                    "desc": "Array of current motor output values (typically 1000-2000). Values beyond `MAX_SUPPORTED_MOTORS` are 0",
                    "ctype": "int16_t",
                    "array": true,
                    "array_size": 8,
                    "units": "PWM"
                }
            ]
        },
        "notes": "",
        "description": "Provides the current output values for the first 8 motors."
    },
    "MSP_RC": {
        "code": 105,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "rcChannels",
                    "desc": "Array of current RC channel values (typically 1000-2000). Length depends on detected channels",
                    "ctype": "int16_t",
                    "array": true,
                    "array_size": 0,
                    "units": "PWM"
                }
            ]
        },
        "variable_len": true,
        "notes": "Array length equals `rxRuntimeConfig.channelCount`.",
        "description": "Provides the current values of the received RC channels."
    },
    "MSP_RAW_GPS": {
        "code": 106,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "fixType",
                    "ctype": "uint8_t",
                    "desc": "Enum `gpsFixType_e` GPS fix type (`gpsSol.fixType`)",
                    "units": "Enum",
                    "enum": "gpsFixType_e"
                },
                {
                    "name": "numSat",
                    "ctype": "uint8_t",
                    "desc": "Number of satellites used in solution (`gpsSol.numSat`)",
                    "units": "Count"
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "desc": "Latitude (`gpsSol.llh.lat`)",
                    "units": "deg * 1e7"
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "desc": "Longitude (`gpsSol.llh.lon`)",
                    "units": "deg * 1e7"
                },
                {
                    "name": "altitude",
                    "ctype": "int16_t",
                    "desc": "Altitude above MSL (`gpsSol.llh.alt`) sent as centimeters",
                    "units": "cm"
                },
                {
                    "name": "speed",
                    "ctype": "int16_t",
                    "desc": "Ground speed (`gpsSol.groundSpeed`)",
                    "units": "cm/s"
                },
                {
                    "name": "groundCourse",
                    "ctype": "int16_t",
                    "desc": "Ground course (`gpsSol.groundCourse`)",
                    "units": "deci-degrees"
                },
                {
                    "name": "hdop",
                    "ctype": "uint16_t",
                    "desc": "Horizontal Dilution of Precision (`gpsSol.hdop`)",
                    "units": "HDOP * 100"
                }
            ]
        },
        "notes": "Only available if `USE_GPS` is defined. Altitude is truncated to meters.",
        "description": "Provides raw GPS data (fix status, coordinates, altitude, speed, course)."
    },
    "MSP_COMP_GPS": {
        "code": 107,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "distanceToHome",
                    "ctype": "uint16_t",
                    "desc": "Distance to the home point (`GPS_distanceToHome`)",
                    "units": "meters"
                },
                {
                    "name": "directionToHome",
                    "ctype": "int16_t",
                    "desc": "Direction to the home point (0-360) (`GPS_directionToHome`)",
                    "units": "degrees"
                },
                {
                    "name": "gpsHeartbeat",
                    "ctype": "uint8_t",
                    "desc": "Indicates if GPS data is being received (`gpsSol.flags.gpsHeartbeat`)",
                    "units": "Boolean"
                }
            ]
        },
        "notes": "Only available if `USE_GPS` is defined.",
        "description": "Provides computed GPS values: distance and direction to home."
    },
    "MSP_ATTITUDE": {
        "code": 108,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "roll",
                    "ctype": "int16_t",
                    "desc": "Roll angle (`attitude.values.roll`)",
                    "units": "deci-degrees"
                },
                {
                    "name": "pitch",
                    "ctype": "int16_t",
                    "desc": "Pitch angle (`attitude.values.pitch`)",
                    "units": "deci-degrees"
                },
                {
                    "name": "yaw",
                    "ctype": "int16_t",
                    "desc": "Yaw/Heading angle (`DECIDEGREES_TO_DEGREES(attitude.values.yaw)`)",
                    "units": "degrees"
                }
            ]
        },
        "notes": "Yaw is in degrees.",
        "description": "Provides the current attitude estimate (roll, pitch, yaw)."
    },
    "MSP_ALTITUDE": {
        "code": 109,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "estimatedAltitude",
                    "ctype": "int32_t",
                    "desc": "Estimated altitude above home/sea level (`getEstimatedActualPosition(Z)`)",
                    "units": "cm"
                },
                {
                    "name": "variometer",
                    "ctype": "int16_t",
                    "desc": "Estimated vertical speed (`getEstimatedActualVelocity(Z)`)",
                    "units": "cm/s"
                },
                {
                    "name": "baroAltitude",
                    "ctype": "int32_t",
                    "desc": "Latest raw altitude from barometer (`baroGetLatestAltitude()`). 0 if `USE_BARO` disabled",
                    "units": "cm"
                }
            ]
        },
        "notes": "",
        "description": "Provides estimated altitude, vertical speed (variometer), and raw barometric altitude."
    },
    "MSP_ANALOG": {
        "code": 110,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "vbat",
                    "ctype": "uint8_t",
                    "desc": "Battery voltage, scaled (`getBatteryVoltage() / 10`), constrained 0-255",
                    "units": "0.1V"
                },
                {
                    "name": "mAhDrawn",
                    "ctype": "uint16_t",
                    "desc": "Consumed battery capacity (`getMAhDrawn()`), constrained 0-65535",
                    "units": "mAh"
                },
                {
                    "name": "rssi",
                    "ctype": "uint16_t",
                    "desc": "Received Signal Strength Indicator (`getRSSI()`). Units depend on source",
                    "units": "0-1023 or %"
                },
                {
                    "name": "amperage",
                    "ctype": "int16_t",
                    "desc": "Current draw (`getAmperage()`), constrained -32768 to 32767",
                    "units": "0.01A"
                }
            ]
        },
        "notes": "Superseded by `MSP2_INAV_ANALOG` which provides higher precision and more fields.",
        "description": "Provides analog sensor readings: battery voltage, current consumption (mAh), RSSI, and current draw (Amps)."
    },
    "MSP_RC_TUNING": {
        "code": 111,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "legacyRcRate",
                    "ctype": "uint8_t",
                    "desc": "Always 100 (Legacy, unused)",
                    "units": "",
                    "value": 100
                },
                {
                    "name": "rcExpo",
                    "ctype": "uint8_t",
                    "desc": "Roll/Pitch RC Expo (`currentControlRateProfile->stabilized.rcExpo8`)",
                    "units": ""
                },
                {
                    "name": "rollRate",
                    "ctype": "uint8_t",
                    "desc": "Roll Rate (`currentControlRateProfile->stabilized.rates[FD_ROLL]`)",
                    "units": ""
                },
                {
                    "name": "pitchRate",
                    "ctype": "uint8_t",
                    "desc": "Pitch Rate (`currentControlRateProfile->stabilized.rates[FD_PITCH]`)",
                    "units": ""
                },
                {
                    "name": "yawRate",
                    "ctype": "uint8_t",
                    "desc": "Yaw Rate (`currentControlRateProfile->stabilized.rates[FD_YAW]`)",
                    "units": ""
                },
                {
                    "name": "dynamicThrottlePID",
                    "ctype": "uint8_t",
                    "desc": "Dynamic Throttle PID (TPA) value (`currentControlRateProfile->throttle.dynPID`)",
                    "units": ""
                },
                {
                    "name": "throttleMid",
                    "ctype": "uint8_t",
                    "desc": "Throttle Midpoint (`currentControlRateProfile->throttle.rcMid8`)",
                    "units": ""
                },
                {
                    "name": "throttleExpo",
                    "ctype": "uint8_t",
                    "desc": "Throttle Expo (`currentControlRateProfile->throttle.rcExpo8`)",
                    "units": ""
                },
                {
                    "name": "tpaBreakpoint",
                    "ctype": "uint16_t",
                    "desc": "Throttle PID Attenuation (TPA) breakpoint (`currentControlRateProfile->throttle.pa_breakpoint`)",
                    "units": ""
                },
                {
                    "name": "rcYawExpo",
                    "ctype": "uint8_t",
                    "desc": "Yaw RC Expo (`currentControlRateProfile->stabilized.rcYawExpo8`)",
                    "units": ""
                }
            ]
        },
        "notes": "Superseded by `MSP2_INAV_RATE_PROFILE` which includes manual rates/expos.",
        "description": "Retrieves RC tuning parameters (rates, expos, TPA) for the current control rate profile."
    },
    "MSP_ACTIVEBOXES": {
        "code": 113,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "activeModes",
                    "ctype": "boxBitmask_t",
                    "desc": "Bitmask: all active modes (`packBoxModeFlags()`). Size depends on `boxBitmask_t` definition",
                    "units": "Bitmask",
                    "bitmask": true
                }
            ]
        },
        "notes": "Use this instead of `MSP_STATUS` or `MSP_STATUS_EX` if more than 32 modes are possible.",
        "description": "Provides the full bitmask of currently active flight modes (boxes)."
    },
    "MSP_MISC": {
        "code": 114,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "desc": "Mid RC value (`PWM_RANGE_MIDDLE`, typically 1500)",
                    "units": "PWM"
                },
                {
                    "name": "legacyMinThrottle",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "maxThrottle",
                    "ctype": "uint16_t",
                    "desc": "Maximum throttle command (`getMaxThrottle()`)",
                    "units": "PWM"
                },
                {
                    "name": "minCommand",
                    "ctype": "uint16_t",
                    "desc": "Minimum motor command when disarmed (`motorConfig()->mincommand`)",
                    "units": "PWM"
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "desc": "Failsafe throttle level (`currentBatteryProfile->failsafe_throttle`)",
                    "units": "PWM"
                },
                {
                    "name": "gpsType",
                    "ctype": "uint8_t",
                    "desc": "Enum `gpsProvider_e` GPS provider type (`gpsConfig()->provider`). 0 if `USE_GPS` disabled",
                    "units": "Enum",
                    "enum": "gpsProvider_e"
                },
                {
                    "name": "legacyGpsBaud",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "gpsSbasMode",
                    "ctype": "uint8_t",
                    "desc": "Enum `sbasMode_e` GPS SBAS mode (`gpsConfig()->sbasMode`). 0 if `USE_GPS` disabled",
                    "units": "Enum",
                    "enum": "sbasMode_e"
                },
                {
                    "name": "legacyMwCurrentOut",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "desc": "RSSI channel index (1-based) (`rxConfig()->rssi_channel`)",
                    "units": "Index"
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Always 0",
                    "value": 0
                },
                {
                    "name": "magDeclination",
                    "ctype": "uint16_t",
                    "desc": "Magnetic declination / 10 (`compassConfig()->mag_declination / 10`). 0 if `USE_MAG` disabled",
                    "units": "0.1 degrees"
                },
                {
                    "name": "vbatScale",
                    "ctype": "uint8_t",
                    "desc": "Voltage scale / 10 (`batteryMetersConfig()->voltage.scale / 10`). 0 if `USE_ADC` disabled",
                    "units": "Scale / 10"
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint8_t",
                    "desc": "Min cell voltage / 10 (`currentBatteryProfile->voltage.cellMin / 10`). 0 if `USE_ADC` disabled",
                    "units": "0.1V"
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint8_t",
                    "desc": "Max cell voltage / 10 (`currentBatteryProfile->voltage.cellMax / 10`). 0 if `USE_ADC` disabled",
                    "units": "0.1V"
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint8_t",
                    "desc": "Warning cell voltage / 10 (`currentBatteryProfile->voltage.cellWarning / 10`). 0 if `USE_ADC` disabled",
                    "units": "0.1V"
                }
            ]
        },
        "notes": "Superseded by `MSP2_INAV_MISC` and other specific commands which offer better precision and more fields.",
        "description": "Retrieves miscellaneous configuration settings, mostly related to RC, GPS, Mag, and Battery voltage (legacy formats)."
    },
    "MSP_BOXNAMES": {
        "code": 116,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "boxNamesString",
                    "desc": "String containing mode names separated by ';'. Null termination not guaranteed by MSP, relies on payload size. (`serializeBoxNamesReply()`)",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "The exact set of names depends on compiled features and configuration. Due to the size of the payload, it is recommended that [`MSP_BOXIDS`](#msp_boxids-119--0x77) is used instead.",
        "description": "Provides a semicolon-separated string containing the names of all available flight modes (boxes)."
    },
    "MSP_PIDNAMES": {
        "code": 117,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "pidNamesString",
                    "desc": "String \"ROLL;PITCH;YAW;ALT;Pos;PosR;NavR;LEVEL;MAG;VEL;\". Null termination not guaranteed by MSP",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "",
        "description": "Provides a semicolon-separated string containing the names of the PID controllers."
    },
    "MSP_WP": {
        "code": 118,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "waypointIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the waypoint to retrieve (0 to `NAV_MAX_WAYPOINTS - 1`)",
                    "units": ""
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "waypointIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the returned waypoint",
                    "units": "Index"
                },
                {
                    "name": "action",
                    "ctype": "uint8_t",
                    "desc": "Enum `navWaypointActions_e` Waypoint action type",
                    "units": "Enum",
                    "enum": "navWaypointActions_e"
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "desc": "Latitude coordinate",
                    "units": "deg * 1e7"
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "desc": "Longitude coordinate",
                    "units": "deg * 1e7"
                },
                {
                    "name": "altitude",
                    "ctype": "int32_t",
                    "desc": "Altitude coordinate (relative to home or sea level, see flag)",
                    "units": "cm"
                },
                {
                    "name": "param1",
                    "ctype": "int16_t",
                    "desc": "Parameter 1 (meaning depends on action)",
                    "units": "Varies"
                },
                {
                    "name": "param2",
                    "ctype": "int16_t",
                    "desc": "Parameter 2 (meaning depends on action)",
                    "units": "Varies"
                },
                {
                    "name": "param3",
                    "ctype": "int16_t",
                    "desc": "Parameter 3 (meaning depends on action)",
                    "units": "Varies"
                },
                {
                    "name": "flag",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Waypoint flags (`NAV_WP_FLAG_*`)",
                    "units": "Bitmask",
                    "bitmask": true
                }
            ]
        },
        "notes": "See `navWaypoint_t` and `navWaypointActions_e`.",
        "description": "Get/Set a single waypoint from the mission plan."
    },
    "MSP_BOXIDS": {
        "code": 119,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "boxIds",
                    "desc": "Array of permanent IDs for each configured box (`serializeBoxReply()`). Length depends on number of boxes",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Useful for mapping mode range configurations (`MSP_MODE_RANGES`) back to user-understandable modes via `MSP_BOXNAMES`.",
        "description": "Provides a list of permanent IDs associated with the available flight modes (boxes)."
    },
    "MSP_SERVO_CONFIGURATIONS": {
        "code": 120,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "min",
                    "ctype": "int16_t",
                    "desc": "Minimum servo endpoint (`servoParams(i)->min`)",
                    "units": "PWM"
                },
                {
                    "name": "max",
                    "ctype": "int16_t",
                    "desc": "Maximum servo endpoint (`servoParams(i)->max`)",
                    "units": "PWM"
                },
                {
                    "name": "middle",
                    "ctype": "int16_t",
                    "desc": "Middle/Neutral servo position (`servoParams(i)->middle`)",
                    "units": "PWM"
                },
                {
                    "name": "rate",
                    "ctype": "int8_t",
                    "desc": "Servo rate/scaling (`servoParams(i)->rate`, -125..125). Encoded as two's complement",
                    "units": "% (-100 to 100)"
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Always 0",
                    "value": 0
                },
                {
                    "name": "reserved2",
                    "ctype": "uint8_t",
                    "desc": "Always 0",
                    "value": 0
                },
                {
                    "name": "legacyForwardChan",
                    "ctype": "uint8_t",
                    "desc": "Always 255 (Legacy)",
                    "value": 255
                },
                {
                    "name": "legacyReversedSources",
                    "ctype": "uint32_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                }
            ],
            "repeating": "MAX_SUPPORTED_SERVOS"
        },
        "variable_len": "MAX_SUPPORTED_SERVOS",
        "notes": "Superseded by `MSP2_INAV_SERVO_CONFIG` which has a cleaner structure.",
        "description": "Retrieves the configuration parameters for all supported servos (min, max, middle, rate). Legacy format with unused fields."
    },
    "MSP_NAV_STATUS": {
        "code": 121,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "navMode",
                    "ctype": "uint8_t",
                    "desc": "Enum (`navSystemStatus_Mode_e`): Current navigation mode (None, RTH, NAV, Hold, etc.) (`NAV_Status.mode`)",
                    "units": "",
                    "enum": "navSystemStatus_Mode_e"
                },
                {
                    "name": "navState",
                    "ctype": "uint8_t",
                    "desc": "Enum (`navSystemStatus_State_e`): Current navigation state (`NAV_Status.state`)",
                    "units": "",
                    "enum": "navSystemStatus_State_e"
                },
                {
                    "name": "activeWpAction",
                    "ctype": "uint8_t",
                    "desc": "Enum (`navWaypointActions_e`): Action of the currently executing waypoint (`NAV_Status.activeWpAction`)",
                    "units": "",
                    "enum": "navWaypointActions_e"
                },
                {
                    "name": "activeWpNumber",
                    "ctype": "uint8_t",
                    "desc": "Index: Index of the currently executing waypoint (`NAV_Status.activeWpNumber`)",
                    "units": ""
                },
                {
                    "name": "navError",
                    "ctype": "uint8_t",
                    "desc": "Enum (`navSystemStatus_Error_e`): Current navigation error code (`NAV_Status.error`)",
                    "units": "",
                    "enum": "navSystemStatus_Error_e"
                },
                {
                    "name": "targetHeading",
                    "ctype": "int16_t",
                    "desc": "Target heading for heading controller (`getHeadingHoldTarget()`)",
                    "units": "degrees"
                }
            ]
        },
        "notes": "Requires `USE_GPS`.",
        "description": "Retrieves the current status of the navigation system."
    },
    "MSP_NAV_CONFIG": {
        "code": 122,
        "mspv": 1,
        "not_implemented": true
    },
    "MSP_3D": {
        "code": 124,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "deadbandLow",
                    "ctype": "uint16_t",
                    "desc": "Lower deadband limit for 3D mode (`reversibleMotorsConfig()->deadband_low`)",
                    "units": "PWM"
                },
                {
                    "name": "deadbandHigh",
                    "ctype": "uint16_t",
                    "desc": "Upper deadband limit for 3D mode (`reversibleMotorsConfig()->deadband_high`)",
                    "units": "PWM"
                },
                {
                    "name": "neutral",
                    "ctype": "uint16_t",
                    "desc": "Neutral throttle point for 3D mode (`reversibleMotorsConfig()->neutral`)",
                    "units": "PWM"
                }
            ]
        },
        "notes": "Requires reversible motor support.",
        "description": "Retrieves settings related to 3D/reversible motor operation."
    },
    "MSP_RC_DEADBAND": {
        "code": 125,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "deadband",
                    "ctype": "uint8_t",
                    "desc": "General RC deadband for Roll/Pitch (`rcControlsConfig()->deadband`)",
                    "units": "PWM"
                },
                {
                    "name": "yawDeadband",
                    "ctype": "uint8_t",
                    "desc": "Specific deadband for Yaw (`rcControlsConfig()->yaw_deadband`)",
                    "units": "PWM"
                },
                {
                    "name": "altHoldDeadband",
                    "ctype": "uint8_t",
                    "desc": "Deadband for altitude hold adjustments (`rcControlsConfig()->alt_hold_deadband`)",
                    "units": "PWM"
                },
                {
                    "name": "throttleDeadband",
                    "ctype": "uint16_t",
                    "desc": "Deadband around throttle mid-stick (`rcControlsConfig()->mid_throttle_deadband`)",
                    "units": "PWM"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves RC input deadband settings."
    },
    "MSP_SENSOR_ALIGNMENT": {
        "code": 126,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "gyroAlign",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (Legacy alignment enum)",
                    "units": "",
                    "value": 0
                },
                {
                    "name": "accAlign",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (Legacy alignment enum)",
                    "units": "",
                    "value": 0
                },
                {
                    "name": "magAlign",
                    "ctype": "uint8_t",
                    "desc": "Magnetometer alignment (`compassConfig()->mag_align`). 0 if `USE_MAG` disabled",
                    "units": ""
                },
                {
                    "name": "opflowAlign",
                    "ctype": "uint8_t",
                    "desc": "Optical flow alignment (`opticalFlowConfig()->opflow_align`). 0 if `USE_OPFLOW` disabled",
                    "units": ""
                }
            ]
        },
        "notes": "Board alignment is now typically handled by `MSP_BOARD_ALIGNMENT`. This returns legacy enum values where applicable.",
        "description": "Retrieves sensor alignment settings (legacy format)."
    },
    "MSP_LED_STRIP_MODECOLOR": {
        "code": 127,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "modeIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the LED mode Enum (`ledModeIndex_e`). `LED_MODE_COUNT` for special colors",
                    "units": "",
                    "enum": "ledModeIndex_e"
                },
                {
                    "name": "directionOrSpecialIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the direction (`ledDirectionId_e`) or special color (`ledSpecialColorIds_e`)",
                    "units": ""
                },
                {
                    "name": "colorIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the color assigned from `ledStripConfig()->colors`",
                    "units": ""
                }
            ],
            "repeating": "LED_MODE_COUNT * LED_DIRECTION_COUNT + LED_SPECIAL_COLOR_COUNT"
        },
        "variable_len": "LED_MODE_COUNT * LED_DIRECTION_COUNT + LED_SPECIAL_COLOR_COUNT",
        "notes": "Only available if `USE_LED_STRIP` is defined. Entries where `modeIndex == LED_MODE_COUNT` describe special colors.",
        "description": "Retrieves the color index assigned to each LED mode and function/direction combination, including special colors."
    },
    "MSP_BATTERY_STATE": {
        "code": 130,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "desc": "Number of battery cells (`getBatteryCellCount()`)",
                    "units": "Count"
                },
                {
                    "name": "capacity",
                    "ctype": "uint16_t",
                    "desc": "Battery capacity (`currentBatteryProfile->capacity.value`)",
                    "units": "mAh"
                },
                {
                    "name": "vbatScaled",
                    "ctype": "uint8_t",
                    "desc": "Battery voltage / 10 (`getBatteryVoltage() / 10`)",
                    "units": "0.1V"
                },
                {
                    "name": "mAhDrawn",
                    "ctype": "uint16_t",
                    "desc": "Consumed capacity (`getMAhDrawn()`)",
                    "units": "mAh"
                },
                {
                    "name": "amperage",
                    "ctype": "int16_t",
                    "desc": "Current draw (`getAmperage()`)",
                    "units": "0.01A"
                },
                {
                    "name": "batteryState",
                    "ctype": "uint8_t",
                    "desc": "Enum `batteryState_e` Current battery state (`getBatteryState()`, see `BATTERY_STATE_*`)",
                    "units": "Enum",
                    "enum": "batteryState_e"
                },
                {
                    "name": "vbatActual",
                    "ctype": "uint16_t",
                    "desc": "Actual battery voltage (`getBatteryVoltage()`)",
                    "units": "0.01V"
                }
            ]
        },
        "notes": "Only available if `USE_DJI_HD_OSD` or `USE_MSP_DISPLAYPORT` is defined. Some values are duplicated from `MSP_ANALOG` / `MSP2_INAV_ANALOG` but potentially with different scaling/types.",
        "description": "Provides battery state information, formatted primarily for DJI FPV Goggles compatibility."
    },
    "MSP_VTXTABLE_BAND": {
        "code": 137,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "The ID is defined, but no handler exists in the provided C code. Likely intended to query band names and frequencies.",
        "description": "Retrieves information about a specific VTX band from the VTX table. (Implementation missing in provided `fc_msp.c`)"
    },
    "MSP_VTXTABLE_POWERLEVEL": {
        "code": 138,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "powerLevelIndex",
                    "ctype": "uint8_t",
                    "desc": "1-based index of the power level to query",
                    "units": ""
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "powerLevelIndex",
                    "ctype": "uint8_t",
                    "desc": "1-based index of the returned power level",
                    "units": ""
                },
                {
                    "name": "powerValue",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (Actual power value in mW is not stored/returned via MSP)",
                    "units": "",
                    "value": 0
                },
                {
                    "name": "labelLength",
                    "ctype": "uint8_t",
                    "desc": "Length of the power level label string that follows",
                    "units": ""
                },
                {
                    "name": "label",
                    "desc": "Power level label string (e.g., \"25\", \"200\"). Length given by previous field",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Requires `USE_VTX_CONTROL`. Returns error if index is out of bounds. The `powerValue` field is unused.",
        "description": "Retrieves information about a specific VTX power level from the VTX table."
    },
    "MSP_STATUS_EX": {
        "code": 150,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "cycleTime",
                    "ctype": "uint16_t",
                    "desc": "Main loop cycle time",
                    "units": "µs"
                },
                {
                    "name": "i2cErrors",
                    "ctype": "uint16_t",
                    "desc": "I2C errors",
                    "units": "Count"
                },
                {
                    "name": "sensorStatus",
                    "ctype": "uint16_t",
                    "desc": "Bitmask: Sensor status",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "activeModesLow",
                    "ctype": "uint32_t",
                    "desc": "Bitmask: First 32 active modes",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "profile",
                    "ctype": "uint8_t",
                    "desc": "Current config profile index",
                    "units": "Index"
                },
                {
                    "name": "cpuLoad",
                    "ctype": "uint16_t",
                    "desc": "Average system load percentage (`averageSystemLoadPercent`)",
                    "units": "%"
                },
                {
                    "name": "armingFlags",
                    "ctype": "uint16_t",
                    "desc": "Bitmask: Flight controller arming flags (`armingFlags`). Note: Truncated to 16 bits",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "accCalibAxisFlags",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Accelerometer calibrated axes flags (`accGetCalibrationAxisFlags()`)",
                    "units": "Bitmask",
                    "bitmask": true
                }
            ]
        },
        "notes": "Superseded by `MSP2_INAV_STATUS` which provides the full 32-bit `armingFlags` and other enhancements.",
        "description": "Provides extended flight controller status, including CPU load, arming flags, and calibration status, in addition to `MSP_STATUS` fields."
    },
    "MSP_SENSOR_STATUS": {
        "code": 151,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "overallHealth",
                    "ctype": "uint8_t",
                    "desc": "1 if all essential hardware is healthy, 0 otherwise (`isHardwareHealthy()`)",
                    "units": "Boolean"
                },
                {
                    "name": "gyroStatus",
                    "ctype": "uint8_t",
                    "desc": "Enum `hardwareSensorStatus_e` Gyro hardware status (`getHwGyroStatus()`)",
                    "units": "Enum",
                    "enum": "hardwareSensorStatus_e"
                },
                {
                    "name": "accStatus",
                    "ctype": "uint8_t",
                    "desc": "Enum `hardwareSensorStatus_e` Accelerometer hardware status (`getHwAccelerometerStatus()`)",
                    "units": "Enum",
                    "enum": "hardwareSensorStatus_e"
                },
                {
                    "name": "magStatus",
                    "ctype": "uint8_t",
                    "desc": "Enum `hardwareSensorStatus_e` Compass hardware status (`getHwCompassStatus()`)",
                    "units": "Enum",
                    "enum": "hardwareSensorStatus_e"
                },
                {
                    "name": "baroStatus",
                    "ctype": "uint8_t",
                    "desc": "Enum `hardwareSensorStatus_e` Barometer hardware status (`getHwBarometerStatus()`)",
                    "units": "Enum",
                    "enum": "hardwareSensorStatus_e"
                },
                {
                    "name": "gpsStatus",
                    "ctype": "uint8_t",
                    "desc": "Enum `hardwareSensorStatus_e` GPS hardware status (`getHwGPSStatus()`)",
                    "units": "Enum",
                    "enum": "hardwareSensorStatus_e"
                },
                {
                    "name": "rangefinderStatus",
                    "ctype": "uint8_t",
                    "desc": "Enum `hardwareSensorStatus_e` Rangefinder hardware status (`getHwRangefinderStatus()`)",
                    "units": "Enum",
                    "enum": "hardwareSensorStatus_e"
                },
                {
                    "name": "pitotStatus",
                    "ctype": "uint8_t",
                    "desc": "Enum `hardwareSensorStatus_e` Pitot hardware status (`getHwPitotmeterStatus()`)",
                    "units": "Enum",
                    "enum": "hardwareSensorStatus_e"
                },
                {
                    "name": "opflowStatus",
                    "ctype": "uint8_t",
                    "desc": "Enum `hardwareSensorStatus_e` Optical Flow hardware status (`getHwOpticalFlowStatus()`)",
                    "units": "Enum",
                    "enum": "hardwareSensorStatus_e"
                }
            ]
        },
        "notes": "Status values map to the `hardwareSensorStatus_e` enum: `HW_SENSOR_NONE`, `HW_SENSOR_OK`, `HW_SENSOR_UNAVAILABLE`, `HW_SENSOR_UNHEALTHY`.",
        "description": "Provides the hardware status for each individual sensor system."
    },
    "MSP_UID": {
        "code": 160,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "uid0",
                    "ctype": "uint32_t",
                    "desc": "First 32 bits of the unique ID (`U_ID_0`)",
                    "units": ""
                },
                {
                    "name": "uid1",
                    "ctype": "uint32_t",
                    "desc": "Middle 32 bits of the unique ID (`U_ID_1`)",
                    "units": ""
                },
                {
                    "name": "uid2",
                    "ctype": "uint32_t",
                    "desc": "Last 32 bits of the unique ID (`U_ID_2`)",
                    "units": ""
                }
            ]
        },
        "notes": "Total 12 bytes, representing a 96-bit unique ID.",
        "description": "Provides the unique identifier of the microcontroller."
    },
    "MSP_GPSSVINFO": {
        "code": 164,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "protocolVersion",
                    "ctype": "uint8_t",
                    "desc": "Always 1 (Stub version)",
                    "units": "",
                    "value": 1
                },
                {
                    "name": "numChannels",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (Number of SV info channels reported)",
                    "units": "",
                    "value": 0
                },
                {
                    "name": "hdopHundredsDigit",
                    "ctype": "uint8_t",
                    "desc": "Hundreds digit of HDOP (stub always writes 0)",
                    "units": ""
                },
                {
                    "name": "hdopTensDigit",
                    "ctype": "uint8_t",
                    "desc": "Tens digit of HDOP (`gpsSol.hdop / 100`, truncated)",
                    "units": ""
                },
                {
                    "name": "hdopUnitsDigit",
                    "ctype": "uint8_t",
                    "desc": "Units digit of HDOP (`gpsSol.hdop / 100`, duplicated by stub)",
                    "units": ""
                }
            ]
        },
        "notes": "Requires `USE_GPS`. This is just a stub in INAV and does not provide actual per-satellite signal info. HDOP digits are not formatted correctly: tens and units both contain `gpsSol.hdop / 100`.",
        "description": "Provides satellite signal strength information (legacy U-Blox compatibility stub)."
    },
    "MSP_GPSSTATISTICS": {
        "code": 166,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "lastMessageDt",
                    "ctype": "uint16_t",
                    "desc": "Time since last valid GPS message (`gpsStats.lastMessageDt`)",
                    "units": "ms"
                },
                {
                    "name": "errors",
                    "ctype": "uint32_t",
                    "desc": "Number of GPS communication errors (`gpsStats.errors`)",
                    "units": "Count"
                },
                {
                    "name": "timeouts",
                    "ctype": "uint32_t",
                    "desc": "Number of GPS communication timeouts (`gpsStats.timeouts`)",
                    "units": "Count"
                },
                {
                    "name": "packetCount",
                    "ctype": "uint32_t",
                    "desc": "Number of valid GPS packets received (`gpsStats.packetCount`)",
                    "units": "Count"
                },
                {
                    "name": "hdop",
                    "ctype": "uint16_t",
                    "desc": "Horizontal Dilution of Precision (`gpsSol.hdop`)",
                    "units": "HDOP * 100"
                },
                {
                    "name": "eph",
                    "ctype": "uint16_t",
                    "desc": "Estimated Horizontal Position Accuracy (`gpsSol.eph`)",
                    "units": "cm"
                },
                {
                    "name": "epv",
                    "ctype": "uint16_t",
                    "desc": "Estimated Vertical Position Accuracy (`gpsSol.epv`)",
                    "units": "cm"
                }
            ]
        },
        "notes": "Requires `USE_GPS`.",
        "description": "Provides debugging statistics for the GPS communication link."
    },
    "MSP_OSD_VIDEO_CONFIG": {
        "code": 180,
        "mspv": 1,
        "request": null,
        "reply": null,
        "name": "MSP_OSD_VIDEO_CONFIG",
        "missing": true
    },
    "MSP_SET_OSD_VIDEO_CONFIG": {
        "code": 181,
        "mspv": 1,
        "request": null,
        "reply": null,
        "name": "MSP_SET_OSD_VIDEO_CONFIG",
        "missing": true
    },
    "MSP_DISPLAYPORT": {
        "code": 182,
        "mspv": 1,
        "request": null,
        "reply": null,
        "name": "MSP_DISPLAYPORT",
        "missing": true
    },
    "MSP_SET_TX_INFO": {
        "code": 186,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "rssi",
                    "ctype": "uint8_t",
                    "desc": "RSSI value (0-255) provided by the external source; firmware scales it to 10-bit (`value << 2`)",
                    "units": "Raw"
                }
            ]
        },
        "reply": null,
        "notes": "Calls `setRSSIFromMSP()`. Expects 1 byte.",
        "description": "Allows a transmitter LUA script (or similar) to send runtime information (currently only RSSI) to the firmware."
    },
    "MSP_TX_INFO": {
        "code": 187,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "rssiSource",
                    "ctype": "uint8_t",
                    "desc": "Enum: Source of the RSSI value (`getRSSISource()`, see `rssiSource_e`)",
                    "units": "",
                    "enum": "rssiSource_e"
                },
                {
                    "name": "rtcDateTimeIsSet",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if the RTC has been set, 0 otherwise",
                    "units": ""
                }
            ]
        },
        "notes": "See `rssiSource_e`.",
        "description": "Provides information potentially useful for transmitter LUA scripts."
    },
    "MSP_SET_RAW_RC": {
        "code": 200,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "rcChannels",
                    "desc": "Array of RC channel values (typically 1000-2000). Number of channels determined by payload size",
                    "ctype": "uint16_t",
                    "array": true,
                    "array_size": 0,
                    "units": "PWM"
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "notes": "Requires `USE_RX_MSP`. Maximum channels `MAX_SUPPORTED_RC_CHANNEL_COUNT`. Calls `rxMspFrameReceive()`.",
        "description": "Provides raw RC channel data to the flight controller, typically used when the receiver is connected via MSP (e.g., MSP RX feature)."
    },
    "MSP_SET_RAW_GPS": {
        "code": 201,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "fixType",
                    "ctype": "uint8_t",
                    "desc": "Enum `gpsFixType_e` GPS fix type",
                    "units": "Enum",
                    "enum": "gpsFixType_e"
                },
                {
                    "name": "numSat",
                    "ctype": "uint8_t",
                    "desc": "Number of satellites",
                    "units": "Count"
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "desc": "Latitude",
                    "units": "deg * 1e7"
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "desc": "Longitude",
                    "units": "deg * 1e7"
                },
                {
                    "name": "altitude",
                    "ctype": "uint16_t",
                    "desc": "Altitude in meters (converted to centimeters internally; limited to 0-65535 m)",
                    "units": "m"
                },
                {
                    "name": "speed",
                    "ctype": "uint16_t",
                    "desc": "Ground speed (`gpsSol.groundSpeed`)",
                    "units": "cm/s"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_GPS`. Expects 14 bytes. Updates `gpsSol` structure and calls `onNewGPSData()`. Note the altitude unit mismatch (meters in MSP, cm internal). Does not provide velocity components.",
        "description": "Provides raw GPS data to the flight controller, typically for simulation or external GPS injection."
    },
    "MSP_SET_BOX": {
        "code": 203,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`. Mode changes are typically handled via RC channels (`MSP_MODE_RANGES`).",
        "description": "Sets the state of flight modes (boxes). (Likely unused/obsolete in INAV)."
    },
    "MSP_SET_RC_TUNING": {
        "code": 204,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "legacyRcRate",
                    "ctype": "uint8_t",
                    "desc": "Ignored",
                    "units": ""
                },
                {
                    "name": "rcExpo",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->stabilized.rcExpo8`",
                    "units": ""
                },
                {
                    "name": "rollRate",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->stabilized.rates[FD_ROLL]` (constrained)",
                    "units": ""
                },
                {
                    "name": "pitchRate",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->stabilized.rates[FD_PITCH]` (constrained)",
                    "units": ""
                },
                {
                    "name": "yawRate",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->stabilized.rates[FD_YAW]` (constrained)",
                    "units": ""
                },
                {
                    "name": "dynamicThrottlePID",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->throttle.dynPID` (constrained)",
                    "units": ""
                },
                {
                    "name": "throttleMid",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->throttle.rcMid8`",
                    "units": ""
                },
                {
                    "name": "throttleExpo",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->throttle.rcExpo8`",
                    "units": ""
                },
                {
                    "name": "tpaBreakpoint",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentControlRateProfile->throttle.pa_breakpoint`",
                    "units": ""
                },
                {
                    "name": "rcYawExpo",
                    "ctype": "uint8_t",
                    "desc": "(Optional) Sets `currentControlRateProfile->stabilized.rcYawExpo8`",
                    "units": "",
                    "optional": true
                }
            ]
        },
        "reply": null,
        "notes": "Expects 10 or 11 bytes. Calls `schedulePidGainsUpdate()`. Superseded by `MSP2_INAV_SET_RATE_PROFILE`.",
        "description": "Sets RC tuning parameters (rates, expos, TPA) for the current control rate profile."
    },
    "MSP_ACC_CALIBRATION": {
        "code": 205,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "Will fail if armed. Calls `accStartCalibration()`.",
        "description": "Starts the accelerometer calibration procedure."
    },
    "MSP_MAG_CALIBRATION": {
        "code": 206,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "Will fail if armed. Enables the `CALIBRATE_MAG` state flag.",
        "description": "Starts the magnetometer calibration procedure."
    },
    "MSP_SET_MISC": {
        "code": 207,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "desc": "Ignored",
                    "units": "PWM"
                },
                {
                    "name": "legacyMinThrottle",
                    "ctype": "uint16_t",
                    "desc": "Ignored"
                },
                {
                    "name": "legacyMaxThrottle",
                    "ctype": "uint16_t",
                    "desc": "Ignored"
                },
                {
                    "name": "minCommand",
                    "ctype": "uint16_t",
                    "desc": "Sets `motorConfigMutable()->mincommand` (constrained 0-PWM_RANGE_MAX)",
                    "units": "PWM"
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->failsafe_throttle` (constrained PWM_RANGE_MIN/MAX)",
                    "units": "PWM"
                },
                {
                    "name": "gpsType",
                    "ctype": "uint8_t",
                    "desc": "Enum `gpsProvider_e` (Sets `gpsConfigMutable()->provider`)",
                    "units": "Enum",
                    "enum": "gpsProvider_e"
                },
                {
                    "name": "legacyGpsBaud",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "gpsSbasMode",
                    "ctype": "uint8_t",
                    "desc": "Enum `sbasMode_e` (Sets `gpsConfigMutable()->sbasMode`)",
                    "units": "Enum",
                    "enum": "sbasMode_e"
                },
                {
                    "name": "legacyMwCurrentOut",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "desc": "Sets `rxConfigMutable()->rssi_channel` (constrained 0-MAX_SUPPORTED_RC_CHANNEL_COUNT). Updates source",
                    "units": "Index"
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "magDeclination",
                    "ctype": "uint16_t",
                    "desc": "Sets `compassConfigMutable()->mag_declination = value * 10` (if `USE_MAG`)",
                    "units": "0.1 degrees"
                },
                {
                    "name": "vbatScale",
                    "ctype": "uint8_t",
                    "desc": "Sets `batteryMetersConfigMutable()->voltage.scale = value * 10` (if `USE_ADC`)",
                    "units": "Scale / 10"
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMin = value * 10` (if `USE_ADC`)",
                    "units": "0.1V"
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMax = value * 10` (if `USE_ADC`)",
                    "units": "0.1V"
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellWarning = value * 10` (if `USE_ADC`)",
                    "units": "0.1V"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 22 bytes. Superseded by `MSP2_INAV_SET_MISC`.",
        "description": "Sets miscellaneous configuration settings (legacy formats/scaling)."
    },
    "MSP_RESET_CONF": {
        "code": 208,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "Will fail if armed. Suspends RX, calls `resetEEPROM()`, `writeEEPROM()`, `readEEPROM()`, resumes RX. Use with caution!",
        "description": "Resets all configuration settings to their default values and saves to EEPROM."
    },
    "MSP_SET_WP": {
        "code": 209,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "waypointIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the waypoint to set (0 to `NAV_MAX_WAYPOINTS - 1`)",
                    "units": "Index"
                },
                {
                    "name": "action",
                    "ctype": "uint8_t",
                    "desc": "Enum `navWaypointActions_e` Waypoint action type",
                    "units": "Enum",
                    "enum": "navWaypointActions_e"
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "desc": "Latitude coordinate",
                    "units": "deg * 1e7"
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "desc": "Longitude coordinate",
                    "units": "deg * 1e7"
                },
                {
                    "name": "altitude",
                    "ctype": "int32_t",
                    "desc": "Altitude coordinate",
                    "units": "cm"
                },
                {
                    "name": "param1",
                    "ctype": "uint16_t",
                    "desc": "Parameter 1",
                    "units": "Varies"
                },
                {
                    "name": "param2",
                    "ctype": "uint16_t",
                    "desc": "Parameter 2",
                    "units": "Varies"
                },
                {
                    "name": "param3",
                    "ctype": "uint16_t",
                    "desc": "Parameter 3",
                    "units": "Varies"
                },
                {
                    "name": "flag",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Waypoint flags (`navWaypointFlags_e`)",
                    "units": "Bitmask",
                    "bitmask": true,
                    "enum": "navWaypointFlags_e"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 21 bytes. Calls `setWaypoint()`. If `USE_FW_AUTOLAND` is enabled, this also interacts with autoland approach settings based on waypoint index and flags.",
        "description": "Sets a single waypoint in the mission plan."
    },
    "MSP_SELECT_SETTING": {
        "code": 210,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "profileIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the profile to activate (0-based)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Will fail if armed. Calls `setConfigProfileAndWriteEEPROM()`.",
        "description": "Selects the active configuration profile and saves it."
    },
    "MSP_SET_HEAD": {
        "code": 211,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "heading",
                    "ctype": "uint16_t",
                    "desc": "Target heading (0-359)",
                    "units": "degrees"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 2 bytes. Calls `updateHeadingHoldTarget()`.",
        "description": "Sets the target heading for the heading hold controller (e.g., during MAG mode)."
    },
    "MSP_SET_SERVO_CONFIGURATION": {
        "code": 212,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "servoIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the servo to configure (0 to `MAX_SUPPORTED_SERVOS - 1`)",
                    "units": "Index"
                },
                {
                    "name": "min",
                    "ctype": "uint16_t",
                    "desc": "Minimum servo endpoint",
                    "units": "PWM"
                },
                {
                    "name": "max",
                    "ctype": "uint16_t",
                    "desc": "Maximum servo endpoint",
                    "units": "PWM"
                },
                {
                    "name": "middle",
                    "ctype": "uint16_t",
                    "desc": "Middle/Neutral servo position",
                    "units": "PWM"
                },
                {
                    "name": "rate",
                    "ctype": "uint8_t",
                    "desc": "Servo rate/scaling",
                    "units": "%"
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "reserved2",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "legacyForwardChan",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "legacyReversedSources",
                    "ctype": "uint32_t",
                    "desc": "Ignored"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 15 bytes. Returns error if index is invalid. Calls `servoComputeScalingFactors()`. Superseded by `MSP2_INAV_SET_SERVO_CONFIG`.",
        "description": "Sets the configuration for a single servo (legacy format)."
    },
    "MSP_SET_MOTOR": {
        "code": 214,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "motorValues",
                    "desc": "Array of motor values to set when disarmed. Only affects first `MAX_SUPPORTED_MOTORS` entries",
                    "ctype": "uint16_t",
                    "array": true,
                    "array_size": 8,
                    "units": "PWM"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 16 bytes. Modifies the `motor_disarmed` array. These values are *not* saved persistently.",
        "description": "Sets the disarmed motor values, typically used for motor testing or propeller balancing functions in a configurator."
    },
    "MSP_SET_NAV_CONFIG": {
        "code": 215,
        "mspv": 1,
        "not_implemented": true
    },
    "MSP_SET_3D": {
        "code": 217,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "deadbandLow",
                    "ctype": "uint16_t",
                    "desc": "Sets `reversibleMotorsConfigMutable()->deadband_low`",
                    "units": "PWM"
                },
                {
                    "name": "deadbandHigh",
                    "ctype": "uint16_t",
                    "desc": "Sets `reversibleMotorsConfigMutable()->deadband_high`",
                    "units": "PWM"
                },
                {
                    "name": "neutral",
                    "ctype": "uint16_t",
                    "desc": "Sets `reversibleMotorsConfigMutable()->neutral`",
                    "units": "PWM"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 6 bytes. Requires reversible motor support.",
        "description": "Sets parameters related to 3D/reversible motor operation."
    },
    "MSP_SET_RC_DEADBAND": {
        "code": 218,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "deadband",
                    "ctype": "uint8_t",
                    "desc": "Sets `rcControlsConfigMutable()->deadband`",
                    "units": "PWM"
                },
                {
                    "name": "yawDeadband",
                    "ctype": "uint8_t",
                    "desc": "Sets `rcControlsConfigMutable()->yaw_deadband`",
                    "units": "PWM"
                },
                {
                    "name": "altHoldDeadband",
                    "ctype": "uint8_t",
                    "desc": "Sets `rcControlsConfigMutable()->alt_hold_deadband`",
                    "units": "PWM"
                },
                {
                    "name": "throttleDeadband",
                    "ctype": "uint16_t",
                    "desc": "Sets `rcControlsConfigMutable()->mid_throttle_deadband`",
                    "units": "PWM"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 5 bytes.",
        "description": "Sets RC input deadband values."
    },
    "MSP_SET_RESET_CURR_PID": {
        "code": 219,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "Calls `PG_RESET_CURRENT(pidProfile)`. To save, follow with `MSP_EEPROM_WRITE`.",
        "description": "Resets the PIDs of the *current* profile to their default values. Does not save."
    },
    "MSP_SET_SENSOR_ALIGNMENT": {
        "code": 220,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "gyroAlign",
                    "ctype": "uint8_t",
                    "desc": "Ignored",
                    "units": ""
                },
                {
                    "name": "accAlign",
                    "ctype": "uint8_t",
                    "desc": "Ignored",
                    "units": ""
                },
                {
                    "name": "magAlign",
                    "ctype": "uint8_t",
                    "desc": "Sets `compassConfigMutable()->mag_align` (if `USE_MAG`)",
                    "units": ""
                },
                {
                    "name": "opflowAlign",
                    "ctype": "uint8_t",
                    "desc": "Sets `opticalFlowConfigMutable()->opflow_align` (if `USE_OPFLOW`)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 4 bytes. Use `MSP_SET_BOARD_ALIGNMENT` for primary board orientation.",
        "description": "Sets sensor alignment (legacy format)."
    },
    "MSP_SET_LED_STRIP_MODECOLOR": {
        "code": 221,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "modeIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the LED mode (`ledModeIndex_e` or `LED_MODE_COUNT` for special)",
                    "units": ""
                },
                {
                    "name": "directionOrSpecialIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the direction (`ledDirectionId_e`) or special color (`ledSpecialColorIds_e`)",
                    "units": ""
                },
                {
                    "name": "colorIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the color to assign from `ledStripConfig()->colors`",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Only available if `USE_LED_STRIP` is defined. Expects 3 bytes. Returns error if setting fails (invalid index).",
        "description": "Sets the color index for a specific LED mode/function combination."
    },
    "MSP_SET_ACC_TRIM": {
        "code": 239,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`. Use `MSP_ACC_CALIBRATION`.",
        "description": "Sets the accelerometer trim values (leveling calibration)."
    },
    "MSP_ACC_TRIM": {
        "code": 240,
        "mspv": 1,
        "not_implemented": true,
        "request": null,
        "reply": null,
        "notes": "Not implemented in INAV `fc_msp.c`. Calibration data via `MSP_CALIBRATION_DATA`.",
        "description": "Gets the accelerometer trim values."
    },
    "MSP_SERVO_MIX_RULES": {
        "code": 241,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "targetChannel",
                    "ctype": "uint8_t",
                    "desc": "Servo output channel index (0-based)",
                    "units": "Index"
                },
                {
                    "name": "inputSource",
                    "ctype": "uint8_t",
                    "desc": "Enum `inputSource_e` Input source for the mix (RC chan, Roll, Pitch...)",
                    "units": "Enum",
                    "enum": "inputSource_e"
                },
                {
                    "name": "rate",
                    "ctype": "int16_t",
                    "desc": "Mixing rate/weight (`-1000` to `+1000`, percent with sign)",
                    "units": "%"
                },
                {
                    "name": "speed",
                    "ctype": "uint8_t",
                    "desc": "Speed/Slew rate limit (`0`=instant, higher slows response)",
                    "units": "0-255"
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Always 0",
                    "value": 0
                },
                {
                    "name": "legacyMax",
                    "ctype": "uint8_t",
                    "desc": "Always 100 (Legacy)",
                    "value": 100
                },
                {
                    "name": "legacyBox",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                }
            ],
            "repeating": "MAX_SERVO_RULES"
        },
        "variable_len": "MAX_SERVO_RULES",
        "notes": "Superseded by `MSP2_INAV_SERVO_MIXER`.",
        "description": "Retrieves the custom servo mixer rules (legacy format)."
    },
    "MSP_SET_SERVO_MIX_RULE": {
        "code": 242,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "ruleIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the rule to set (0 to `MAX_SERVO_RULES - 1`)",
                    "units": "Index"
                },
                {
                    "name": "targetChannel",
                    "ctype": "uint8_t",
                    "desc": "Servo output channel index",
                    "units": "Index"
                },
                {
                    "name": "inputSource",
                    "ctype": "uint8_t",
                    "desc": "Enum `inputSource_e` Input source for the mix",
                    "units": "Enum",
                    "enum": "inputSource_e"
                },
                {
                    "name": "rate",
                    "ctype": "int16_t",
                    "desc": "Mixing rate/weight (`-1000` to `+1000`, percent with sign)",
                    "units": "%"
                },
                {
                    "name": "speed",
                    "ctype": "uint8_t",
                    "desc": "Speed/Slew rate limit (`0`=instant, higher slows response)",
                    "units": "0-255"
                },
                {
                    "name": "legacyMinMax",
                    "ctype": "uint16_t",
                    "desc": "Ignored"
                },
                {
                    "name": "legacyBox",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 9 bytes. Returns error if index invalid. Calls `loadCustomServoMixer()`. Superseded by `MSP2_INAV_SET_SERVO_MIXER`.",
        "description": "Sets a single custom servo mixer rule (legacy format)."
    },
    "MSP_SET_PASSTHROUGH": {
        "code": 245,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "status",
                    "ctype": "uint8_t",
                    "desc": "1 if passthrough started successfully, 0 on error (e.g., port not found). For 4way, returns number of ESCs found",
                    "units": ""
                }
            ]
        },
        "notes": "Accepts 0 bytes (defaults to ESC 4-way) or up to 2 bytes for mode/argument. If successful, sets `mspPostProcessFn` to the appropriate handler (`mspSerialPassthroughFn` or `esc4wayProcess`). This handler takes over the serial port after the reply is sent. Requires `USE_SERIAL_4WAY_BLHELI_INTERFACE` for ESC passthrough.",
        "description": "Enables serial passthrough mode to peripherals like ESCs (BLHeli 4-way) or other serial devices."
    },
    "MSP_RTC": {
        "code": 246,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "seconds",
                    "ctype": "int32_t",
                    "desc": "Seconds since epoch (or relative time if not set). 0 if RTC time unknown",
                    "units": "Seconds"
                },
                {
                    "name": "millis",
                    "ctype": "uint16_t",
                    "desc": "Millisecond part of the time. 0 if RTC time unknown",
                    "units": "Milliseconds"
                }
            ]
        },
        "notes": "Requires RTC hardware/support. Returns (0, 0) if time is not available/set.",
        "description": "Retrieves the current Real-Time Clock time."
    },
    "MSP_SET_RTC": {
        "code": 247,
        "mspv": 1,
        "request": {
            "payload": [
                {
                    "name": "seconds",
                    "ctype": "int32_t",
                    "desc": "Seconds component of time to set",
                    "units": "Seconds"
                },
                {
                    "name": "millis",
                    "ctype": "uint16_t",
                    "desc": "Millisecond component of time to set",
                    "units": "Milliseconds"
                }
            ]
        },
        "reply": null,
        "notes": "Requires RTC hardware/support. Expects 6 bytes. Uses `rtcSet()`.",
        "description": "Sets the Real-Time Clock time."
    },
    "MSP_EEPROM_WRITE": {
        "code": 250,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "Will fail if armed. Suspends RX, calls `writeEEPROM()`, `readEEPROM()`, resumes RX.",
        "description": "Saves the current configuration from RAM to non-volatile memory (EEPROM/Flash)."
    },
    "MSP_RESERVE_1": {
        "code": 251,
        "mspv": 1,
        "request": null,
        "reply": null,
        "name": "MSP_RESERVE_1",
        "missing": true
    },
    "MSP_RESERVE_2": {
        "code": 252,
        "mspv": 1,
        "request": null,
        "reply": null,
        "name": "MSP_RESERVE_2",
        "missing": true
    },
    "MSP_DEBUGMSG": {
        "code": 253,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "Message Text",
                    "desc": "Debug message text (not NUL-terminated). See [serial printf debugging](https://github.com/iNavFlight/inav/blob/master/docs/development/serial_printf_debugging.md)",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Published via the LOG UART or shared MSP/LOG port using `mspSerialPushPort()`.",
        "description": "Retrieves debug (\"serial printf\") messages from the firmware."
    },
    "MSP_DEBUG": {
        "code": 254,
        "mspv": 1,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "debugValues",
                    "desc": "First 4 values from the `debug` array",
                    "ctype": "uint16_t",
                    "array": true,
                    "array_size": 4,
                    "units": ""
                }
            ]
        },
        "notes": "Useful for developers. Values are truncated to the lower 16 bits of each `debug[]` entry. See `MSP2_INAV_DEBUG` for full 32-bit values.",
        "description": "Retrieves values from the firmware's `debug[]` array (legacy 16-bit version)."
    },
    "MSP_V2_FRAME": {
        "code": 255,
        "mspv": 1,
        "request": null,
        "reply": null,
        "notes": "See MSPv2 documentation for the actual frame structure that follows this indicator.",
        "description": "This ID is used as a *payload indicator* within an MSPv1 message structure (`$M>`) to signify that the following payload conforms to the MSPv2 format. It's not a command itself."
    },
    "MSP2_COMMON_TZ": {
        "code": 4097,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "tzOffsetMinutes",
                    "ctype": "int16_t",
                    "desc": "Time zone offset from UTC (`timeConfig()->tz_offset`)",
                    "units": "Minutes"
                },
                {
                    "name": "tzAutoDst",
                    "ctype": "uint8_t",
                    "desc": "Automatic daylight saving time enabled (`timeConfig()->tz_automatic_dst`)",
                    "units": "Boolean"
                }
            ]
        },
        "notes": "",
        "description": "Gets the time zone offset configuration."
    },
    "MSP2_COMMON_SET_TZ": {
        "code": 4098,
        "mspv": 2,
        "request": null,
        "reply": null,
        "notes": "Accepts 2 or 3 bytes.",
        "description": "Sets the time zone offset configuration.",
        "variants": {
            "dataSize == 2": {
                "description": "dataSize == 2",
                "request": {
                    "payload": [
                        {
                            "name": "tz_offset",
                            "ctype": "int16_t",
                            "desc": "Timezone offset from UTC.",
                            "units": "minutes"
                        }
                    ]
                },
                "reply": null
            },
            "dataSize == 3": {
                "description": "dataSize == 3",
                "request": {
                    "payload": [
                        {
                            "name": "tz_offset",
                            "ctype": "int16_t",
                            "desc": "Timezone offset from UTC.",
                            "units": "minutes"
                        },
                        {
                            "name": "tz_automatic_dst",
                            "ctype": "uint8_t",
                            "desc": "Automatic DST enable (0/1).",
                            "units": "bool"
                        }
                    ]
                },
                "reply": null
            }
        }
    },
    "MSP2_COMMON_SETTING": {
        "code": 4099,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "settingIdentifier",
                    "ctype": "Varies",
                    "desc": "Setting name (null-terminated string) OR index selector (`0x00` followed by `uint16_t` index)",
                    "polymorph": true,
                    "units": ""
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "settingValue",
                    "desc": "Raw byte value of the setting. Size depends on the setting's type (`settingGetValueSize()`)",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Returns error if setting not found. Use `MSP2_COMMON_SETTING_INFO` to discover settings, types, and sizes.",
        "description": "Gets the value of a specific configuration setting, identified by name or index."
    },
    "MSP2_COMMON_SET_SETTING": {
        "code": 4100,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "settingIdentifier",
                    "ctype": "Varies",
                    "desc": "Setting name (null-terminated string) OR Index (0x00 followed by `uint16_t` index)",
                    "polymorph": true,
                    "units": ""
                },
                {
                    "name": "settingValue",
                    "desc": "Raw byte value to set for the setting. Size must match the setting's type",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "notes": "Performs type checking and range validation (min/max). Returns error if setting not found, value size mismatch, or value out of range. Handles different data types (`uint8`, `int16`, `float`, `string`, etc.) internally.",
        "description": "Sets the value of a specific configuration setting, identified by name or index."
    },
    "MSP2_COMMON_MOTOR_MIXER": {
        "code": 4101,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "motorMix",
                    "desc": "Weights for a single motor `[throttle, roll, pitch, yaw]`, each encoded as `(mix + 2.0) * 1000` (range 0-4000)",
                    "ctype": "uint16_t",
                    "array": true,
                    "array_size": 4,
                    "units": "Scaled (0-4000)"
                }
            ],
            "repeating": "MAX_SUPPORTED_MOTORS"
        },
        "variable_len": "MAX_SUPPORTED_MOTORS",
        "notes": "Scaling is `(float_weight + 2.0) * 1000`. `primaryMotorMixer()` provides the data. If multiple mixer profiles are enabled (`MAX_MIXER_PROFILE_COUNT > 1`), an additional block of mixes for the next profile follows immediately.",
        "description": "Retrieves the current motor mixer configuration (throttle, roll, pitch, yaw weights) for each motor."
    },
    "MSP2_COMMON_SET_MOTOR_MIXER": {
        "code": 4102,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "motorIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the motor to configure (0 to `MAX_SUPPORTED_MOTORS - 1`)",
                    "units": "Index"
                },
                {
                    "name": "throttleWeight",
                    "ctype": "uint16_t",
                    "desc": "Sets throttle weight from `(value / 1000.0) - 2.0",
                    "units": "Scaled (0-4000)"
                },
                {
                    "name": "rollWeight",
                    "ctype": "uint16_t",
                    "desc": "Sets roll weight from `(value / 1000.0) - 2.0",
                    "units": "Scaled (0-4000)"
                },
                {
                    "name": "pitchWeight",
                    "ctype": "uint16_t",
                    "desc": "Sets pitch weight from `(value / 1000.0) - 2.0",
                    "units": "Scaled (0-4000)"
                },
                {
                    "name": "yawWeight",
                    "ctype": "uint16_t",
                    "desc": "Sets yaw weight from `(value / 1000.0) - 2.0",
                    "units": "Scaled (0-4000)"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 9 bytes. Modifies `primaryMotorMixerMutable()`. Returns error if index is invalid.",
        "description": "Sets the motor mixer weights for a single motor in the primary mixer profile."
    },
    "MSP2_COMMON_SETTING_INFO": {
        "code": 4103,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "settingName",
                    "desc": "Null-terminated setting name",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                },
                {
                    "name": "pgn",
                    "ctype": "uint16_t",
                    "desc": "Parameter Group Number (PGN) ID",
                    "units": ""
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "desc": "Variable type (`VAR_UINT8`, `VAR_FLOAT`, etc.)",
                    "units": ""
                },
                {
                    "name": "section",
                    "ctype": "uint8_t",
                    "desc": "Setting section (`MASTER_VALUE`, `PROFILE_VALUE`, etc.)",
                    "units": ""
                },
                {
                    "name": "mode",
                    "ctype": "uint8_t",
                    "desc": "Setting mode (`MODE_NORMAL`, `MODE_LOOKUP`, etc.)",
                    "units": ""
                },
                {
                    "name": "minValue",
                    "ctype": "int32_t",
                    "desc": "Minimum allowed value (as signed 32-bit)",
                    "units": ""
                },
                {
                    "name": "maxValue",
                    "ctype": "uint32_t",
                    "desc": "Maximum allowed value (as unsigned 32-bit)",
                    "units": ""
                },
                {
                    "name": "settingIndex",
                    "ctype": "uint16_t",
                    "desc": "Absolute index of the setting",
                    "units": ""
                },
                {
                    "name": "profileIndex",
                    "ctype": "uint8_t",
                    "desc": "Current profile index (if applicable, else 0)",
                    "units": ""
                },
                {
                    "name": "profileCount",
                    "ctype": "uint8_t",
                    "desc": "Total number of profiles (if applicable, else 0)",
                    "units": ""
                },
                {
                    "name": "lookupNames",
                    "desc": "(If `mode == MODE_LOOKUP`) Series of null-terminated strings for each possible value from min to max",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                },
                {
                    "name": "settingValue",
                    "desc": "Current raw byte value of the setting",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "",
        "description": "Gets detailed information about a specific configuration setting (name, type, range, flags, current value, etc.)."
    },
    "MSP2_COMMON_PG_LIST": {
        "code": 4104,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "pgn",
                    "ctype": "uint16_t",
                    "desc": "(Optional) PGN ID to query. If omitted, returns all used PGNs",
                    "units": "",
                    "optional": true
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "pgn",
                    "ctype": "uint16_t",
                    "desc": "Parameter Group Number (PGN) ID",
                    "units": ""
                },
                {
                    "name": "startIndex",
                    "ctype": "uint16_t",
                    "desc": "Absolute index of the first setting in this group",
                    "units": ""
                },
                {
                    "name": "endIndex",
                    "ctype": "uint16_t",
                    "desc": "Absolute index of the last setting in this group",
                    "units": ""
                }
            ],
            "repeating": "for each PGN found"
        },
        "variable_len": "for each PGN found",
        "notes": "Allows efficient fetching of related settings by group.",
        "description": "Gets a list of Parameter Group Numbers (PGNs) used by settings, along with the start and end setting indexes for each group. Can request info for a single PGN."
    },
    "MSP2_COMMON_SERIAL_CONFIG": {
        "code": 4105,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "identifier",
                    "ctype": "uint8_t",
                    "desc": "Port identifier Enum (`serialPortIdentifier_e`)",
                    "units": "",
                    "enum": "serialPortIdentifier_e"
                },
                {
                    "name": "functionMask",
                    "ctype": "uint32_t",
                    "desc": "Bitmask: enabled functions (`FUNCTION_*`)",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "mspBaudIndex",
                    "ctype": "uint8_t",
                    "desc": "Baud rate index for MSP function",
                    "units": ""
                },
                {
                    "name": "gpsBaudIndex",
                    "ctype": "uint8_t",
                    "desc": "Baud rate index for GPS function",
                    "units": ""
                },
                {
                    "name": "telemetryBaudIndex",
                    "ctype": "uint8_t",
                    "desc": "Baud rate index for Telemetry function",
                    "units": ""
                },
                {
                    "name": "peripheralBaudIndex",
                    "ctype": "uint8_t",
                    "desc": "Baud rate index for other peripheral functions",
                    "units": ""
                }
            ],
            "repeating": "for each available serial port"
        },
        "variable_len": "for each available serial port",
        "notes": "Baud rate indexes map to actual baud rates (e.g., 9600, 115200). See `baudRates` array.",
        "description": "Retrieves the configuration for all available serial ports."
    },
    "MSP2_COMMON_SET_SERIAL_CONFIG": {
        "code": 4106,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "identifier",
                    "ctype": "uint8_t",
                    "desc": "Port identifier Enum (`serialPortIdentifier_e`)",
                    "units": "",
                    "enum": "serialPortIdentifier_e"
                },
                {
                    "name": "functionMask",
                    "ctype": "uint32_t",
                    "desc": "Bitmask: functions to enable",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "mspBaudIndex",
                    "ctype": "uint8_t",
                    "desc": "Baud rate index for MSP",
                    "units": ""
                },
                {
                    "name": "gpsBaudIndex",
                    "ctype": "uint8_t",
                    "desc": "Baud rate index for GPS",
                    "units": ""
                },
                {
                    "name": "telemetryBaudIndex",
                    "ctype": "uint8_t",
                    "desc": "Baud rate index for Telemetry",
                    "units": ""
                },
                {
                    "name": "peripheralBaudIndex",
                    "ctype": "uint8_t",
                    "desc": "Baud rate index for peripherals",
                    "units": ""
                }
            ],
            "repeating": "for each port being configured"
        },
        "reply": null,
        "variable_len": "for each port being configured",
        "notes": "Payload size must be a multiple of the size of one port config entry (1 + 4 + 4 = 9 bytes). Returns error if identifier is invalid or size is incorrect. Baud rate indexes are constrained `BAUD_MIN` to `BAUD_MAX`.",
        "description": "Sets the configuration for one or more serial ports."
    },
    "MSP2_COMMON_SET_RADAR_POS": {
        "code": 4107,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "poiIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the POI slot (0 to `RADAR_MAX_POIS - 1`)",
                    "units": "Index"
                },
                {
                    "name": "state",
                    "ctype": "uint8_t",
                    "desc": "Status of the POI (0=undefined, 1=armed, 2=lost)",
                    "units": ""
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "desc": "Latitude of the POI",
                    "units": "deg * 1e7"
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "desc": "Longitude of the POI",
                    "units": "deg * 1e7"
                },
                {
                    "name": "altitude",
                    "ctype": "int32_t",
                    "desc": "Altitude of the POI",
                    "units": "cm"
                },
                {
                    "name": "heading",
                    "ctype": "uint16_t",
                    "desc": "Heading of the POI",
                    "units": "degrees"
                },
                {
                    "name": "speed",
                    "ctype": "uint16_t",
                    "desc": "Speed of the POI",
                    "units": "cm/s"
                },
                {
                    "name": "linkQuality",
                    "ctype": "uint8_t",
                    "desc": "Link quality indicator",
                    "units": "0-4"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 19 bytes. POI index is clamped to `RADAR_MAX_POIS - 1`. Updates the `radar_pois` array.",
        "description": "Sets the position and status information for a \"radar\" Point of Interest (POI). Used for displaying other craft/objects on the OSD map."
    },
    "MSP2_COMMON_SET_RADAR_ITD": {
        "code": 4108,
        "mspv": 2,
        "request": null,
        "reply": null,
        "not_implemented": true,
        "notes": "Not implemented in INAV `fc_msp.c`.",
        "description": "Sets radar information to display (likely internal/unused)."
    },
    "MSP2_COMMON_SET_MSP_RC_LINK_STATS": {
        "code": 4109,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "sublinkID",
                    "ctype": "uint8_t",
                    "desc": "Sublink identifier (usually 0)"
                },
                {
                    "name": "validLink",
                    "ctype": "uint8_t",
                    "desc": "Indicates if the link is currently valid (not in failsafe)",
                    "units": "Boolean"
                },
                {
                    "name": "rssiPercent",
                    "ctype": "uint8_t",
                    "desc": "Uplink RSSI percentage (0-100)",
                    "units": "%"
                },
                {
                    "name": "uplinkRSSI_dBm",
                    "ctype": "uint8_t",
                    "desc": "Uplink RSSI in dBm (sent as positive, e.g., 70 means -70dBm)",
                    "units": "-dBm"
                },
                {
                    "name": "downlinkLQ",
                    "ctype": "uint8_t",
                    "desc": "Downlink Link Quality (0-100)",
                    "units": "%"
                },
                {
                    "name": "uplinkLQ",
                    "ctype": "uint8_t",
                    "desc": "Uplink Link Quality (0-100)",
                    "units": "%"
                },
                {
                    "name": "uplinkSNR",
                    "ctype": "int8_t",
                    "desc": "Uplink Signal-to-Noise Ratio",
                    "units": "dB"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_RX_MSP`. Expects at least 7 bytes. Updates `rxLinkStatistics` and sets RSSI via `setRSSIFromMSP_RC()` only if `sublinkID` is 0. This message expects **no reply** (`MSP_RESULT_NO_REPLY`).",
        "description": "Provides RC link statistics (RSSI, LQ) to the FC, typically from an MSP-based RC link (like ExpressLRS). Sent periodically by the RC link."
    },
    "MSP2_COMMON_SET_MSP_RC_INFO": {
        "code": 4110,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "sublinkID",
                    "ctype": "uint8_t",
                    "desc": "Sublink identifier (usually 0)"
                },
                {
                    "name": "uplinkTxPower",
                    "ctype": "uint16_t",
                    "desc": "Uplink transmitter power level",
                    "units": "mW"
                },
                {
                    "name": "downlinkTxPower",
                    "ctype": "uint16_t",
                    "desc": "Downlink transmitter power level",
                    "units": "mW"
                },
                {
                    "name": "band",
                    "ctype": "char",
                    "desc": "Operating band string (e.g., \"2G4\", \"900\"), null-terminated/padded",
                    "array": true,
                    "array_size": 4
                },
                {
                    "name": "mode",
                    "ctype": "char",
                    "desc": "Operating mode/rate string (e.g., \"100HZ\", \"F1000\"), null-terminated/padded",
                    "array": true,
                    "array_size": 6
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_RX_MSP`. Expects at least 15 bytes. Updates `rxLinkStatistics` only if `sublinkID` is 0. Converts band/mode strings to uppercase. This message expects **no reply** (`MSP_RESULT_NO_REPLY`).",
        "description": "Provides additional RC link information (power levels, band, mode) to the FC from an MSP-based RC link. Sent less frequently than link stats."
    },
    "MSP2_COMMON_GET_RADAR_GPS": {
        "code": 4111,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "poiLatitude",
                    "ctype": "int32_t",
                    "desc": "Latitude of a radar POI",
                    "units": "deg * 1e7"
                },
                {
                    "name": "poiLongitude",
                    "ctype": "int32_t",
                    "desc": "Longitude of a radar POI",
                    "units": "deg * 1e7"
                },
                {
                    "name": "poiAltitude",
                    "ctype": "int32_t",
                    "desc": "Altitude of a radar POI",
                    "units": "cm"
                }
            ],
            "repeating": "RADAR_MAX_POIS"
        },
        "notes": "Returns the stored GPS coordinates for all radar POIs (`radar_pois[i].gps`).",
        "description": "Provides the GPS positions (latitude, longitude, altitude) for each radar point of interest." 
    },
    "MSP2_SENSOR_RANGEFINDER": {
        "code": 7937,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "quality",
                    "ctype": "uint8_t",
                    "desc": "Quality of the measurement",
                    "units": "0-255"
                },
                {
                    "name": "distanceMm",
                    "ctype": "int32_t",
                    "desc": "Measured distance. Negative value indicates out of range",
                    "units": "mm"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_RANGEFINDER_MSP`. Calls `mspRangefinderReceiveNewData()`.",
        "description": "Provides rangefinder data (distance, quality) from an external MSP-based sensor."
    },
    "MSP2_SENSOR_OPTIC_FLOW": {
        "code": 7938,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "quality",
                    "ctype": "uint8_t",
                    "desc": "Quality of the measurement (0-255)",
                    "units": ""
                },
                {
                    "name": "motionX",
                    "ctype": "int32_t",
                    "desc": "Raw integrated flow value X",
                    "units": ""
                },
                {
                    "name": "motionY",
                    "ctype": "int32_t",
                    "desc": "Raw integrated flow value Y",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_OPFLOW_MSP`. Calls `mspOpflowReceiveNewData()`.",
        "description": "Provides optical flow data (motion, quality) from an external MSP-based sensor."
    },
    "MSP2_SENSOR_GPS": {
        "code": 7939,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "instance",
                    "ctype": "uint8_t",
                    "desc": "Sensor instance number (for multi-GPS)"
                },
                {
                    "name": "gpsWeek",
                    "ctype": "uint16_t",
                    "desc": "GPS week number (0xFFFF if unavailable)"
                },
                {
                    "name": "msTOW",
                    "ctype": "uint32_t",
                    "desc": "Milliseconds Time of Week",
                    "units": "ms"
                },
                {
                    "name": "fixType",
                    "ctype": "uint8_t",
                    "desc": "Enum `gpsFixType_e` Type of GPS fix",
                    "units": "Enum",
                    "enum": "gpsFixType_e"
                },
                {
                    "name": "satellitesInView",
                    "ctype": "uint8_t",
                    "desc": "Number of satellites used in solution",
                    "units": "Count"
                },
                {
                    "name": "hPosAccuracy",
                    "ctype": "uint16_t",
                    "desc": "Horizontal position accuracy estimate in milimeters",
                    "units": "mm"
                },
                {
                    "name": "vPosAccuracy",
                    "ctype": "uint16_t",
                    "desc": "Vertical position accuracy estimate in milimeters",
                    "units": "mm"
                },
                {
                    "name": "hVelAccuracy",
                    "ctype": "uint16_t",
                    "desc": "Horizontal velocity accuracy estimate",
                    "units": "cm/s"
                },
                {
                    "name": "hdop",
                    "ctype": "uint16_t",
                    "desc": "Horizontal Dilution of Precision",
                    "units": "HDOP * 100"
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "desc": "Longitude",
                    "units": "deg * 1e7"
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "desc": "Latitude",
                    "units": "deg * 1e7"
                },
                {
                    "name": "mslAltitude",
                    "ctype": "int32_t",
                    "desc": "Altitude above Mean Sea Level",
                    "units": "cm"
                },
                {
                    "name": "nedVelNorth",
                    "ctype": "int32_t",
                    "desc": "North velocity (NED frame)",
                    "units": "cm/s"
                },
                {
                    "name": "nedVelEast",
                    "ctype": "int32_t",
                    "desc": "East velocity (NED frame)",
                    "units": "cm/s"
                },
                {
                    "name": "nedVelDown",
                    "ctype": "int32_t",
                    "desc": "Down velocity (NED frame)",
                    "units": "cm/s"
                },
                {
                    "name": "groundCourse",
                    "ctype": "uint16_t",
                    "desc": "Ground course (0-36000)",
                    "units": "deg * 100"
                },
                {
                    "name": "trueYaw",
                    "ctype": "uint16_t",
                    "desc": "True heading/yaw (0-36000, 65535 if unavailable)",
                    "units": "deg * 100"
                },
                {
                    "name": "year",
                    "ctype": "uint16_t",
                    "desc": "Year (e.g., 2023)"
                },
                {
                    "name": "month",
                    "ctype": "uint8_t",
                    "desc": "Month (1-12)"
                },
                {
                    "name": "day",
                    "ctype": "uint8_t",
                    "desc": "Day of month (1-31)"
                },
                {
                    "name": "hour",
                    "ctype": "uint8_t",
                    "desc": "Hour (0-23)"
                },
                {
                    "name": "min",
                    "ctype": "uint8_t",
                    "desc": "Minute (0-59)"
                },
                {
                    "name": "sec",
                    "ctype": "uint8_t",
                    "desc": "Second (0-59)"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_GPS_PROTO_MSP`. Calls `mspGPSReceiveNewData()`.",
        "description": "Provides detailed GPS data from an external MSP-based GPS module."
    },
    "MSP2_SENSOR_COMPASS": {
        "code": 7940,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "instance",
                    "ctype": "uint8_t",
                    "desc": "Sensor instance number"
                },
                {
                    "name": "timeMs",
                    "ctype": "uint32_t",
                    "desc": "Timestamp from the sensor",
                    "units": "ms"
                },
                {
                    "name": "magX",
                    "ctype": "int16_t",
                    "desc": "Front component reading",
                    "units": "mGauss"
                },
                {
                    "name": "magY",
                    "ctype": "int16_t",
                    "desc": "Right component reading",
                    "units": "mGauss"
                },
                {
                    "name": "magZ",
                    "ctype": "int16_t",
                    "desc": "Down component reading",
                    "units": "mGauss"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_MAG_MSP`. Calls `mspMagReceiveNewData()`.",
        "description": "Provides magnetometer data from an external MSP-based compass module."
    },
    "MSP2_SENSOR_BAROMETER": {
        "code": 7941,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "instance",
                    "ctype": "uint8_t",
                    "desc": "Sensor instance number"
                },
                {
                    "name": "timeMs",
                    "ctype": "uint32_t",
                    "desc": "Timestamp from the sensor",
                    "units": "ms"
                },
                {
                    "name": "pressurePa",
                    "ctype": "float",
                    "desc": "Absolute pressure",
                    "units": "Pa"
                },
                {
                    "name": "temp",
                    "ctype": "int16_t",
                    "desc": "Temperature",
                    "units": "0.01 deg C"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_BARO_MSP`. Calls `mspBaroReceiveNewData()`.",
        "description": "Provides barometer data from an external MSP-based barometer module."
    },
    "MSP2_SENSOR_AIRSPEED": {
        "code": 7942,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "instance",
                    "ctype": "uint8_t",
                    "desc": "Sensor instance number"
                },
                {
                    "name": "timeMs",
                    "ctype": "uint32_t",
                    "desc": "Timestamp from the sensor",
                    "units": "ms"
                },
                {
                    "name": "diffPressurePa",
                    "ctype": "float",
                    "desc": "Differential pressure",
                    "units": "Pa"
                },
                {
                    "name": "temp",
                    "ctype": "int16_t",
                    "desc": "Temperature",
                    "units": "0.01 deg C"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_PITOT_MSP`. Calls `mspPitotmeterReceiveNewData()`.",
        "description": "Provides airspeed data from an external MSP-based pitot sensor module."
    },
    "MSP2_SENSOR_HEADTRACKER": {
        "code": 7943,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "...",
                    "ctype": "Varies",
                    "desc": "",
                    "polymorph": true,
                    "units": "Head tracker angles (e.g., int16 Roll, Pitch, Yaw in deci-degrees)"
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "notes": "Requires `USE_HEADTRACKER` and `USE_HEADTRACKER_MSP`. Calls `mspHeadTrackerReceiverNewData()`. Payload structure needs verification from `mspHeadTrackerReceiverNewData` implementation.",
        "description": "Provides head tracker orientation data."
    },
    "MSP2_INAV_STATUS": {
        "code": 8192,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "cycleTime",
                    "ctype": "uint16_t",
                    "desc": "Main loop cycle time",
                    "units": "µs"
                },
                {
                    "name": "i2cErrors",
                    "ctype": "uint16_t",
                    "desc": "I2C errors",
                    "units": "Count"
                },
                {
                    "name": "sensorStatus",
                    "ctype": "uint16_t",
                    "desc": "Bitmask: Sensor status",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "cpuLoad",
                    "ctype": "uint16_t",
                    "desc": "Average system load percentage",
                    "units": "%"
                },
                {
                    "name": "profileAndBattProfile",
                    "ctype": "uint8_t",
                    "desc": "Bits 0-3: Config profile index (`getConfigProfile()`), Bits 4-7: Battery profile index (`getConfigBatteryProfile()`)",
                    "units": "Packed"
                },
                {
                    "name": "armingFlags",
                    "ctype": "uint32_t",
                    "desc": "Bitmask: Full 32-bit flight controller arming flags (`armingFlags`)",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "activeModes",
                    "ctype": "boxBitmask_t",
                    "desc": "Bitmask words for active flight modes (`packBoxModeFlags()`)",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "mixerProfile",
                    "ctype": "uint8_t",
                    "desc": "Current mixer profile index (`getConfigMixerProfile()`)",
                    "units": "Index"
                }
            ]
        },
        "notes": "`sensorStatus` bits follow `packSensorStatus()` (bit 15 indicates hardware failure). `profileAndBattProfile` packs the current config profile in the low nibble and the battery profile in the high nibble. `activeModes` is emitted as a little-endian array of 32-bit words sized to `CHECKBOX_ITEM_COUNT`.",
        "description": "Provides comprehensive flight controller status, extending `MSP_STATUS_EX` with full arming flags, battery profile, and mixer profile."
    },
    "MSP2_INAV_OPTICAL_FLOW": {
        "code": 8193,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "quality",
                    "ctype": "uint8_t",
                    "desc": "Raw quality indicator from the sensor (`opflow.rawQuality`). 0 if `USE_OPFLOW` disabled",
                    "units": "0-255"
                },
                {
                    "name": "flowRateX",
                    "ctype": "int16_t",
                    "desc": "Optical flow rate X (roll axis) (`RADIANS_TO_DEGREES(opflow.flowRate[X])`). 0 if `USE_OPFLOW` disabled",
                    "units": "degrees/s"
                },
                {
                    "name": "flowRateY",
                    "ctype": "int16_t",
                    "desc": "Optical flow rate Y (pitch axis) (`RADIANS_TO_DEGREES(opflow.flowRate[Y])`). 0 if `USE_OPFLOW` disabled",
                    "units": "degrees/s"
                },
                {
                    "name": "bodyRateX",
                    "ctype": "int16_t",
                    "desc": "Compensated body rate X (roll axis) (`RADIANS_TO_DEGREES(opflow.bodyRate[X])`). 0 if `USE_OPFLOW` disabled",
                    "units": "degrees/s"
                },
                {
                    "name": "bodyRateY",
                    "ctype": "int16_t",
                    "desc": "Compensated body rate Y (pitch axis) (`RADIANS_TO_DEGREES(opflow.bodyRate[Y])`). 0 if `USE_OPFLOW` disabled",
                    "units": "degrees/s"
                }
            ]
        },
        "notes": "Requires `USE_OPFLOW`.",
        "description": "Provides data from the optical flow sensor."
    },
    "MSP2_INAV_ANALOG": {
        "code": 8194,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "batteryFlags",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Bit0=Full on plug-in, Bit1=Use capacity thresholds, Bits2-3=`batteryState_e` (`getBatteryState()`), Bits4-7=Cell count (`getBatteryCellCount()`)",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "vbat",
                    "ctype": "uint16_t",
                    "desc": "Battery voltage (`getBatteryVoltage()`)",
                    "units": "0.01V"
                },
                {
                    "name": "amperage",
                    "ctype": "int16_t",
                    "desc": "Current draw (`getAmperage()`)",
                    "units": "0.01A"
                },
                {
                    "name": "powerDraw",
                    "ctype": "uint32_t",
                    "desc": "Power draw (`getPower()`)",
                    "units": "0.01W"
                },
                {
                    "name": "mAhDrawn",
                    "ctype": "uint32_t",
                    "desc": "Consumed capacity (`getMAhDrawn()`)",
                    "units": "mAh"
                },
                {
                    "name": "mWhDrawn",
                    "ctype": "uint32_t",
                    "desc": "Consumed energy (`getMWhDrawn()`)",
                    "units": "mWh"
                },
                {
                    "name": "remainingCapacity",
                    "ctype": "uint32_t",
                    "desc": "Estimated remaining capacity (`getBatteryRemainingCapacity()`)",
                    "units": "Capacity unit (`batteryMetersConfig()->capacity_unit`)"
                },
                {
                    "name": "percentageRemaining",
                    "ctype": "uint8_t",
                    "desc": "Estimated remaining capacity percentage (`calculateBatteryPercentage()`)",
                    "units": "%"
                },
                {
                    "name": "rssi",
                    "ctype": "uint16_t",
                    "desc": "RSSI value (`getRSSI()`)",
                    "units": "Raw (0-1023)"
                }
            ]
        },
        "notes": "Requires `USE_CURRENT_METER`/`USE_ADC` for current-related fields; values fall back to zero when unavailable. Capacity fields are reported in the units configured by `batteryMetersConfig()->capacity_unit` (mAh or mWh).",
        "description": "Provides detailed analog sensor readings, superseding `MSP_ANALOG` with higher precision and additional fields."
    },
    "MSP2_INAV_MISC": {
        "code": 8195,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "desc": "Mid RC value (`PWM_RANGE_MIDDLE`)",
                    "units": "PWM"
                },
                {
                    "name": "legacyMinThrottle",
                    "ctype": "uint16_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "maxThrottle",
                    "ctype": "uint16_t",
                    "desc": "Maximum throttle command (`getMaxThrottle()`)",
                    "units": "PWM"
                },
                {
                    "name": "minCommand",
                    "ctype": "uint16_t",
                    "desc": "Minimum motor command (`motorConfig()->mincommand`)",
                    "units": "PWM"
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "desc": "Failsafe throttle level (`currentBatteryProfile->failsafe_throttle`)",
                    "units": "PWM"
                },
                {
                    "name": "gpsType",
                    "ctype": "uint8_t",
                    "desc": "Enum `gpsProvider_e` GPS provider type (`gpsConfig()->provider`). 0 if `USE_GPS` disabled",
                    "units": "Enum",
                    "enum": "gpsProvider_e"
                },
                {
                    "name": "legacyGpsBaud",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (Legacy)",
                    "value": 0
                },
                {
                    "name": "gpsSbasMode",
                    "ctype": "uint8_t",
                    "desc": "Enum `sbasMode_e` GPS SBAS mode (`gpsConfig()->sbasMode`). 0 if `USE_GPS` disabled",
                    "units": "Enum",
                    "enum": "sbasMode_e"
                },
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "desc": "RSSI channel index (1-based, 0 disables) (`rxConfig()->rssi_channel`)",
                    "units": "Index"
                },
                {
                    "name": "magDeclination",
                    "ctype": "int16_t",
                    "desc": "Magnetic declination / 10 (`compassConfig()->mag_declination / 10`). 0 if `USE_MAG` disabled",
                    "units": "0.1 degrees"
                },
                {
                    "name": "vbatScale",
                    "ctype": "uint16_t",
                    "desc": "Voltage scale (`batteryMetersConfig()->voltage.scale`). 0 if `USE_ADC` disabled",
                    "units": "Scale"
                },
                {
                    "name": "vbatSource",
                    "ctype": "uint8_t",
                    "desc": "Enum `batVoltageSource_e` Voltage source (`batteryMetersConfig()->voltageSource`). 0 if `USE_ADC` disabled",
                    "units": "Enum",
                    "enum": "batVoltageSource_e"
                },
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "desc": "Configured cell count (`currentBatteryProfile->cells`). 0 if `USE_ADC` disabled",
                    "units": "Count"
                },
                {
                    "name": "vbatCellDetect",
                    "ctype": "uint16_t",
                    "desc": "Cell detection voltage (`currentBatteryProfile->voltage.cellDetect`). 0 if `USE_ADC` disabled",
                    "units": "0.01V"
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint16_t",
                    "desc": "Min cell voltage (`currentBatteryProfile->voltage.cellMin`). 0 if `USE_ADC` disabled",
                    "units": "0.01V"
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint16_t",
                    "desc": "Max cell voltage (`currentBatteryProfile->voltage.cellMax`). 0 if `USE_ADC` disabled",
                    "units": "0.01V"
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint16_t",
                    "desc": "Warning cell voltage (`currentBatteryProfile->voltage.cellWarning`). 0 if `USE_ADC` disabled",
                    "units": "0.01V"
                },
                {
                    "name": "capacityValue",
                    "ctype": "uint32_t",
                    "desc": "Battery capacity (`currentBatteryProfile->capacity.value`)",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityWarning",
                    "ctype": "uint32_t",
                    "desc": "Capacity warning threshold (`currentBatteryProfile->capacity.warning`)",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityCritical",
                    "ctype": "uint32_t",
                    "desc": "Capacity critical threshold (`currentBatteryProfile->capacity.critical`)",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityUnit",
                    "ctype": "uint8_t",
                    "desc": "Enum `batCapacityUnit_e` Capacity unit (`batteryMetersConfig()->capacity_unit`)",
                    "units": "Enum",
                    "enum": "batCapacityUnit_e"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves miscellaneous configuration settings, superseding `MSP_MISC` with higher precision and capacity fields."
    },
    "MSP2_INAV_SET_MISC": {
        "code": 8196,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "midRc",
                    "ctype": "uint16_t",
                    "desc": "Ignored",
                    "units": "PWM"
                },
                {
                    "name": "legacyMinThrottle",
                    "ctype": "uint16_t",
                    "desc": "Ignored"
                },
                {
                    "name": "legacyMaxThrottle",
                    "ctype": "uint16_t",
                    "desc": "Ignored"
                },
                {
                    "name": "minCommand",
                    "ctype": "uint16_t",
                    "desc": "Sets `motorConfigMutable()->mincommand` (constrained)",
                    "units": "PWM"
                },
                {
                    "name": "failsafeThrottle",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->failsafe_throttle` (constrained)",
                    "units": "PWM"
                },
                {
                    "name": "gpsType",
                    "ctype": "uint8_t",
                    "desc": "Enum `gpsProvider_e` Sets `gpsConfigMutable()->provider` (if `USE_GPS`)",
                    "units": "Enum",
                    "enum": "gpsProvider_e"
                },
                {
                    "name": "legacyGpsBaud",
                    "ctype": "uint8_t",
                    "desc": "Ignored"
                },
                {
                    "name": "gpsSbasMode",
                    "ctype": "uint8_t",
                    "desc": "Enum `sbasMode_e` Sets `gpsConfigMutable()->sbasMode` (if `USE_GPS`)",
                    "units": "Enum",
                    "enum": "sbasMode_e"
                },
                {
                    "name": "rssiChannel",
                    "ctype": "uint8_t",
                    "desc": "Sets `rxConfigMutable()->rssi_channel` (1-based, 0 disables) when <= `MAX_SUPPORTED_RC_CHANNEL_COUNT`",
                    "units": "Index"
                },
                {
                    "name": "magDeclination",
                    "ctype": "int16_t",
                    "desc": "Sets `compassConfigMutable()->mag_declination = value * 10` (if `USE_MAG`)",
                    "units": "0.1 degrees"
                },
                {
                    "name": "vbatScale",
                    "ctype": "uint16_t",
                    "desc": "Sets `batteryMetersConfigMutable()->voltage.scale` (if `USE_ADC`)",
                    "units": "Scale"
                },
                {
                    "name": "vbatSource",
                    "ctype": "uint8_t",
                    "desc": "Enum `batVoltageSource_e` Sets `batteryMetersConfigMutable()->voltageSource` (if `USE_ADC`, validated)",
                    "units": "Enum",
                    "enum": "batVoltageSource_e"
                },
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentBatteryProfileMutable->cells` (if `USE_ADC`)",
                    "units": "Count"
                },
                {
                    "name": "vbatCellDetect",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellDetect` (if `USE_ADC`)",
                    "units": "0.01V"
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMin` (if `USE_ADC`)",
                    "units": "0.01V"
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMax` (if `USE_ADC`)",
                    "units": "0.01V"
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellWarning` (if `USE_ADC`)",
                    "units": "0.01V"
                },
                {
                    "name": "capacityValue",
                    "ctype": "uint32_t",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.value`",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityWarning",
                    "ctype": "uint32_t",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.warning`",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityCritical",
                    "ctype": "uint32_t",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.critical`",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityUnit",
                    "ctype": "uint8_t",
                    "desc": "Enum `batCapacityUnit_e` Sets `batteryMetersConfigMutable()->capacity_unit` (validated, updates OSD energy unit if changed)",
                    "units": "Enum",
                    "enum": "batCapacityUnit_e"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 41 bytes. Performs validation on `vbatSource` and `capacityUnit`.",
        "description": "Sets miscellaneous configuration settings, superseding `MSP_SET_MISC`."
    },
    "MSP2_INAV_BATTERY_CONFIG": {
        "code": 8197,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "vbatScale",
                    "ctype": "uint16_t",
                    "desc": "Voltage scale (`batteryMetersConfig()->voltage.scale`)",
                    "units": "Scale"
                },
                {
                    "name": "vbatSource",
                    "ctype": "uint8_t",
                    "desc": "Enum `batVoltageSource_e` Voltage source (`batteryMetersConfig()->voltageSource`)",
                    "units": "Enum",
                    "enum": "batVoltageSource_e"
                },
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "desc": "Configured cell count (`currentBatteryProfile->cells`)",
                    "units": "Count"
                },
                {
                    "name": "vbatCellDetect",
                    "ctype": "uint16_t",
                    "desc": "Cell detection voltage (`currentBatteryProfile->voltage.cellDetect`)",
                    "units": "0.01V"
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint16_t",
                    "desc": "Min cell voltage (`currentBatteryProfile->voltage.cellMin`)",
                    "units": "0.01V"
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint16_t",
                    "desc": "Max cell voltage (`currentBatteryProfile->voltage.cellMax`)",
                    "units": "0.01V"
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint16_t",
                    "desc": "Warning cell voltage (`currentBatteryProfile->voltage.cellWarning`)",
                    "units": "0.01V"
                },
                {
                    "name": "currentOffset",
                    "ctype": "int16_t",
                    "desc": "Current sensor offset (`batteryMetersConfig()->current.offset`)",
                    "units": "mV"
                },
                {
                    "name": "currentScale",
                    "ctype": "int16_t",
                    "desc": "Current sensor scale (`batteryMetersConfig()->current.scale`)",
                    "units": "0.1 mV/A"
                },
                {
                    "name": "capacityValue",
                    "ctype": "uint32_t",
                    "desc": "Battery capacity (`currentBatteryProfile->capacity.value`)",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityWarning",
                    "ctype": "uint32_t",
                    "desc": "Capacity warning threshold (`currentBatteryProfile->capacity.warning`)",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityCritical",
                    "ctype": "uint32_t",
                    "desc": "Capacity critical threshold (`currentBatteryProfile->capacity.critical`)",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityUnit",
                    "ctype": "uint8_t",
                    "desc": "Enum `batCapacityUnit_e` Capacity unit (`batteryMetersConfig()->capacity_unit`)",
                    "units": "Enum",
                    "enum": "batCapacityUnit_e"
                }
            ]
        },
        "notes": "Fields are 0 if `USE_ADC` is not defined.",
        "description": "Retrieves the configuration specific to the battery voltage and current sensors and capacity settings for the current battery profile."
    },
    "MSP2_INAV_SET_BATTERY_CONFIG": {
        "code": 8198,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "vbatScale",
                    "ctype": "uint16_t",
                    "desc": "Sets `batteryMetersConfigMutable()->voltage.scale` (if `USE_ADC`)",
                    "units": "Scale"
                },
                {
                    "name": "vbatSource",
                    "ctype": "uint8_t",
                    "desc": "Enum `batVoltageSource_e` Sets `batteryMetersConfigMutable()->voltageSource` (if `USE_ADC`, validated)",
                    "units": "Enum",
                    "enum": "batVoltageSource_e"
                },
                {
                    "name": "cellCount",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentBatteryProfileMutable->cells` (if `USE_ADC`)",
                    "units": "Count"
                },
                {
                    "name": "vbatCellDetect",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellDetect` (if `USE_ADC`)",
                    "units": "0.01V"
                },
                {
                    "name": "vbatMinCell",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMin` (if `USE_ADC`)",
                    "units": "0.01V"
                },
                {
                    "name": "vbatMaxCell",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellMax` (if `USE_ADC`)",
                    "units": "0.01V"
                },
                {
                    "name": "vbatWarningCell",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentBatteryProfileMutable->voltage.cellWarning` (if `USE_ADC`)",
                    "units": "0.01V"
                },
                {
                    "name": "currentOffset",
                    "ctype": "int16_t",
                    "desc": "Sets `batteryMetersConfigMutable()->current.offset`",
                    "units": "mV"
                },
                {
                    "name": "currentScale",
                    "ctype": "int16_t",
                    "desc": "Sets `batteryMetersConfigMutable()->current.scale`",
                    "units": "0.1 mV/A"
                },
                {
                    "name": "capacityValue",
                    "ctype": "uint32_t",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.value`",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityWarning",
                    "ctype": "uint32_t",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.warning`",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityCritical",
                    "ctype": "uint32_t",
                    "desc": "Sets `currentBatteryProfileMutable->capacity.critical`",
                    "units": "mAh/mWh"
                },
                {
                    "name": "capacityUnit",
                    "ctype": "uint8_t",
                    "desc": "Enum `batCapacityUnit_e` Sets `batteryMetersConfigMutable()->capacity_unit` (validated, updates OSD energy unit if changed)",
                    "units": "Enum",
                    "enum": "batCapacityUnit_e"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 29 bytes. Performs validation on `vbatSource` and `capacityUnit`.",
        "description": "Sets the battery voltage/current sensor configuration and capacity settings for the current battery profile."
    },
    "MSP2_INAV_RATE_PROFILE": {
        "code": 8199,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "throttleMid",
                    "ctype": "uint8_t",
                    "desc": "Throttle Midpoint (`currentControlRateProfile->throttle.rcMid8`)",
                    "units": ""
                },
                {
                    "name": "throttleExpo",
                    "ctype": "uint8_t",
                    "desc": "Throttle Expo (`currentControlRateProfile->throttle.rcExpo8`)",
                    "units": ""
                },
                {
                    "name": "dynamicThrottlePID",
                    "ctype": "uint8_t",
                    "desc": "TPA value (`currentControlRateProfile->throttle.dynPID`)",
                    "units": ""
                },
                {
                    "name": "tpaBreakpoint",
                    "ctype": "uint16_t",
                    "desc": "TPA breakpoint (`currentControlRateProfile->throttle.pa_breakpoint`)",
                    "units": ""
                },
                {
                    "name": "stabRcExpo",
                    "ctype": "uint8_t",
                    "desc": "Stabilized Roll/Pitch Expo (`currentControlRateProfile->stabilized.rcExpo8`)",
                    "units": ""
                },
                {
                    "name": "stabRcYawExpo",
                    "ctype": "uint8_t",
                    "desc": "Stabilized Yaw Expo (`currentControlRateProfile->stabilized.rcYawExpo8`)",
                    "units": ""
                },
                {
                    "name": "stabRollRate",
                    "ctype": "uint8_t",
                    "desc": "Stabilized Roll Rate (`currentControlRateProfile->stabilized.rates[FD_ROLL]`)",
                    "units": ""
                },
                {
                    "name": "stabPitchRate",
                    "ctype": "uint8_t",
                    "desc": "Stabilized Pitch Rate (`currentControlRateProfile->stabilized.rates[FD_PITCH]`)",
                    "units": ""
                },
                {
                    "name": "stabYawRate",
                    "ctype": "uint8_t",
                    "desc": "Stabilized Yaw Rate (`currentControlRateProfile->stabilized.rates[FD_YAW]`)",
                    "units": ""
                },
                {
                    "name": "manualRcExpo",
                    "ctype": "uint8_t",
                    "desc": "Manual Roll/Pitch Expo (`currentControlRateProfile->manual.rcExpo8`)",
                    "units": ""
                },
                {
                    "name": "manualRcYawExpo",
                    "ctype": "uint8_t",
                    "desc": "Manual Yaw Expo (`currentControlRateProfile->manual.rcYawExpo8`)",
                    "units": ""
                },
                {
                    "name": "manualRollRate",
                    "ctype": "uint8_t",
                    "desc": "Manual Roll Rate (`currentControlRateProfile->manual.rates[FD_ROLL]`)",
                    "units": ""
                },
                {
                    "name": "manualPitchRate",
                    "ctype": "uint8_t",
                    "desc": "Manual Pitch Rate (`currentControlRateProfile->manual.rates[FD_PITCH]`)",
                    "units": ""
                },
                {
                    "name": "manualYawRate",
                    "ctype": "uint8_t",
                    "desc": "Manual Yaw Rate (`currentControlRateProfile->manual.rates[FD_YAW]`)",
                    "units": ""
                }
            ]
        },
        "notes": "",
        "description": "Retrieves the rates and expos for the current control rate profile, including both stabilized and manual flight modes. Supersedes `MSP_RC_TUNING`."
    },
    "MSP2_INAV_SET_RATE_PROFILE": {
        "code": 8200,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "throttleMid",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->throttle.rcMid8`",
                    "units": ""
                },
                {
                    "name": "throttleExpo",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->throttle.rcExpo8`",
                    "units": ""
                },
                {
                    "name": "dynamicThrottlePID",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->throttle.dynPID`",
                    "units": ""
                },
                {
                    "name": "tpaBreakpoint",
                    "ctype": "uint16_t",
                    "desc": "Sets `currentControlRateProfile->throttle.pa_breakpoint`",
                    "units": ""
                },
                {
                    "name": "stabRcExpo",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->stabilized.rcExpo8`",
                    "units": ""
                },
                {
                    "name": "stabRcYawExpo",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->stabilized.rcYawExpo8`",
                    "units": ""
                },
                {
                    "name": "stabRollRate",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->stabilized.rates[FD_ROLL]` (constrained)",
                    "units": ""
                },
                {
                    "name": "stabPitchRate",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->stabilized.rates[FD_PITCH]` (constrained)",
                    "units": ""
                },
                {
                    "name": "stabYawRate",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->stabilized.rates[FD_YAW]` (constrained)",
                    "units": ""
                },
                {
                    "name": "manualRcExpo",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->manual.rcExpo8`",
                    "units": ""
                },
                {
                    "name": "manualRcYawExpo",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->manual.rcYawExpo8`",
                    "units": ""
                },
                {
                    "name": "manualRollRate",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->manual.rates[FD_ROLL]` (constrained)",
                    "units": ""
                },
                {
                    "name": "manualPitchRate",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->manual.rates[FD_PITCH]` (constrained)",
                    "units": ""
                },
                {
                    "name": "manualYawRate",
                    "ctype": "uint8_t",
                    "desc": "Sets `currentControlRateProfile->manual.rates[FD_YAW]` (constrained)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 15 bytes. Constraints applied to rates based on axis.",
        "description": "Sets the rates and expos for the current control rate profile (stabilized and manual). Supersedes `MSP_SET_RC_TUNING`."
    },
    "MSP2_INAV_AIR_SPEED": {
        "code": 8201,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "airspeed",
                    "ctype": "uint32_t",
                    "desc": "Estimated/measured airspeed (`getAirspeedEstimate()`, cm/s). 0 if unavailable",
                    "units": "cm/s"
                }
            ]
        },
        "notes": "Requires `USE_PITOT`; returns 0 when pitot functionality is not enabled or calibrated.",
        "description": "Retrieves the estimated or measured airspeed."
    },
    "MSP2_INAV_OUTPUT_MAPPING": {
        "code": 8202,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "usageFlags",
                    "ctype": "uint8_t",
                    "desc": "Timer usage flags (lower 8 bits of `timerHardware[i].usageFlags`, e.g. `TIM_USE_MOTOR`, `TIM_USE_SERVO`)",
                    "units": ""
                }
            ],
            "repeating": "for each Motor/Servo timer"
        },
        "variable_len": "for each Motor/Servo timer",
        "notes": "Superseded by `MSP2_INAV_OUTPUT_MAPPING_EXT2`. Only includes timers *not* used for PPM/PWM input.",
        "description": "Retrieves the output mapping configuration (identifies which timer outputs are used for Motors/Servos). Legacy version sending only 8-bit usage flags."
    },
    "MSP2_INAV_MC_BRAKING": {
        "code": 8203,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "brakingSpeedThreshold",
                    "ctype": "uint16_t",
                    "desc": "Speed above which braking engages (`navConfig()->mc.braking_speed_threshold`)",
                    "units": "cm/s"
                },
                {
                    "name": "brakingDisengageSpeed",
                    "ctype": "uint16_t",
                    "desc": "Speed below which braking disengages (`navConfig()->mc.braking_disengage_speed`)",
                    "units": "cm/s"
                },
                {
                    "name": "brakingTimeout",
                    "ctype": "uint16_t",
                    "desc": "Timeout before braking force reduces (`navConfig()->mc.braking_timeout`)",
                    "units": "ms"
                },
                {
                    "name": "brakingBoostFactor",
                    "ctype": "uint8_t",
                    "desc": "Boost factor applied during braking (`navConfig()->mc.braking_boost_factor`)",
                    "units": "%"
                },
                {
                    "name": "brakingBoostTimeout",
                    "ctype": "uint16_t",
                    "desc": "Timeout for the boost factor (`navConfig()->mc.braking_boost_timeout`)",
                    "units": "ms"
                },
                {
                    "name": "brakingBoostSpeedThreshold",
                    "ctype": "uint16_t",
                    "desc": "Speed threshold for boost engagement (`navConfig()->mc.braking_boost_speed_threshold`)",
                    "units": "cm/s"
                },
                {
                    "name": "brakingBoostDisengageSpeed",
                    "ctype": "uint16_t",
                    "desc": "Speed threshold for boost disengagement (`navConfig()->mc.braking_boost_disengage_speed`)",
                    "units": "cm/s"
                },
                {
                    "name": "brakingBankAngle",
                    "ctype": "uint8_t",
                    "desc": "Maximum bank angle allowed during braking (`navConfig()->mc.braking_bank_angle`)",
                    "units": "degrees"
                }
            ]
        },
        "notes": "Payload is empty if `USE_MR_BRAKING_MODE` is not defined.",
        "description": "Retrieves configuration parameters for the multirotor braking mode feature."
    },
    "MSP2_INAV_SET_MC_BRAKING": {
        "code": 8204,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "brakingSpeedThreshold",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->mc.braking_speed_threshold`",
                    "units": "cm/s"
                },
                {
                    "name": "brakingDisengageSpeed",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->mc.braking_disengage_speed`",
                    "units": "cm/s"
                },
                {
                    "name": "brakingTimeout",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->mc.braking_timeout`",
                    "units": "ms"
                },
                {
                    "name": "brakingBoostFactor",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->mc.braking_boost_factor`",
                    "units": "%"
                },
                {
                    "name": "brakingBoostTimeout",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->mc.braking_boost_timeout`",
                    "units": "ms"
                },
                {
                    "name": "brakingBoostSpeedThreshold",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->mc.braking_boost_speed_threshold`",
                    "units": "cm/s"
                },
                {
                    "name": "brakingBoostDisengageSpeed",
                    "ctype": "uint16_t",
                    "desc": "Sets `navConfigMutable()->mc.braking_boost_disengage_speed`",
                    "units": "cm/s"
                },
                {
                    "name": "brakingBankAngle",
                    "ctype": "uint8_t",
                    "desc": "Sets `navConfigMutable()->mc.braking_bank_angle`",
                    "units": "degrees"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 14 bytes. Returns error if `USE_MR_BRAKING_MODE` is not defined.",
        "description": "Sets configuration parameters for the multirotor braking mode feature."
    },
    "MSP2_INAV_OUTPUT_MAPPING_EXT": {
        "code": 8205,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "timerId",
                    "ctype": "uint8_t",
                    "desc": "Hardware timer identifier (e.g., `TIM1`, `TIM2`). Value depends on target",
                    "units": ""
                },
                {
                    "name": "usageFlags",
                    "ctype": "uint8_t",
                    "desc": "Timer usage flags (lower 8 bits of `timerHardware[i].usageFlags`, e.g. `TIM_USE_MOTOR`, `TIM_USE_SERVO`)",
                    "units": ""
                }
            ],
            "repeating": "for each Motor/Servo timer"
        },
        "variable_len": "for each Motor/Servo timer",
        "notes": "Usage flags are truncated to 8 bits. `timerId` mapping is target-specific.",
        "description": "Retrieves extended output mapping configuration (timer ID and usage flags). Obsolete, use `MSP2_INAV_OUTPUT_MAPPING_EXT2`."
    },
    "MSP2_INAV_TIMER_OUTPUT_MODE": {
        "code": 8206,
        "mspv": 2,
        "request": null,
        "reply": null,
        "variable_len": true,
        "notes": "Non-SITL only. HARDWARE_TIMER_DEFINITION_COUNT is target specific. Returns MSP_RESULT_ACK on success, MSP_RESULT_ERROR on invalid timer index.",
        "description": "Reads timer output mode overrides.",
        "variants": {
            "dataSize == 0": {
                "description": "List all timers",
                "request": null,
                "reply": {
                    "payload": [
                        {
                            "name": "timerIndex",
                            "ctype": "uint8_t",
                            "desc": "Timer index"
                        },
                        {
                            "name": "outputMode",
                            "ctype": "uint8_t",
                            "enum": "outputMode_e",
                            "desc": "OUTPUT_MODE_*"
                        }
                    ],
                    "repeating": "HARDWARE_TIMER_DEFINITION_COUNT"
                }
            },
            "dataSize == 1": {
                "description": "Query one timer",
                "request": {
                    "payload": [
                        {
                            "name": "timerIndex",
                            "ctype": "uint8_t",
                            "desc": "0..HARDWARE_TIMER_DEFINITION_COUNT-1"
                        }
                    ]
                },
                "reply": {
                    "payload": [
                        {
                            "name": "timerIndex",
                            "ctype": "uint8_t",
                            "desc": "Echoed timer index"
                        },
                        {
                            "name": "outputMode",
                            "ctype": "uint8_t",
                            "enum": "outputMode_e",
                            "desc": "OUTPUT_MODE_*"
                        }
                    ]
                }
            }
        }
    },
    "MSP2_INAV_SET_TIMER_OUTPUT_MODE": {
        "code": 8207,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "timerIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the hardware timer definition",
                    "units": ""
                },
                {
                    "name": "outputMode",
                    "ctype": "uint8_t",
                    "desc": "Output mode override (`outputMode_e` enum) to set",
                    "units": "",
                    "enum": "outputMode_e"
                }
            ]
        },
        "reply": null,
        "notes": "Only available on non-SITL builds. Expects 2 bytes. Returns error if `timerIndex` is invalid.",
        "description": "Set the output mode override for a specific hardware timer."
    },
    "MSP2_INAV_MIXER": {
        "code": 8208,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "motorDirectionInverted",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if motor direction is reversed globally (`mixerConfig()->motorDirectionInverted`)",
                    "units": ""
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Always 0 (Was yaw jump prevention limit)",
                    "units": "",
                    "value": 0
                },
                {
                    "name": "motorStopOnLow",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if motors stop at minimum throttle (`mixerConfig()->motorstopOnLow`)",
                    "units": ""
                },
                {
                    "name": "platformType",
                    "ctype": "uint8_t",
                    "desc": "Enum (`mixerConfig()->platformType`)",
                    "units": "",
                    "enum": "flyingPlatformType_e"
                },
                {
                    "name": "hasFlaps",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if the current mixer configuration includes flaps (`mixerConfig()->hasFlaps`)",
                    "units": ""
                },
                {
                    "name": "appliedMixerPreset",
                    "ctype": "int16_t",
                    "desc": "Enum (`mixerPreset_e`): Mixer preset currently applied (`mixerConfig()->appliedMixerPreset`) WARNING: cannot figure where this is",
                    "units": "",
                    "enum": "mixerPreset_e"
                },
                {
                    "name": "maxMotors",
                    "ctype": "uint8_t",
                    "desc": "Constant: Maximum motors supported (`MAX_SUPPORTED_MOTORS`)",
                    "units": ""
                },
                {
                    "name": "maxServos",
                    "ctype": "uint8_t",
                    "desc": "Constant: Maximum servos supported (`MAX_SUPPORTED_SERVOS`)",
                    "units": ""
                }
            ]
        },
        "notes": "",
        "description": "Retrieves INAV-specific mixer configuration details."
    },
    "MSP2_INAV_SET_MIXER": {
        "code": 8209,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "motorDirectionInverted",
                    "ctype": "uint8_t",
                    "desc": "Sets `mixerConfigMutable()->motorDirectionInverted`",
                    "units": ""
                },
                {
                    "name": "reserved1",
                    "ctype": "uint8_t",
                    "desc": "Ignored",
                    "units": ""
                },
                {
                    "name": "motorStopOnLow",
                    "ctype": "uint8_t",
                    "desc": "Sets `mixerConfigMutable()->motorstopOnLow`",
                    "units": ""
                },
                {
                    "name": "platformType",
                    "ctype": "uint8_t",
                    "desc": "Sets `mixerConfigMutable()->platformType`",
                    "units": "",
                    "enum": "flyingPlatformType_e"
                },
                {
                    "name": "hasFlaps",
                    "ctype": "uint8_t",
                    "desc": "Sets `mixerConfigMutable()->hasFlaps`",
                    "units": ""
                },
                {
                    "name": "appliedMixerPreset",
                    "ctype": "int16_t",
                    "desc": "Sets `mixerConfigMutable()->appliedMixerPreset`",
                    "units": ""
                },
                {
                    "name": "maxMotors",
                    "ctype": "uint8_t",
                    "desc": "Ignored",
                    "units": ""
                },
                {
                    "name": "maxServos",
                    "ctype": "uint8_t",
                    "desc": "Ignored",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 9 bytes. Calls `mixerUpdateStateFlags()`.",
        "description": "Sets INAV-specific mixer configuration details."
    },
    "MSP2_INAV_OSD_LAYOUTS": {
        "code": 8210,
        "mspv": 2,
        "request": null,
        "reply": null,
        "variants": {
            "dataSize == 0": {
                "description": "Query layout/item counts",
                "request": null,
                "reply": {
                    "payload": [
                        {
                            "name": "layoutCount",
                            "ctype": "uint8_t",
                            "desc": "Number of OSD layouts (`OSD_LAYOUT_COUNT`)"
                        },
                        {
                            "name": "itemCount",
                            "ctype": "uint8_t",
                            "desc": "Number of OSD items per layout (`OSD_ITEM_COUNT`)"
                        }
                    ]
                }
            },
            "dataSize == 1": {
                "description": "Fetch all item positions for a layout",
                "request": {
                    "payload": [
                        {
                            "name": "layoutIndex",
                            "ctype": "uint8_t",
                            "desc": "Layout index (0 to `OSD_LAYOUT_COUNT - 1`)"
                        }
                    ]
                },
                "reply": {
                    "payload": [
                        {
                            "name": "itemPosition",
                            "ctype": "uint16_t",
                            "desc": "Packed X/Y position (`osdLayoutsConfig()->item_pos[layoutIndex][item]`)",
                            "units": "packed coords"
                        }
                    ],
                    "repeating": "OSD_ITEM_COUNT"
                }
            },
            "dataSize == 3": {
                "description": "Fetch a single item position",
                "request": {
                    "payload": [
                        {
                            "name": "layoutIndex",
                            "ctype": "uint8_t",
                            "desc": "Layout index (0 to `OSD_LAYOUT_COUNT - 1`)"
                        },
                        {
                            "name": "itemIndex",
                            "ctype": "uint16_t",
                            "desc": "OSD item index (0 to `OSD_ITEM_COUNT - 1`)"
                        }
                    ]
                },
                "reply": {
                    "payload": [
                        {
                            "name": "itemPosition",
                            "ctype": "uint16_t",
                            "desc": "Packed X/Y position (`osdLayoutsConfig()->item_pos[layoutIndex][itemIndex]`)",
                            "units": "packed coords"
                        }
                    ]
                }
            }
        },
        "notes": "Requires `USE_OSD`. Returns `MSP_RESULT_ACK` on success, `MSP_RESULT_ERROR` if indexes are out of range.",
        "description": "Retrieves OSD layout metadata or item positions for specific layouts/items."
    },
    "MSP2_INAV_OSD_SET_LAYOUT_ITEM": {
        "code": 8211,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "layoutIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the OSD layout (0 to `OSD_LAYOUT_COUNT - 1`)",
                    "units": "Index"
                },
                {
                    "name": "itemIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the OSD item",
                    "units": "Index"
                },
                {
                    "name": "itemPosition",
                    "ctype": "uint16_t",
                    "desc": "Packed X/Y position using `OSD_POS(x, y)` with `OSD_VISIBLE_FLAG` bit",
                    "units": "Coordinates"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_OSD`. Expects 4 bytes. Returns error if indexes are invalid. If the modified layout is not the currently active one, it temporarily overrides the active layout for 10 seconds to show the change. Otherwise, triggers a full OSD redraw.",
        "description": "Sets the position of a single OSD item within a specific layout."
    },
    "MSP2_INAV_OSD_ALARMS": {
        "code": 8212,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "rssiAlarm",
                    "ctype": "uint8_t",
                    "desc": "RSSI alarm threshold (`osdConfig()->rssi_alarm`)",
                    "units": "%"
                },
                {
                    "name": "timerAlarm",
                    "ctype": "uint16_t",
                    "desc": "Timer alarm threshold (`osdConfig()->time_alarm`)",
                    "units": "seconds"
                },
                {
                    "name": "altAlarm",
                    "ctype": "uint16_t",
                    "desc": "Altitude alarm threshold (`osdConfig()->alt_alarm`)",
                    "units": "meters"
                },
                {
                    "name": "distAlarm",
                    "ctype": "uint16_t",
                    "desc": "Distance alarm threshold (`osdConfig()->dist_alarm`)",
                    "units": "meters"
                },
                {
                    "name": "negAltAlarm",
                    "ctype": "uint16_t",
                    "desc": "Negative altitude alarm threshold (`osdConfig()->neg_alt_alarm`)",
                    "units": "meters"
                },
                {
                    "name": "gForceAlarm",
                    "ctype": "uint16_t",
                    "desc": "G-force alarm threshold (`osdConfig()->gforce_alarm * 1000`)",
                    "units": "G * 1000"
                },
                {
                    "name": "gForceAxisMinAlarm",
                    "ctype": "int16_t",
                    "desc": "Min G-force per-axis alarm (`osdConfig()->gforce_axis_alarm_min * 1000`)",
                    "units": "G * 1000"
                },
                {
                    "name": "gForceAxisMaxAlarm",
                    "ctype": "int16_t",
                    "desc": "Max G-force per-axis alarm (`osdConfig()->gforce_axis_alarm_max * 1000`)",
                    "units": "G * 1000"
                },
                {
                    "name": "currentAlarm",
                    "ctype": "uint8_t",
                    "desc": "Current draw alarm threshold (`osdConfig()->current_alarm`)",
                    "units": "A"
                },
                {
                    "name": "imuTempMinAlarm",
                    "ctype": "int16_t",
                    "desc": "Min IMU temperature alarm (`osdConfig()->imu_temp_alarm_min`)",
                    "units": "degrees C"
                },
                {
                    "name": "imuTempMaxAlarm",
                    "ctype": "int16_t",
                    "desc": "Max IMU temperature alarm (`osdConfig()->imu_temp_alarm_max`)",
                    "units": "degrees C"
                },
                {
                    "name": "baroTempMinAlarm",
                    "ctype": "int16_t",
                    "desc": "Min Baro temperature alarm (`osdConfig()->baro_temp_alarm_min`). 0 if `USE_BARO` disabled",
                    "units": "degrees C"
                },
                {
                    "name": "baroTempMaxAlarm",
                    "ctype": "int16_t",
                    "desc": "Max Baro temperature alarm (`osdConfig()->baro_temp_alarm_max`). 0 if `USE_BARO` disabled",
                    "units": "degrees C"
                },
                {
                    "name": "adsbWarnDistance",
                    "ctype": "uint16_t",
                    "desc": "ADSB warning distance (`osdConfig()->adsb_distance_warning`). 0 if `USE_ADSB` disabled",
                    "units": "meters"
                },
                {
                    "name": "adsbAlertDistance",
                    "ctype": "uint16_t",
                    "desc": "ADSB alert distance (`osdConfig()->adsb_distance_alert`). 0 if `USE_ADSB` disabled",
                    "units": "meters"
                }
            ]
        },
        "notes": "Requires `USE_OSD`.",
        "description": "Retrieves OSD alarm threshold settings."
    },
    "MSP2_INAV_OSD_SET_ALARMS": {
        "code": 8213,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "rssiAlarm",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->rssi_alarm",
                    "units": "%"
                },
                {
                    "name": "timerAlarm",
                    "ctype": "uint16_t",
                    "desc": "Sets `osdConfigMutable()->time_alarm",
                    "units": "seconds"
                },
                {
                    "name": "altAlarm",
                    "ctype": "uint16_t",
                    "desc": "Sets `osdConfigMutable()->alt_alarm",
                    "units": "meters"
                },
                {
                    "name": "distAlarm",
                    "ctype": "uint16_t",
                    "desc": "Sets `osdConfigMutable()->dist_alarm",
                    "units": "meters"
                },
                {
                    "name": "negAltAlarm",
                    "ctype": "uint16_t",
                    "desc": "Sets `osdConfigMutable()->neg_alt_alarm`",
                    "units": "meters"
                },
                {
                    "name": "gForceAlarm",
                    "ctype": "uint16_t",
                    "desc": "Sets `osdConfigMutable()->gforce_alarm = value / 1000.0f`",
                    "units": "G * 1000"
                },
                {
                    "name": "gForceAxisMinAlarm",
                    "ctype": "int16_t",
                    "desc": "Sets `osdConfigMutable()->gforce_axis_alarm_min = value / 1000.0f`",
                    "units": "G * 1000"
                },
                {
                    "name": "gForceAxisMaxAlarm",
                    "ctype": "int16_t",
                    "desc": "Sets `osdConfigMutable()->gforce_axis_alarm_max = value / 1000.0f`",
                    "units": "G * 1000"
                },
                {
                    "name": "currentAlarm",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->current_alarm`",
                    "units": "A"
                },
                {
                    "name": "imuTempMinAlarm",
                    "ctype": "int16_t",
                    "desc": "Sets `osdConfigMutable()->imu_temp_alarm_min`",
                    "units": "degrees C"
                },
                {
                    "name": "imuTempMaxAlarm",
                    "ctype": "int16_t",
                    "desc": "Sets `osdConfigMutable()->imu_temp_alarm_max`",
                    "units": "degrees C"
                },
                {
                    "name": "baroTempMinAlarm",
                    "ctype": "int16_t",
                    "desc": "Sets `osdConfigMutable()->baro_temp_alarm_min` (if `USE_BARO`)",
                    "units": "degrees C"
                },
                {
                    "name": "baroTempMaxAlarm",
                    "ctype": "int16_t",
                    "desc": "Sets `osdConfigMutable()->baro_temp_alarm_max` (if `USE_BARO`)",
                    "units": "degrees C"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_OSD`. Expects 24 bytes. ADSB alarms are not settable via this message.",
        "description": "Sets OSD alarm threshold settings."
    },
    "MSP2_INAV_OSD_PREFERENCES": {
        "code": 8214,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "videoSystem",
                    "ctype": "uint8_t",
                    "desc": "Enum `videoSystem_e`: Video system (Auto/PAL/NTSC) (`osdConfig()->video_system`)",
                    "units": "",
                    "enum": "videoSystem_e"
                },
                {
                    "name": "mainVoltageDecimals",
                    "ctype": "uint8_t",
                    "desc": "Count: Decimal places for main voltage display (`osdConfig()->main_voltage_decimals`)",
                    "units": ""
                },
                {
                    "name": "ahiReverseRoll",
                    "ctype": "uint8_t",
                    "desc": "Boolean: Reverse roll direction on Artificial Horizon (`osdConfig()->ahi_reverse_roll`)",
                    "units": ""
                },
                {
                    "name": "crosshairsStyle",
                    "ctype": "uint8_t",
                    "desc": "Enum `osd_crosshairs_style_e`: Style of the center crosshairs (`osdConfig()->crosshairs_style`)",
                    "units": "",
                    "enum": "osd_crosshairs_style_e"
                },
                {
                    "name": "leftSidebarScroll",
                    "ctype": "uint8_t",
                    "desc": "Enum `osd_sidebar_scroll_e`: Left sidebar scroll behavior (`osdConfig()->left_sidebar_scroll`)",
                    "units": "",
                    "enum": "osd_sidebar_scroll_e"
                },
                {
                    "name": "rightSidebarScroll",
                    "ctype": "uint8_t",
                    "desc": "Enum `osd_sidebar_scroll_e`: Right sidebar scroll behavior (`osdConfig()->right_sidebar_scroll`)",
                    "units": "",
                    "enum": "osd_sidebar_scroll_e"
                },
                {
                    "name": "sidebarScrollArrows",
                    "ctype": "uint8_t",
                    "desc": "Boolean: Show arrows for scrollable sidebars (`osdConfig()->sidebar_scroll_arrows`)",
                    "units": ""
                },
                {
                    "name": "units",
                    "ctype": "uint8_t",
                    "desc": "Enum: `osd_unit_e` Measurement units (Metric/Imperial) (`osdConfig()->units`)",
                    "units": "",
                    "enum": "osd_unit_e"
                },
                {
                    "name": "statsEnergyUnit",
                    "ctype": "uint8_t",
                    "desc": "Enum `osd_stats_energy_unit_e`: Unit for energy display in post-flight stats (`osdConfig()->stats_energy_unit`)",
                    "units": "",
                    "enum": "osd_stats_energy_unit_e"
                }
            ]
        },
        "notes": "Requires `USE_OSD`.",
        "description": "Retrieves OSD display preferences (video system, units, styles, etc.)."
    },
    "MSP2_INAV_OSD_SET_PREFERENCES": {
        "code": 8215,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "videoSystem",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->video_system`",
                    "units": "",
                    "enum": "videoSystem_e"
                },
                {
                    "name": "mainVoltageDecimals",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->main_voltage_decimals`",
                    "units": ""
                },
                {
                    "name": "ahiReverseRoll",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->ahi_reverse_roll`",
                    "units": ""
                },
                {
                    "name": "crosshairsStyle",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->crosshairs_style`",
                    "units": "",
                    "enum": "osd_crosshairs_style_e"
                },
                {
                    "name": "leftSidebarScroll",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->left_sidebar_scroll`",
                    "units": "",
                    "enum": "osd_sidebar_scroll_e"
                },
                {
                    "name": "rightSidebarScroll",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->right_sidebar_scroll`",
                    "units": "",
                    "enum": "osd_sidebar_scroll_e"
                },
                {
                    "name": "sidebarScrollArrows",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->sidebar_scroll_arrows`",
                    "units": ""
                },
                {
                    "name": "units",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->units` (enum `osd_unit_e`)",
                    "units": "",
                    "enum": "osd_unit_e"
                },
                {
                    "name": "statsEnergyUnit",
                    "ctype": "uint8_t",
                    "desc": "Sets `osdConfigMutable()->stats_energy_unit`",
                    "units": "",
                    "enum": "osd_stats_energy_unit_e"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_OSD`. Expects 9 bytes. Triggers a full OSD redraw.",
        "description": "Sets OSD display preferences."
    },
    "MSP2_INAV_SELECT_BATTERY_PROFILE": {
        "code": 8216,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "batteryProfileIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the battery profile to activate (0-based)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 1 byte. Will fail if armed. Calls `setConfigBatteryProfileAndWriteEEPROM()`.",
        "description": "Selects the active battery profile and saves configuration."
    },
    "MSP2_INAV_DEBUG": {
        "code": 8217,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "debugValues",
                    "desc": "Values from the `debug` array (signed, typically 8 entries)",
                    "ctype": "int32_t",
                    "array": true,
                    "array_size": 8,
                    "array_size_define": "DEBUG32_VALUE_COUNT",
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "`DEBUG32_VALUE_COUNT` is usually 8.",
        "description": "Retrieves values from the firmware's 32-bit `debug[]` array. Supersedes `MSP_DEBUG`."
    },
    "MSP2_BLACKBOX_CONFIG": {
        "code": 8218,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "blackboxSupported",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if Blackbox is supported (`USE_BLACKBOX`), 0 otherwise",
                    "units": ""
                },
                {
                    "name": "blackboxDevice",
                    "ctype": "uint8_t",
                    "desc": "Enum `BlackboxDevice`: Target device for logging (`blackboxConfig()->device`). 0 if not supported",
                    "units": "",
                    "enum": "BlackboxDevice"
                },
                {
                    "name": "blackboxRateNum",
                    "ctype": "uint16_t",
                    "desc": "Numerator for logging rate divider (`blackboxConfig()->rate_num`). 0 if not supported",
                    "units": ""
                },
                {
                    "name": "blackboxRateDenom",
                    "ctype": "uint16_t",
                    "desc": "Denominator for logging rate divider (`blackboxConfig()->rate_denom`). 0 if not supported",
                    "units": ""
                },
                {
                    "name": "blackboxIncludeFlags",
                    "ctype": "uint32_t",
                    "desc": "Bitmask: Flags for fields included/excluded from logging (`blackboxConfig()->includeFlags`)",
                    "units": "",
                    "bitmask": true
                }
            ]
        },
        "notes": "If `USE_BLACKBOX` is disabled, only the first four fields are returned (all zero).",
        "description": "Retrieves the Blackbox configuration. Supersedes `MSP_BLACKBOX_CONFIG`."
    },
    "MSP2_SET_BLACKBOX_CONFIG": {
        "code": 8219,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "blackboxDevice",
                    "ctype": "uint8_t",
                    "desc": "Sets `blackboxConfigMutable()->device`",
                    "units": "",
                    "enum": "BlackboxDevice"
                },
                {
                    "name": "blackboxRateNum",
                    "ctype": "uint16_t",
                    "desc": "Sets `blackboxConfigMutable()->rate_num`",
                    "units": ""
                },
                {
                    "name": "blackboxRateDenom",
                    "ctype": "uint16_t",
                    "desc": "Sets `blackboxConfigMutable()->rate_denom`",
                    "units": ""
                },
                {
                    "name": "blackboxIncludeFlags",
                    "ctype": "uint32_t",
                    "desc": "Sets `blackboxConfigMutable()->includeFlags`",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_BLACKBOX`. Expects 9 bytes. Returns error if Blackbox is currently logging (`!blackboxMayEditConfig()`).",
        "description": "Sets the Blackbox configuration. Supersedes `MSP_SET_BLACKBOX_CONFIG`."
    },
    "MSP2_INAV_TEMP_SENSOR_CONFIG": {
        "code": 8220,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "desc": "Enum (`tempSensorType_e`): Type of the temperature sensor",
                    "units": "",
                    "enum": "tempSensorType_e"
                },
                {
                    "name": "address",
                    "ctype": "uint64_t",
                    "desc": "Sensor address/ID (e.g., for 1-Wire sensors)",
                    "units": ""
                },
                {
                    "name": "alarmMin",
                    "ctype": "int16_t",
                    "desc": "Min temperature alarm threshold (`sensorConfig->alarm_min`)",
                    "units": "0.1°C"
                },
                {
                    "name": "alarmMax",
                    "ctype": "int16_t",
                    "desc": "Max temperature alarm threshold (`sensorConfig->alarm_max`)",
                    "units": "0.1°C"
                },
                {
                    "name": "osdSymbol",
                    "ctype": "uint8_t",
                    "desc": "Index: OSD symbol to use for this sensor (0 to `TEMP_SENSOR_SYM_COUNT`)",
                    "units": ""
                },
                {
                    "name": "label",
                    "desc": "User-defined label for the sensor",
                    "ctype": "char",
                    "array": true,
                    "array_size": 4,
                    "array_size_define": "TEMPERATURE_LABEL_LEN",
                    "units": ""
                }
            ],
            "repeating": "MAX_TEMP_SENSORS"
        },
        "variable_len": "MAX_TEMP_SENSORS",
        "notes": "Requires `USE_TEMPERATURE_SENSOR`.",
        "description": "Retrieves the configuration for all onboard temperature sensors."
    },
    "MSP2_INAV_SET_TEMP_SENSOR_CONFIG": {
        "code": 8221,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "desc": "Sets sensor type (`tempSensorType_e`)",
                    "units": "",
                    "enum": "tempSensorType_e"
                },
                {
                    "name": "address",
                    "ctype": "uint64_t",
                    "desc": "Sets sensor address/ID",
                    "units": ""
                },
                {
                    "name": "alarmMin",
                    "ctype": "int16_t",
                    "desc": "Sets min alarm threshold (`tempSensorConfigMutable(index)->alarm_min`)",
                    "units": "0.1°C"
                },
                {
                    "name": "alarmMax",
                    "ctype": "int16_t",
                    "desc": "Sets max alarm threshold (`tempSensorConfigMutable(index)->alarm_max`)",
                    "units": "0.1°C"
                },
                {
                    "name": "osdSymbol",
                    "ctype": "uint8_t",
                    "desc": "Sets OSD symbol index (validated)",
                    "units": ""
                },
                {
                    "name": "label",
                    "desc": "Sets sensor label (converted to uppercase)",
                    "ctype": "char",
                    "array": true,
                    "array_size": 4,
                    "array_size_define": "TEMPERATURE_LABEL_LEN",
                    "units": ""
                }
            ],
            "repeating": "MAX_TEMP_SENSORS"
        },
        "reply": null,
        "notes": "Requires `USE_TEMPERATURE_SENSOR`. Payload must include `MAX_TEMP_SENSORS` consecutive `tempSensorConfig_t` structures (labels are uppercased).",
        "description": "Sets the configuration for all onboard temperature sensors."
    },
    "MSP2_INAV_TEMPERATURES": {
        "code": 8222,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "temperature",
                    "ctype": "int16_t",
                    "desc": "Current temperature reading. -1000 if sensor is invalid or reading failed",
                    "units": "0.1°C"
                }
            ],
            "repeating": "MAX_TEMP_SENSORS"
        },
        "variable_len": "MAX_TEMP_SENSORS",
        "notes": "Requires `USE_TEMPERATURE_SENSOR`.",
        "description": "Retrieves the current readings from all configured temperature sensors."
    },
    "MSP_SIMULATOR": {
        "code": 8223,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "simulatorVersion",
                    "ctype": "uint8_t",
                    "desc": "Version of the simulator protocol (`SIMULATOR_MSP_VERSION`)",
                    "units": ""
                },
                {
                    "name": "simulatorFlags_t",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Options for HITL (`HITL_*` flags)",
                    "units": "Bitmask",
                    "bitmask": true
                },
                {
                    "name": "gpsFixType",
                    "ctype": "uint8_t",
                    "desc": "Enum `gpsFixType_e` Type of GPS fix (If `HITL_HAS_NEW_GPS_DATA`)",
                    "units": "Enum",
                    "enum": "gpsFixType_e"
                },
                {
                    "name": "gpsNumSat",
                    "ctype": "uint8_t",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated satellite count",
                    "units": ""
                },
                {
                    "name": "gpsLat",
                    "ctype": "int32_t",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated latitude (1e7 deg)",
                    "units": ""
                },
                {
                    "name": "gpsLon",
                    "ctype": "int32_t",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated longitude (1e7 deg)",
                    "units": ""
                },
                {
                    "name": "gpsAlt",
                    "ctype": "int32_t",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated altitude (cm)",
                    "units": ""
                },
                {
                    "name": "gpsSpeed",
                    "ctype": "uint16_t",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated ground speed (cm/s)",
                    "units": ""
                },
                {
                    "name": "gpsCourse",
                    "ctype": "uint16_t",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated ground course (deci-deg)",
                    "units": ""
                },
                {
                    "name": "gpsVelN",
                    "ctype": "int16_t",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated North velocity (cm/s)",
                    "units": ""
                },
                {
                    "name": "gpsVelE",
                    "ctype": "int16_t",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated East velocity (cm/s)",
                    "units": ""
                },
                {
                    "name": "gpsVelD",
                    "ctype": "int16_t",
                    "desc": "(If `HITL_HAS_NEW_GPS_DATA`) Simulated Down velocity (cm/s)",
                    "units": ""
                },
                {
                    "name": "imuRoll",
                    "ctype": "int16_t",
                    "desc": "(If NOT `HITL_USE_IMU`) Simulated Roll (deci-deg)",
                    "units": ""
                },
                {
                    "name": "imuPitch",
                    "ctype": "int16_t",
                    "desc": "(If NOT `HITL_USE_IMU`) Simulated Pitch (deci-deg)",
                    "units": ""
                },
                {
                    "name": "imuYaw",
                    "ctype": "int16_t",
                    "desc": "(If NOT `HITL_USE_IMU`) Simulated Yaw (deci-deg)",
                    "units": ""
                },
                {
                    "name": "accX",
                    "ctype": "int16_t",
                    "desc": "mG (G * 1000)",
                    "units": ""
                },
                {
                    "name": "accY",
                    "ctype": "int16_t",
                    "desc": "mG (G * 1000)",
                    "units": ""
                },
                {
                    "name": "accZ",
                    "ctype": "int16_t",
                    "desc": "mG (G * 1000)",
                    "units": ""
                },
                {
                    "name": "gyroX",
                    "ctype": "int16_t",
                    "desc": "dps * 16",
                    "units": ""
                },
                {
                    "name": "gyroY",
                    "ctype": "int16_t",
                    "desc": "dps * 16",
                    "units": ""
                },
                {
                    "name": "gyroZ",
                    "ctype": "int16_t",
                    "desc": "dps * 16",
                    "units": ""
                },
                {
                    "name": "baroPressure",
                    "ctype": "uint32_t",
                    "desc": "Pa",
                    "units": ""
                },
                {
                    "name": "magX",
                    "ctype": "int16_t",
                    "desc": "Scaled",
                    "units": ""
                },
                {
                    "name": "magY",
                    "ctype": "int16_t",
                    "desc": "Scaled",
                    "units": ""
                },
                {
                    "name": "magZ",
                    "ctype": "int16_t",
                    "desc": "Scaled",
                    "units": ""
                },
                {
                    "name": "vbat",
                    "ctype": "uint8_t",
                    "desc": "(If `HITL_EXT_BATTERY_VOLTAGE`) Simulated battery voltage (0.1V units)",
                    "units": ""
                },
                {
                    "name": "airspeed",
                    "ctype": "uint16_t",
                    "desc": "(If `HITL_AIRSPEED`) Simulated airspeed (cm/s)",
                    "units": ""
                },
                {
                    "name": "extFlags",
                    "ctype": "uint8_t",
                    "desc": "(If `HITL_EXTENDED_FLAGS`) Additional flags (upper 8 bits)",
                    "units": ""
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "stabilizedRoll",
                    "ctype": "uint16_t",
                    "desc": "Stabilized Roll command output (-500 to 500)",
                    "units": ""
                },
                {
                    "name": "stabilizedPitch",
                    "ctype": "uint16_t",
                    "desc": "Stabilized Pitch command output (-500 to 500)",
                    "units": ""
                },
                {
                    "name": "stabilizedYaw",
                    "ctype": "uint16_t",
                    "desc": "Stabilized Yaw command output (-500 to 500)",
                    "units": ""
                },
                {
                    "name": "stabilizedThrottle",
                    "ctype": "uint16_t",
                    "desc": "Stabilized Throttle command output (-500 to 500 if armed, else -500)",
                    "units": ""
                },
                {
                    "name": "debugFlags",
                    "ctype": "uint8_t",
                    "desc": "Packed flags: Debug index (0-7), Platform type, Armed state, OSD feature status",
                    "units": ""
                },
                {
                    "name": "debugValue",
                    "ctype": "uint32_t",
                    "desc": "Current debug value (`debug[simulatorData.debugIndex]`)",
                    "units": ""
                },
                {
                    "name": "attitudeRoll",
                    "ctype": "int16_t",
                    "desc": "Current estimated Roll (deci-deg)",
                    "units": ""
                },
                {
                    "name": "attitudePitch",
                    "ctype": "int16_t",
                    "desc": "Current estimated Pitch (deci-deg)",
                    "units": ""
                },
                {
                    "name": "attitudeYaw",
                    "ctype": "int16_t",
                    "desc": "Current estimated Yaw (deci-deg)",
                    "units": ""
                },
                {
                    "name": "osdHeader",
                    "ctype": "uint8_t",
                    "desc": "OSD RLE Header (255)",
                    "units": "",
                    "optional": true
                },
                {
                    "name": "osdRows",
                    "ctype": "uint8_t",
                    "desc": "(If OSD supported) Number of OSD rows",
                    "units": "",
                    "optional": true
                },
                {
                    "name": "osdCols",
                    "ctype": "uint8_t",
                    "desc": "(If OSD supported) Number of OSD columns",
                    "units": "",
                    "optional": true
                },
                {
                    "name": "osdStartY",
                    "ctype": "uint8_t",
                    "desc": "(If OSD supported) Starting row for RLE data",
                    "units": "",
                    "optional": true
                },
                {
                    "name": "osdStartX",
                    "ctype": "uint8_t",
                    "desc": "(If OSD supported) Starting column for RLE data",
                    "units": "",
                    "optional": true
                },
                {
                    "name": "osdRleData",
                    "desc": "(If OSD supported) Run-length encoded OSD character data. Terminated by `[0, 0]`",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 0,
                    "units": "",
                    "optional": true
                }
            ]
        },
        "variable_len": true,
        "notes": "Requires `USE_SIMULATOR`. Complex message handling state changes for enabling/disabling HITL. Sensor data is injected directly. OSD data is sent using a custom RLE scheme. See `simulatorData` struct and associated code for details.",
        "description": "Handles Hardware-in-the-Loop (HITL) simulation data exchange. Receives simulated sensor data and options, sends back control outputs and debug info."
    },
    "MSP2_INAV_SERVO_MIXER": {
        "code": 8224,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "targetChannel",
                    "ctype": "uint8_t",
                    "desc": "Servo output channel index (0-based)",
                    "units": ""
                },
                {
                    "name": "inputSource",
                    "ctype": "uint8_t",
                    "desc": "Enum `inputSource_e` Input source",
                    "units": "",
                    "enum": "inputSource_e"
                },
                {
                    "name": "rate",
                    "ctype": "int16_t",
                    "desc": "Mixing rate/weight",
                    "units": ""
                },
                {
                    "name": "speed",
                    "ctype": "uint8_t",
                    "desc": "Speed/Slew rate limit (0-100)",
                    "units": ""
                },
                {
                    "name": "conditionId",
                    "ctype": "int8_t",
                    "desc": "Logic Condition ID (0 to `MAX_LOGIC_CONDITIONS - 1`, or 255/-1 if none/disabled)",
                    "units": ""
                },
                {
                    "name": "p2TargetChannel",
                    "ctype": "uint8_t",
                    "desc": "(Optional) Profile 2 Target channel",
                    "units": "",
                    "optional": true
                },
                {
                    "name": "p2InputSource",
                    "ctype": "uint8_t",
                    "desc": "(Optional) Profile 2 Enum `inputSource_e` Input source",
                    "units": "",
                    "optional": true,
                    "enum": "inputSource_e"
                },
                {
                    "name": "p2Rate",
                    "ctype": "int16_t",
                    "desc": "(Optional) Profile 2 Rate",
                    "units": "",
                    "optional": true
                },
                {
                    "name": "p2Speed",
                    "ctype": "uint8_t",
                    "desc": "(Optional) Profile 2 Speed",
                    "units": "",
                    "optional": true
                },
                {
                    "name": "p2ConditionId",
                    "ctype": "int8_t",
                    "desc": "(Optional) Profile 2 Logic Condition ID",
                    "units": "",
                    "optional": true
                }
            ],
            "repeating": "MAX_SERVO_RULES"
        },
        "variable_len": "MAX_SERVO_RULES",
        "notes": "`conditionId` requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves the custom servo mixer rules, including programming framework condition IDs, for primary and secondary mixer profiles. Supersedes `MSP_SERVO_MIX_RULES`."
    },
    "MSP2_INAV_SET_SERVO_MIXER": {
        "code": 8225,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "ruleIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the rule to set (0 to `MAX_SERVO_RULES - 1`)",
                    "units": ""
                },
                {
                    "name": "targetChannel",
                    "ctype": "uint8_t",
                    "desc": "Servo output channel index",
                    "units": ""
                },
                {
                    "name": "inputSource",
                    "ctype": "uint8_t",
                    "desc": "Enum `inputSource_e` Input source",
                    "units": "",
                    "enum": "inputSource_e"
                },
                {
                    "name": "rate",
                    "ctype": "int16_t",
                    "desc": "Mixing rate/weight",
                    "units": ""
                },
                {
                    "name": "speed",
                    "ctype": "uint8_t",
                    "desc": "Speed/Slew rate limit (0-100)",
                    "units": ""
                },
                {
                    "name": "conditionId",
                    "ctype": "int8_t",
                    "desc": "Logic Condition ID (255/-1 if none). Ignored if `USE_PROGRAMMING_FRAMEWORK` is disabled",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 7 bytes. Returns error if index invalid. Calls `loadCustomServoMixer()`.",
        "description": "Sets a single custom servo mixer rule, including programming framework condition ID. Supersedes `MSP_SET_SERVO_MIX_RULE`."
    },
    "MSP2_INAV_LOGIC_CONDITIONS": {
        "code": 8226,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if the condition is enabled",
                    "units": ""
                },
                {
                    "name": "activatorId",
                    "ctype": "int8_t",
                    "desc": "Activator condition ID (-1/255 if none)",
                    "units": ""
                },
                {
                    "name": "operation",
                    "ctype": "uint8_t",
                    "desc": "Enum `logicOperation_e` Logical operation (AND, OR, XOR, etc.)",
                    "units": "",
                    "enum": "logicOperation_e"
                },
                {
                    "name": "operandAType",
                    "ctype": "uint8_t",
                    "desc": "Enum `logicOperandType_e` Type of the first operand (Flight Mode, GVAR, etc.)",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "operandAValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of the first operand",
                    "units": ""
                },
                {
                    "name": "operandBType",
                    "ctype": "uint8_t",
                    "desc": "Enum `logicOperandType_e`: Type of the second operand",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "operandBValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of the second operand",
                    "units": ""
                },
                {
                    "name": "flags",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Condition flags (`logicConditionFlags_e`)",
                    "units": "Bitmask",
                    "bitmask": true
                }
            ],
            "repeating": "MAX_LOGIC_CONDITIONS"
        },
        "variable_len": "MAX_LOGIC_CONDITIONS",
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. See `logicCondition_t` structure.",
        "description": "Retrieves the configuration of all defined Logic Conditions."
    },
    "MSP2_INAV_SET_LOGIC_CONDITIONS": {
        "code": 8227,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "conditionIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the condition to set (0 to `MAX_LOGIC_CONDITIONS - 1`)",
                    "units": ""
                },
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 to enable the condition",
                    "units": ""
                },
                {
                    "name": "activatorId",
                    "ctype": "int8_t",
                    "desc": "Activator condition ID (-1/255 if none)",
                    "units": ""
                },
                {
                    "name": "operation",
                    "ctype": "uint8_t",
                    "desc": "Enum `logicOperation_e` Logical operation",
                    "units": "",
                    "enum": "logicOperation_e"
                },
                {
                    "name": "operandAType",
                    "ctype": "uint8_t",
                    "desc": "Enum `logicOperandType_e` Type of operand A",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "operandAValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of operand A",
                    "units": ""
                },
                {
                    "name": "operandBType",
                    "ctype": "uint8_t",
                    "desc": "Enum `logicOperandType_e` Type of operand B",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "operandBValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of operand B",
                    "units": ""
                },
                {
                    "name": "flags",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Condition flags (`logicConditionFlags_e`)",
                    "units": "Bitmask",
                    "bitmask": true
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. Expects 15 bytes. Returns error if index is invalid.",
        "description": "Sets the configuration for a single Logic Condition by its index."
    },
    "MSP2_INAV_GLOBAL_FUNCTIONS": {
        "code": 8228,
        "mspv": 2,
        "not_implemented": true
    },
    "MSP2_INAV_SET_GLOBAL_FUNCTIONS": {
        "code": 8229,
        "mspv": 2,
        "not_implemented": true
    },
    "MSP2_INAV_LOGIC_CONDITIONS_STATUS": {
        "code": 8230,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "conditionValues",
                    "ctype": "int32_t",
                    "desc": "Array of current values for each logic condition (`logicConditionGetValue(i)`). 1 for true, 0 for false, or numerical value depending on operation",
                    "array": true,
                    "array_size": 64,
                    "array_size_define": "MAX_LOGIC_CONDITIONS",
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves the current evaluated status (true/false or numerical value) of all logic conditions."
    },
    "MSP2_INAV_GVAR_STATUS": {
        "code": 8231,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "gvarValues",
                    "desc": "Array of current values for each global variable (`gvGet(i)`)",
                    "ctype": "int32_t",
                    "array": true,
                    "array_size": 8,
                    "array_size_define": "MAX_GLOBAL_VARIABLES",
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves the current values of all Global Variables (GVARS)."
    },
    "MSP2_INAV_PROGRAMMING_PID": {
        "code": 8232,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if the PID is enabled",
                    "units": ""
                },
                {
                    "name": "setpointType",
                    "ctype": "uint8_t",
                    "desc": "Enum (`logicOperandType_e`) Type of the setpoint source",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "setpointValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of the setpoint source",
                    "units": ""
                },
                {
                    "name": "measurementType",
                    "ctype": "uint8_t",
                    "desc": "Enum (`logicOperandType_e`) Type of the measurement source",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "measurementValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of the measurement source",
                    "units": ""
                },
                {
                    "name": "gainP",
                    "ctype": "uint16_t",
                    "desc": "Proportional gain",
                    "units": ""
                },
                {
                    "name": "gainI",
                    "ctype": "uint16_t",
                    "desc": "Integral gain",
                    "units": ""
                },
                {
                    "name": "gainD",
                    "ctype": "uint16_t",
                    "desc": "Derivative gain",
                    "units": ""
                },
                {
                    "name": "gainFF",
                    "ctype": "uint16_t",
                    "desc": "Feed-forward gain",
                    "units": ""
                }
            ],
            "repeating": "MAX_PROGRAMMING_PID_COUNT"
        },
        "variable_len": "MAX_PROGRAMMING_PID_COUNT",
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. See `programmingPid_t` structure.",
        "description": "Retrieves the configuration of all Programming PIDs."
    },
    "MSP2_INAV_SET_PROGRAMMING_PID": {
        "code": 8233,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "pidIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the Programming PID to set (0 to `MAX_PROGRAMMING_PID_COUNT - 1`)",
                    "units": ""
                },
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 to enable the PID",
                    "units": ""
                },
                {
                    "name": "setpointType",
                    "ctype": "uint8_t",
                    "desc": "Enum (`logicOperandType_e`) Type of the setpoint source",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "setpointValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of the setpoint source",
                    "units": ""
                },
                {
                    "name": "measurementType",
                    "ctype": "uint8_t",
                    "desc": "Enum (`logicOperandType_e`) Type of the measurement source",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "measurementValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of the measurement source",
                    "units": ""
                },
                {
                    "name": "gainP",
                    "ctype": "uint16_t",
                    "desc": "Proportional gain",
                    "units": ""
                },
                {
                    "name": "gainI",
                    "ctype": "uint16_t",
                    "desc": "Integral gain",
                    "units": ""
                },
                {
                    "name": "gainD",
                    "ctype": "uint16_t",
                    "desc": "Derivative gain",
                    "units": ""
                },
                {
                    "name": "gainFF",
                    "ctype": "uint16_t",
                    "desc": "Feed-forward gain",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. Expects 20 bytes. Returns error if index is invalid.",
        "description": "Sets the configuration for a single Programming PID by its index."
    },
    "MSP2_INAV_PROGRAMMING_PID_STATUS": {
        "code": 8234,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "pidOutputs",
                    "desc": "Array of current output values for each Programming PID (`programmingPidGetOutput(i)`, signed)",
                    "array": true,
                    "ctype": "int32_t",
                    "array_size": 4,
                    "array_size_define": "MAX_PROGRAMMING_PID_COUNT",
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves the current output value of all Programming PIDs."
    },
    "MSP2_PID": {
        "code": 8240,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "P",
                    "ctype": "uint8_t",
                    "desc": "Proportional gain (`pidBank()->pid[i].P`), constrained 0-255",
                    "units": ""
                },
                {
                    "name": "I",
                    "ctype": "uint8_t",
                    "desc": "Integral gain (`pidBank()->pid[i].I`), constrained 0-255",
                    "units": ""
                },
                {
                    "name": "D",
                    "ctype": "uint8_t",
                    "desc": "Derivative gain (`pidBank()->pid[i].D`), constrained 0-255",
                    "units": ""
                },
                {
                    "name": "FF",
                    "ctype": "uint8_t",
                    "desc": "Feed-forward gain (`pidBank()->pid[i].FF`), constrained 0-255",
                    "units": ""
                }
            ],
            "repeating": "PID_ITEM_COUNT"
        },
        "variable_len": "PID_ITEM_COUNT",
        "notes": "`PID_ITEM_COUNT` defines the number of standard PID controllers (Roll, Pitch, Yaw, Alt, Vel, etc.). Updates from EZ-Tune if enabled.",
        "description": "Retrieves the standard PID controller gains (P, I, D, FF) for the current PID profile."
    },
    "MSP2_SET_PID": {
        "code": 8241,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "P",
                    "ctype": "uint8_t",
                    "desc": "Sets Proportional gain (`pidBankMutable()->pid[i].P`)",
                    "units": ""
                },
                {
                    "name": "I",
                    "ctype": "uint8_t",
                    "desc": "Sets Integral gain (`pidBankMutable()->pid[i].I`)",
                    "units": ""
                },
                {
                    "name": "D",
                    "ctype": "uint8_t",
                    "desc": "Sets Derivative gain (`pidBankMutable()->pid[i].D`)",
                    "units": ""
                },
                {
                    "name": "FF",
                    "ctype": "uint8_t",
                    "desc": "Sets Feed-forward gain (`pidBankMutable()->pid[i].FF`)",
                    "units": ""
                }
            ],
            "repeating": "PID_ITEM_COUNT"
        },
        "reply": null,
        "variable_len": "PID_ITEM_COUNT",
        "notes": "Expects `PID_ITEM_COUNT * 4` bytes. Calls `schedulePidGainsUpdate()` and `navigationUsePIDs()`.",
        "description": "Sets the standard PID controller gains (P, I, D, FF) for the current PID profile."
    },
    "MSP2_INAV_OPFLOW_CALIBRATION": {
        "code": 8242,
        "mspv": 2,
        "request": null,
        "reply": null,
        "notes": "Requires `USE_OPFLOW`. Will fail if armed. Calls `opflowStartCalibration()`.",
        "description": "Starts the optical flow sensor calibration procedure."
    },
    "MSP2_INAV_FWUPDT_PREPARE": {
        "code": 8243,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "firmwareSize",
                    "ctype": "uint32_t",
                    "desc": "Total size of the incoming firmware file in bytes",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Expects 4 bytes. Returns error if preparation fails (e.g., no storage, invalid size). Calls `firmwareUpdatePrepare()`.",
        "description": "Prepares the flight controller to receive a firmware update via MSP."
    },
    "MSP2_INAV_FWUPDT_STORE": {
        "code": 8244,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "firmwareChunk",
                    "desc": "Chunk of firmware data",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Returns error if storage fails (e.g., out of space, checksum error). Called repeatedly until the entire firmware is transferred. Calls `firmwareUpdateStore()`.",
        "description": "Stores a chunk of firmware data received via MSP."
    },
    "MSP2_INAV_FWUPDT_EXEC": {
        "code": 8245,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "updateType",
                    "ctype": "uint8_t",
                    "desc": "Type of update (e.g., full flash, specific section - currently ignored/unused)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Expects 1 byte. Returns error if update cannot start (e.g., not fully received). Calls `firmwareUpdateExec()`. If successful, the device will reboot into the new firmware.",
        "description": "Executes the firmware update process (flashes the stored firmware and reboots)."
    },
    "MSP2_INAV_FWUPDT_ROLLBACK_PREPARE": {
        "code": 8246,
        "mspv": 2,
        "request": null,
        "reply": null,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Returns error if rollback preparation fails (e.g., no rollback image available). Calls `firmwareUpdateRollbackPrepare()`.",
        "description": "Prepares the flight controller to perform a firmware rollback to the previously stored version."
    },
    "MSP2_INAV_FWUPDT_ROLLBACK_EXEC": {
        "code": 8247,
        "mspv": 2,
        "request": null,
        "reply": null,
        "notes": "Requires `MSP_FIRMWARE_UPDATE`. Returns error if rollback cannot start. Calls `firmwareUpdateRollbackExec()`. If successful, the device will reboot into the backup firmware.",
        "description": "Executes the firmware rollback process (flashes the stored backup firmware and reboots)."
    },
    "MSP2_INAV_SAFEHOME": {
        "code": 8248,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "safehomeIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the safe home location (0 to `MAX_SAFE_HOMES - 1`)",
                    "units": ""
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "safehomeIndex",
                    "ctype": "uint8_t",
                    "desc": "Index requested",
                    "units": ""
                },
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if this safe home is enabled",
                    "units": ""
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "desc": "Latitude (1e7 deg)",
                    "units": ""
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "desc": "Longitude (1e7 deg)",
                    "units": ""
                }
            ]
        },
        "notes": "Requires `USE_SAFE_HOME`. Used by `mspFcSafeHomeOutCommand`. See `MSP2_INAV_SET_SAFEHOME` for setting.",
        "description": "Get or Set configuration for a specific Safe Home location."
    },
    "MSP2_INAV_SET_SAFEHOME": {
        "code": 8249,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "safehomeIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the safe home location (0 to `MAX_SAFE_HOMES - 1`)",
                    "units": ""
                },
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 to enable this safe home",
                    "units": ""
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "desc": "Latitude (1e7 deg)",
                    "units": ""
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "desc": "Longitude (1e7 deg)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_SAFE_HOME`. Expects 10 bytes. Returns error if index invalid. Resets corresponding FW autoland approach if `USE_FW_AUTOLAND` is enabled.",
        "description": "Sets the configuration for a specific Safe Home location."
    },
    "MSP2_INAV_MISC2": {
        "code": 8250,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "uptimeSeconds",
                    "ctype": "uint32_t",
                    "desc": "Time since boot (`micros() / 1000000`)",
                    "units": "Seconds"
                },
                {
                    "name": "flightTimeSeconds",
                    "ctype": "uint32_t",
                    "desc": "Accumulated flight time (`getFlightTime()`)",
                    "units": "Seconds"
                },
                {
                    "name": "throttlePercent",
                    "ctype": "uint8_t",
                    "desc": "Current throttle output percentage (`getThrottlePercent(true)`)",
                    "units": "%"
                },
                {
                    "name": "autoThrottleFlag",
                    "ctype": "uint8_t",
                    "desc": "1 if navigation is controlling throttle, 0 otherwise (`navigationIsControllingThrottle()`)",
                    "units": "Boolean"
                }
            ]
        },
        "notes": "",
        "description": "Retrieves miscellaneous runtime information including timers and throttle status."
    },
    "MSP2_INAV_LOGIC_CONDITIONS_SINGLE": {
        "code": 8251,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "conditionIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the condition to retrieve (0 to `MAX_LOGIC_CONDITIONS - 1`)",
                    "units": ""
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if enabled",
                    "units": ""
                },
                {
                    "name": "activatorId",
                    "ctype": "int8_t",
                    "desc": "Activator ID (-1/255 if none)",
                    "units": ""
                },
                {
                    "name": "operation",
                    "ctype": "uint8_t",
                    "desc": "Enum `logicOperation_e` Logical operation",
                    "units": "",
                    "enum": "logicOperation_e"
                },
                {
                    "name": "operandAType",
                    "ctype": "uint8_t",
                    "desc": "Enum `logicOperandType_e` Type of operand A",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "operandAValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of operand A",
                    "units": ""
                },
                {
                    "name": "operandBType",
                    "ctype": "uint8_t",
                    "desc": "Enum `logicOperandType_e` Type of operand B",
                    "units": "",
                    "enum": "logicOperandType_e"
                },
                {
                    "name": "operandBValue",
                    "ctype": "int32_t",
                    "desc": "Value/ID of operand B",
                    "units": ""
                },
                {
                    "name": "flags",
                    "ctype": "uint8_t",
                    "desc": "Bitmask: Condition flags (`logicConditionFlags_e`)",
                    "units": "Bitmask",
                    "bitmask": true
                }
            ]
        },
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. Used by `mspFcLogicConditionCommand`.",
        "description": "Gets the configuration for a single Logic Condition by its index."
    },
    "MSP2_INAV_ESC_RPM": {
        "code": 8256,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "escRpm",
                    "ctype": "uint32_t",
                    "desc": "RPM reported by the ESC",
                    "units": "RPM"
                }
            ],
            "repeating": "getMotorCount()"
        },
        "variable_len": "getMotorCount()",
        "notes": "Requires `USE_ESC_SENSOR`. Payload size depends on the number of detected motors with telemetry.",
        "description": "Retrieves the RPM reported by each ESC via telemetry."
    },
    "MSP2_INAV_ESC_TELEM": {
        "code": 8257,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "motorCount",
                    "ctype": "uint8_t",
                    "desc": "Number of motors reporting telemetry (`getMotorCount()`)",
                    "units": ""
                },
                {
                    "name": "escData",
                    "desc": "Array of `escSensorData_t` structures containing voltage, current, temp, RPM, errors etc. for each ESC",
                    "ctype": "escSensorData_t",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "variable_len": true,
        "notes": "Requires `USE_ESC_SENSOR`. See `escSensorData_t` in `sensors/esc_sensor.h` for the exact structure fields.",
        "description": "Retrieves the full telemetry data structure reported by each ESC."
    },
    "MSP2_INAV_LED_STRIP_CONFIG_EX": {
        "code": 8264,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "ledConfig",
                    "ctype": "ledConfig_t",
                    "desc": "Raw `ledConfig_t` structure (6 bytes) holding position, function, overlay, color, direction, and params bitfields (`io/ledstrip.h`).",
                    "units": ""
                }
            ],
            "repeating": "LED_MAX_STRIP_LENGTH"
        },
        "variable_len": "LED_MAX_STRIP_LENGTH",
        "notes": "Requires `USE_LED_STRIP`. See `ledConfig_t` in `io/ledstrip.h` for structure fields (position, function, overlay, color, direction, params).",
        "description": "Retrieves the full configuration for each LED on the strip using the `ledConfig_t` structure. Supersedes `MSP_LED_STRIP_CONFIG`."
    },
    "MSP2_INAV_SET_LED_STRIP_CONFIG_EX": {
        "code": 8265,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "ledIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the LED to configure (0 to `LED_MAX_STRIP_LENGTH - 1`)",
                    "units": ""
                },
                {
                    "name": "ledConfig",
                    "ctype": "ledConfig_t",
                    "desc": "Raw `ledConfig_t` structure (6 bytes) mirroring the firmware layout.",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_LED_STRIP`. Expects `1 + sizeof(ledConfig_t)` bytes. Returns error if index invalid. Calls `reevaluateLedConfig()`.",
        "description": "Sets the configuration for a single LED on the strip using the `ledConfig_t` structure. Supersedes `MSP_SET_LED_STRIP_CONFIG`."
    },
    "MSP2_INAV_FW_APPROACH": {
        "code": 8266,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "approachIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the approach setting (0 to `MAX_FW_LAND_APPOACH_SETTINGS - 1`)",
                    "units": ""
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "approachIndex",
                    "ctype": "uint8_t",
                    "desc": "Index requested",
                    "units": "Index"
                },
                {
                    "name": "approachAlt",
                    "ctype": "int32_t",
                    "desc": "Signed altitude for the approach phase (`navFwAutolandApproach_t.approachAlt`)",
                    "units": "cm"
                },
                {
                    "name": "landAlt",
                    "ctype": "int32_t",
                    "desc": "Signed altitude for the final landing phase (`navFwAutolandApproach_t.landAlt`)",
                    "units": "cm"
                },
                {
                    "name": "approachDirection",
                    "ctype": "uint8_t",
                    "desc": "Enum `fwAutolandApproachDirection_e`: Direction of approach (From WP, Specific Heading)",
                    "units": "Enum",
                    "enum": "fwAutolandApproachDirection_e"
                },
                {
                    "name": "landHeading1",
                    "ctype": "int16_t",
                    "desc": "Primary landing heading (if approachDirection requires it)",
                    "units": "degrees"
                },
                {
                    "name": "landHeading2",
                    "ctype": "int16_t",
                    "desc": "Secondary landing heading (if approachDirection requires it)",
                    "units": "degrees"
                },
                {
                    "name": "isSeaLevelRef",
                    "ctype": "uint8_t",
                    "desc": "1 if altitudes are relative to sea level, 0 if relative to home",
                    "units": "Boolean"
                }
            ]
        },
        "notes": "Requires `USE_FW_AUTOLAND`. Used by `mspFwApproachOutCommand`. See `MSP2_INAV_SET_FW_APPROACH` for setting.",
        "description": "Get or Set configuration for a specific Fixed Wing Autoland approach."
    },
    "MSP2_INAV_SET_FW_APPROACH": {
        "code": 8267,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "approachIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the approach setting (0 to `MAX_FW_LAND_APPOACH_SETTINGS - 1`)",
                    "units": "Index"
                },
                {
                    "name": "approachAlt",
                    "ctype": "int32_t",
                    "desc": "Signed approach altitude (`navFwAutolandApproach_t.approachAlt`)",
                    "units": "cm"
                },
                {
                    "name": "landAlt",
                    "ctype": "int32_t",
                    "desc": "Signed landing altitude (`navFwAutolandApproach_t.landAlt`)",
                    "units": "cm"
                },
                {
                    "name": "approachDirection",
                    "ctype": "uint8_t",
                    "desc": "Enum `fwAutolandApproachDirection_e` Sets approach direction",
                    "units": "Enum",
                    "enum": "fwAutolandApproachDirection_e"
                },
                {
                    "name": "landHeading1",
                    "ctype": "int16_t",
                    "desc": "Sets primary landing heading",
                    "units": "degrees"
                },
                {
                    "name": "landHeading2",
                    "ctype": "int16_t",
                    "desc": "Sets secondary landing heading",
                    "units": "degrees"
                },
                {
                    "name": "isSeaLevelRef",
                    "ctype": "uint8_t",
                    "desc": "Sets altitude reference",
                    "units": "Boolean"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_FW_AUTOLAND`. Expects 15 bytes. Returns error if index invalid.",
        "description": "Sets the configuration for a specific Fixed Wing Autoland approach."
    },
    "MSP2_INAV_GPS_UBLOX_COMMAND": {
        "code": 8272,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "ubxCommand",
                    "desc": "Raw U-Blox UBX protocol command frame (including header, class, ID, length, payload, checksum)",
                    "ctype": "uint8_t",
                    "array": true,
                    "array_size": 0,
                    "units": ""
                }
            ]
        },
        "reply": null,
        "variable_len": true,
        "notes": "Requires GPS feature enabled (`FEATURE_GPS`) and the GPS driver to be U-Blox (`isGpsUblox()`). Payload must be at least 8 bytes (minimum UBX frame size). Use with extreme caution, incorrect commands can misconfigure the GPS module. Calls `gpsUbloxSendCommand()`.",
        "description": "Sends a raw command directly to a U-Blox GPS module connected to the FC."
    },
    "MSP2_INAV_RATE_DYNAMICS": {
        "code": 8288,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "sensitivityCenter",
                    "ctype": "uint8_t",
                    "desc": "Sensitivity at stick center (`currentControlRateProfile->rateDynamics.sensitivityCenter`)",
                    "units": "%"
                },
                {
                    "name": "sensitivityEnd",
                    "ctype": "uint8_t",
                    "desc": "Sensitivity at stick ends (`currentControlRateProfile->rateDynamics.sensitivityEnd`)",
                    "units": "%"
                },
                {
                    "name": "correctionCenter",
                    "ctype": "uint8_t",
                    "desc": "Correction strength at stick center (`currentControlRateProfile->rateDynamics.correctionCenter`)",
                    "units": "%"
                },
                {
                    "name": "correctionEnd",
                    "ctype": "uint8_t",
                    "desc": "Correction strength at stick ends (`currentControlRateProfile->rateDynamics.correctionEnd`)",
                    "units": "%"
                },
                {
                    "name": "weightCenter",
                    "ctype": "uint8_t",
                    "desc": "Transition weight at stick center (`currentControlRateProfile->rateDynamics.weightCenter`)",
                    "units": "%"
                },
                {
                    "name": "weightEnd",
                    "ctype": "uint8_t",
                    "desc": "Transition weight at stick ends (`currentControlRateProfile->rateDynamics.weightEnd`)",
                    "units": "%"
                }
            ]
        },
        "notes": "Requires `USE_RATE_DYNAMICS`.",
        "description": "Retrieves Rate Dynamics configuration parameters for the current control rate profile."
    },
    "MSP2_INAV_SET_RATE_DYNAMICS": {
        "code": 8289,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "sensitivityCenter",
                    "ctype": "uint8_t",
                    "desc": "Sets sensitivity at center",
                    "units": "%"
                },
                {
                    "name": "sensitivityEnd",
                    "ctype": "uint8_t",
                    "desc": "Sets sensitivity at ends",
                    "units": "%"
                },
                {
                    "name": "correctionCenter",
                    "ctype": "uint8_t",
                    "desc": "Sets correction at center",
                    "units": "%"
                },
                {
                    "name": "correctionEnd",
                    "ctype": "uint8_t",
                    "desc": "Sets correction at ends",
                    "units": "%"
                },
                {
                    "name": "weightCenter",
                    "ctype": "uint8_t",
                    "desc": "Sets weight at center",
                    "units": "%"
                },
                {
                    "name": "weightEnd",
                    "ctype": "uint8_t",
                    "desc": "Sets weight at ends",
                    "units": "%"
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_RATE_DYNAMICS`. Expects 6 bytes.",
        "description": "Sets Rate Dynamics configuration parameters for the current control rate profile."
    },
    "MSP2_INAV_EZ_TUNE": {
        "code": 8304,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if EZ-Tune is enabled (`ezTune()->enabled`)",
                    "units": ""
                },
                {
                    "name": "filterHz",
                    "ctype": "uint16_t",
                    "desc": "Filter frequency used during tuning (`ezTune()->filterHz`)",
                    "units": ""
                },
                {
                    "name": "axisRatio",
                    "ctype": "uint8_t",
                    "desc": "Roll vs Pitch axis tuning ratio (`ezTune()->axisRatio`)",
                    "units": ""
                },
                {
                    "name": "response",
                    "ctype": "uint8_t",
                    "desc": "Desired response characteristic (`ezTune()->response`)",
                    "units": ""
                },
                {
                    "name": "damping",
                    "ctype": "uint8_t",
                    "desc": "Desired damping characteristic (`ezTune()->damping`)",
                    "units": ""
                },
                {
                    "name": "stability",
                    "ctype": "uint8_t",
                    "desc": "Stability preference (`ezTune()->stability`)",
                    "units": ""
                },
                {
                    "name": "aggressiveness",
                    "ctype": "uint8_t",
                    "desc": "Aggressiveness preference (`ezTune()->aggressiveness`)",
                    "units": ""
                },
                {
                    "name": "rate",
                    "ctype": "uint8_t",
                    "desc": "Resulting rate setting (`ezTune()->rate`)",
                    "units": ""
                },
                {
                    "name": "expo",
                    "ctype": "uint8_t",
                    "desc": "Resulting expo setting (`ezTune()->expo`)",
                    "units": ""
                },
                {
                    "name": "snappiness",
                    "ctype": "uint8_t",
                    "desc": "Snappiness preference (`ezTune()->snappiness`)",
                    "units": ""
                }
            ]
        },
        "notes": "Requires `USE_EZ_TUNE`. Calls `ezTuneUpdate()` before sending.",
        "description": "Retrieves the current EZ-Tune parameters."
    },
    "MSP2_INAV_EZ_TUNE_SET": {
        "code": 8305,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "enabled",
                    "ctype": "uint8_t",
                    "desc": "Sets enabled state",
                    "units": ""
                },
                {
                    "name": "filterHz",
                    "ctype": "uint16_t",
                    "desc": "Sets filter frequency",
                    "units": ""
                },
                {
                    "name": "axisRatio",
                    "ctype": "uint8_t",
                    "desc": "Sets axis ratio",
                    "units": ""
                },
                {
                    "name": "response",
                    "ctype": "uint8_t",
                    "desc": "Sets response characteristic",
                    "units": ""
                },
                {
                    "name": "damping",
                    "ctype": "uint8_t",
                    "desc": "Sets damping characteristic",
                    "units": ""
                },
                {
                    "name": "stability",
                    "ctype": "uint8_t",
                    "desc": "Sets stability preference",
                    "units": ""
                },
                {
                    "name": "aggressiveness",
                    "ctype": "uint8_t",
                    "desc": "Sets aggressiveness preference",
                    "units": ""
                },
                {
                    "name": "rate",
                    "ctype": "uint8_t",
                    "desc": "Sets rate setting",
                    "units": ""
                },
                {
                    "name": "expo",
                    "ctype": "uint8_t",
                    "desc": "Sets expo setting",
                    "units": ""
                },
                {
                    "name": "snappiness",
                    "ctype": "uint8_t",
                    "desc": "(Optional) Sets snappiness preference",
                    "units": "",
                    "optional": true
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_EZ_TUNE`. Expects 10 or 11 bytes. Calls `ezTuneUpdate()` after setting parameters.",
        "description": "Sets the EZ-Tune parameters and triggers an update."
    },
    "MSP2_INAV_SELECT_MIXER_PROFILE": {
        "code": 8320,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "mixerProfileIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the mixer profile to activate (0-based)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Expects 1 byte. Will fail if armed. Calls `setConfigMixerProfileAndWriteEEPROM()`. Only applicable if `MAX_MIXER_PROFILE_COUNT` > 1.",
        "description": "Selects the active mixer profile and saves configuration."
    },
    "MSP2_ADSB_VEHICLE_LIST": {
        "code": 8336,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "maxVehicles",
                    "ctype": "uint8_t",
                    "desc": "Maximum number of vehicles tracked (`MAX_ADSB_VEHICLES`). 0 if `USE_ADSB` disabled",
                    "units": ""
                },
                {
                    "name": "callsignLength",
                    "ctype": "uint8_t",
                    "desc": "Maximum length of callsign string (`ADSB_CALL_SIGN_MAX_LENGTH`). 0 if `USE_ADSB` disabled",
                    "units": ""
                },
                {
                    "name": "totalVehicleMsgs",
                    "ctype": "uint32_t",
                    "desc": "Total vehicle messages received (`getAdsbStatus()->vehiclesMessagesTotal`). 0 if `USE_ADSB` disabled",
                    "units": ""
                },
                {
                    "name": "totalHeartbeatMsgs",
                    "ctype": "uint32_t",
                    "desc": "Total heartbeat messages received (`getAdsbStatus()->heartbeatMessagesTotal`). 0 if `USE_ADSB` disabled",
                    "units": ""
                },
                {
                    "repeating": "maxVehicles",
                    "payload": [
                        {
                            "name": "callsign",
                            "desc": "Fixed-length callsign from `adsbVehicle->vehicleValues.callsign` (padded with NULs if shorter).",
                            "ctype": "char",
                            "array": true,
                            "array_size": 9,
                            "array_size_define": "ADSB_CALL_SIGN_MAX_LENGTH",
                            "units": ""
                        },
                        {
                            "name": "icao",
                            "ctype": "uint32_t",
                            "desc": "ICAO address (`adsbVehicle->vehicleValues.icao`).",
                            "units": ""
                        },
                        {
                            "name": "lat",
                            "ctype": "int32_t",
                            "desc": "Latitude in degrees * 1e7 (`adsbVehicle->vehicleValues.lat`).",
                            "units": "1e-7 deg"
                        },
                        {
                            "name": "lon",
                            "ctype": "int32_t",
                            "desc": "Longitude in degrees * 1e7 (`adsbVehicle->vehicleValues.lon`).",
                            "units": "1e-7 deg"
                        },
                        {
                            "name": "alt",
                            "ctype": "int32_t",
                            "desc": "Altitude above sea level (`adsbVehicle->vehicleValues.alt`).",
                            "units": "cm"
                        },
                        {
                            "name": "headingDeg",
                            "ctype": "uint16_t",
                            "desc": "Course over ground in whole degrees (`CENTIDEGREES_TO_DEGREES(vehicleValues.heading)`).",
                            "units": "deg"
                        },
                        {
                            "name": "tslc",
                            "ctype": "uint8_t",
                            "desc": "Time since last communication (`adsbVehicle->vehicleValues.tslc`).",
                            "units": "s"
                        },
                        {
                            "name": "emitterType",
                            "ctype": "uint8_t",
                            "desc": "Emitter category (`adsbVehicle->vehicleValues.emitterType`) (refers to enum 'ADSB_EMITTER_TYPE', but none found)",
                            "units": ""
                        },
                        {
                            "name": "ttl",
                            "ctype": "uint8_t",
                            "desc": "TTL counter used for list maintenance (`adsbVehicle->ttl`).",
                            "units": ""
                        }
                    ]
                }
            ]
        },
        "variable_len": "maxVehicles",
        "notes": "Requires `USE_ADSB`. Only a subset of `adsbVehicle_t` is transmitted (callsign, core values, heading in whole degrees, TSLC, emitter type, TTL).",
        "description": "Retrieves the list of currently tracked ADSB (Automatic Dependent Surveillance–Broadcast) vehicles. See `adsbVehicle_t` and `adsbVehicleValues_t` in `io/adsb.h` for the exact structure fields."
    },
    "MSP2_INAV_CUSTOM_OSD_ELEMENTS": {
        "code": 8448,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "maxElements",
                    "ctype": "uint8_t",
                    "desc": "Maximum number of custom elements (`MAX_CUSTOM_ELEMENTS`)",
                    "units": ""
                },
                {
                    "name": "maxTextLength",
                    "ctype": "uint8_t",
                    "desc": "Maximum length of the text part (`OSD_CUSTOM_ELEMENT_TEXT_SIZE - 1`)",
                    "units": ""
                },
                {
                    "name": "maxParts",
                    "ctype": "uint8_t",
                    "desc": "Maximum number of parts per element (`CUSTOM_ELEMENTS_PARTS`)",
                    "units": ""
                }
            ]
        },
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`.",
        "description": "Retrieves counts related to custom OSD elements defined by the programming framework."
    },
    "MSP2_INAV_CUSTOM_OSD_ELEMENT": {
        "code": 8449,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "elementIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the custom element (0 to `MAX_CUSTOM_ELEMENTS - 1`)"
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "repeating": "CUSTOM_ELEMENTS_PARTS",
                    "payload": [
                        {
                            "name": "partType",
                            "ctype": "uint8_t",
                            "enum": "osdCustomElementType_e",
                            "desc": "Type of this part"
                        },
                        {
                            "name": "partValue",
                            "ctype": "uint16_t",
                            "desc": "Value/ID associated with this part"
                        }
                    ]
                },
                {
                    "name": "visibilityType",
                    "ctype": "uint8_t",
                    "enum": "osdCustomElementTypeVisibility_e",
                    "desc": "Visibility condition source"
                },
                {
                    "name": "visibilityValue",
                    "ctype": "uint16_t",
                    "desc": "Value/ID of the visibility condition source"
                },
                {
                    "name": "elementText",
                    "desc": "Static text bytes",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "array_size_define": "OSD_CUSTOM_ELEMENT_TEXT_SIZE - 1"
                }
            ]
        },
        "notes": "Reply emitted only if idx < MAX_CUSTOM_ELEMENTS; otherwise no body is written.",
        "description": "Gets the configuration of a single custom OSD element defined by the programming framework."
    },
    "MSP2_INAV_SET_CUSTOM_OSD_ELEMENTS": {
        "code": 8450,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "elementIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the custom element (0 to `MAX_CUSTOM_ELEMENTS - 1`)"
                },
                {
                    "repeating": "CUSTOM_ELEMENTS_PARTS",
                    "payload": [
                        {
                            "name": "partType",
                            "ctype": "uint8_t",
                            "enum": "osdCustomElementType_e",
                            "desc": "Type of this part"
                        },
                        {
                            "name": "partValue",
                            "ctype": "uint16_t",
                            "desc": "Value/ID associated with this part"
                        }
                    ]
                },
                {
                    "name": "visibilityType",
                    "ctype": "uint8_t",
                    "enum": "osdCustomElementTypeVisibility_e",
                    "desc": "Visibility condition source"
                },
                {
                    "name": "visibilityValue",
                    "ctype": "uint16_t",
                    "desc": "Value/ID of the visibility condition source"
                },
                {
                    "name": "elementText",
                    "desc": "Raw bytes",
                    "ctype": "char",
                    "array": true,
                    "array_size": 0,
                    "array_size_define": "OSD_CUSTOM_ELEMENT_TEXT_SIZE - 1"
                }
            ]
        },
        "reply": null,
        "notes": "Payload length must be (OSD_CUSTOM_ELEMENT_TEXT_SIZE - 1) + (CUSTOM_ELEMENTS_PARTS * 3) + 4 bytes including elementIndex. elementIndex must be < MAX_CUSTOM_ELEMENTS. Each partType must be < CUSTOM_ELEMENT_TYPE_END. Firmware NUL-terminates elementText internally.",
        "description": "Sets the configuration of one custom OSD element."
    },
    "MSP2_INAV_OUTPUT_MAPPING_EXT2": {
        "code": 8461,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "timerId",
                    "ctype": "uint8_t",
                    "desc": "Hardware timer identifier (e.g., `TIM1`, `TIM2`). SITL uses index",
                    "units": ""
                },
                {
                    "name": "usageFlags",
                    "ctype": "uint32_t",
                    "desc": "Full 32-bit timer usage flags (`TIM_USE_*`)",
                    "units": ""
                },
                {
                    "name": "pinLabel",
                    "ctype": "uint8_t",
                    "desc": "Label for special pin usage (`PIN_LABEL_*` enum, e.g., `PIN_LABEL_LED`). 0 (`PIN_LABEL_NONE`) otherwise",
                    "units": "",
                    "enum": "pinLabel_e"
                }
            ],
            "repeating": "for each Motor/Servo timer"
        },
        "variable_len": "for each Motor/Servo timer",
        "notes": "Provides complete usage flags and helps identify pins repurposed for functions like LED strip.",
        "description": "Retrieves the full extended output mapping configuration (timer ID, full 32-bit usage flags, and pin label). Supersedes `MSP2_INAV_OUTPUT_MAPPING_EXT`."
    },
    "MSP2_INAV_SERVO_CONFIG": {
        "code": 8704,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "min",
                    "ctype": "int16_t",
                    "desc": "Minimum servo endpoint (`servoParams(i)->min`)",
                    "units": "PWM"
                },
                {
                    "name": "max",
                    "ctype": "int16_t",
                    "desc": "Maximum servo endpoint (`servoParams(i)->max`)",
                    "units": "PWM"
                },
                {
                    "name": "middle",
                    "ctype": "int16_t",
                    "desc": "Middle/Neutral servo position (`servoParams(i)->middle`)",
                    "units": "PWM"
                },
                {
                    "name": "rate",
                    "ctype": "int8_t",
                    "desc": "Servo rate/scaling (`servoParams(i)->rate`)",
                    "units": "% (-125 to 125)"
                }
            ],
            "repeating": "MAX_SUPPORTED_SERVOS"
        },
        "variable_len": "MAX_SUPPORTED_SERVOS",
        "notes": "",
        "description": "Retrieves the configuration parameters for all supported servos (min, max, middle, rate). Supersedes `MSP_SERVO_CONFIGURATIONS`."
    },
    "MSP2_INAV_SET_SERVO_CONFIG": {
        "code": 8705,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "servoIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the servo to configure (0 to `MAX_SUPPORTED_SERVOS - 1`)",
                    "units": "Index"
                },
                {
                    "name": "min",
                    "ctype": "int16_t",
                    "desc": "Sets minimum servo endpoint",
                    "units": "PWM"
                },
                {
                    "name": "max",
                    "ctype": "int16_t",
                    "desc": "Sets maximum servo endpoint",
                    "units": "PWM"
                },
                {
                    "name": "middle",
                    "ctype": "int16_t",
                    "desc": "Sets middle/neutral servo position",
                    "units": "PWM"
                },
                {
                    "name": "rate",
                    "ctype": "int8_t",
                    "desc": "Sets servo rate/scaling",
                    "units": "% (-125 to 125)"
                }
            ]
        },
        "reply": null,
        "notes": "Expects 8 bytes. Returns error if index invalid. Calls `servoComputeScalingFactors()`.",
        "description": "Sets the configuration parameters for a single servo. Supersedes `MSP_SET_SERVO_CONFIGURATION`."
    },
    "MSP2_INAV_GEOZONE": {
        "code": 8720,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the geozone (0 to `MAX_GEOZONES_IN_CONFIG - 1`)",
                    "units": ""
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "desc": "Index requested",
                    "units": ""
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "desc": "Define (`GEOZONE_TYPE_EXCLUSIVE/INCLUSIVE`): Zone type (Inclusion/Exclusion)",
                    "units": ""
                },
                {
                    "name": "shape",
                    "ctype": "uint8_t",
                    "desc": "Define (`GEOZONE_SHAPE_CIRCULAR/POLYGON`): Zone shape (Polygon/Circular)",
                    "units": ""
                },
                {
                    "name": "minAltitude",
                    "ctype": "int32_t",
                    "desc": "Minimum allowed altitude within the zone (`geoZonesConfig(idx)->minAltitude`)",
                    "units": "cm"
                },
                {
                    "name": "maxAltitude",
                    "ctype": "int32_t",
                    "desc": "Maximum allowed altitude within the zone (`geoZonesConfig(idx)->maxAltitude`)",
                    "units": "cm"
                },
                {
                    "name": "isSeaLevelRef",
                    "ctype": "uint8_t",
                    "desc": "Boolean: 1 if altitudes are relative to sea level, 0 if relative to home",
                    "units": ""
                },
                {
                    "name": "fenceAction",
                    "ctype": "uint8_t",
                    "desc": "Enum (`fenceAction_e`): Action to take upon boundary violation",
                    "units": "",
                    "enum": "fenceAction_e"
                },
                {
                    "name": "vertexCount",
                    "ctype": "uint8_t",
                    "desc": "Number of vertices defined for this zone",
                    "units": ""
                }
            ]
        },
        "notes": "Requires `USE_GEOZONE`. Used by `mspFcGeozoneOutCommand`.",
        "description": "Get configuration for a specific Geozone."
    },
    "MSP2_INAV_SET_GEOZONE": {
        "code": 8721,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the geozone (0 to `MAX_GEOZONES_IN_CONFIG - 1`)",
                    "units": ""
                },
                {
                    "name": "type",
                    "ctype": "uint8_t",
                    "desc": "Define (`GEOZONE_TYPE_EXCLUSIVE/INCLUSIVE`): Zone type (Inclusion/Exclusion)",
                    "units": ""
                },
                {
                    "name": "shape",
                    "ctype": "uint8_t",
                    "desc": "Define (`GEOZONE_SHAPE_CIRCULAR/POLYGON`): Zone shape (Polygon/Circular)",
                    "units": ""
                },
                {
                    "name": "minAltitude",
                    "ctype": "int32_t",
                    "desc": "Minimum allowed altitude (`geoZonesConfigMutable()->minAltitude`)",
                    "units": "cm"
                },
                {
                    "name": "maxAltitude",
                    "ctype": "int32_t",
                    "desc": "Maximum allowed altitude (`geoZonesConfigMutable()->maxAltitude`)",
                    "units": "cm"
                },
                {
                    "name": "isSeaLevelRef",
                    "ctype": "uint8_t",
                    "desc": "Boolean: Altitude reference",
                    "units": ""
                },
                {
                    "name": "fenceAction",
                    "ctype": "uint8_t",
                    "desc": "Enum (`fenceAction_e`): Action to take upon boundary violation",
                    "units": "",
                    "enum": "fenceAction_e"
                },
                {
                    "name": "vertexCount",
                    "ctype": "uint8_t",
                    "desc": "Number of vertices to be defined (used for validation later)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_GEOZONE`. Expects 14 bytes. Returns error if index invalid. Calls `geozoneResetVertices()`. Vertices must be set subsequently using `MSP2_INAV_SET_GEOZONE_VERTEX`.",
        "description": "Sets the main configuration for a specific Geozone (type, shape, altitude, action). **This command resets (clears) all vertices associated with the zone.**"
    },
    "MSP2_INAV_GEOZONE_VERTEX": {
        "code": 8722,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the geozone",
                    "units": ""
                },
                {
                    "name": "vertexId",
                    "ctype": "uint8_t",
                    "desc": "Index of the vertex within the zone (0-based). For circles, 0 = center",
                    "units": ""
                }
            ]
        },
        "reply": {
            "payload": [
                {
                    "name": "geozoneIndex",
                    "ctype": "uint8_t",
                    "desc": "Geozone index requested",
                    "units": "Index"
                },
                {
                    "name": "vertexId",
                    "ctype": "uint8_t",
                    "desc": "Vertex index requested",
                    "units": "Index"
                },
                {
                    "name": "latitude",
                    "ctype": "int32_t",
                    "desc": "Vertex latitude",
                    "units": "deg * 1e7"
                },
                {
                    "name": "longitude",
                    "ctype": "int32_t",
                    "desc": "Vertex longitude",
                    "units": "deg * 1e7"
                },
                {
                    "name": "radius",
                    "ctype": "int32_t",
                    "desc": "If vertex is circle, Radius of the circular zone",
                    "units": "cm",
                    "optional": true
                }
            ]
        },
        "variable_len": true,
        "notes": "Requires `USE_GEOZONE`. Returns error if indexes are invalid or vertex doesn't exist. For circular zones, the radius is stored internally as the 'latitude' of the vertex with index 1.",
        "description": "Get a specific vertex (or center+radius for circular zones) of a Geozone."
    },
    "MSP2_INAV_SET_GEOZONE_VERTEX": {
        "code": 8723,
        "mspv": 2,
        "variants": {
            "polygon": {
                "description": "Polygonal Geozone",
                "request": {
                    "payload": [
                        {
                            "name": "geozoneIndex",
                            "ctype": "uint8_t",
                            "desc": "Geozone index requested",
                            "units": "Index"
                        },
                        {
                            "name": "vertexId",
                            "ctype": "uint8_t",
                            "desc": "Vertex index requested",
                            "units": "Index"
                        },
                        {
                            "name": "latitude",
                            "ctype": "int32_t",
                            "desc": "Vertex latitude",
                            "units": "deg * 1e7"
                        },
                        {
                            "name": "longitude",
                            "ctype": "int32_t",
                            "desc": "Vertex longitude",
                            "units": "deg * 1e7"
                        }
                    ]
                },
                "reply": {
                    "payload": null
                }
            },
            "circle": {
                "description": "Circular Geozone",
                "request": {
                    "payload": [
                        {
                            "name": "geozoneIndex",
                            "ctype": "uint8_t",
                            "desc": "Geozone index requested",
                            "units": "Index"
                        },
                        {
                            "name": "vertexId",
                            "ctype": "uint8_t",
                            "desc": "Vertex index requested",
                            "units": "Index"
                        },
                        {
                            "name": "latitude",
                            "ctype": "int32_t",
                            "desc": "Vertex/Center latitude",
                            "units": "deg * 1e7"
                        },
                        {
                            "name": "longitude",
                            "ctype": "int32_t",
                            "desc": "Vertex/Center longitude",
                            "units": "deg * 1e7"
                        },
                        {
                            "name": "radius",
                            "ctype": "int32_t",
                            "desc": "Radius of the circular zone",
                            "units": "cm"
                        }
                    ]
                },
                "reply": {
                    "payload": null
                }
            }
        },
        "notes": "Requires `USE_GEOZONE`. Expects 10 bytes (Polygon) or 14 bytes (Circular). Returns error if indexes invalid or if trying to set vertex beyond `vertexCount` defined in `MSP2_INAV_SET_GEOZONE`. Calls `geozoneSetVertex()`. For circular zones, sets center (vertex 0) and radius (vertex 1's latitude).",
        "description": "Sets a specific vertex (or center+radius for circular zones) for a Geozone."
    },
    "MSP2_INAV_SET_GVAR": {
        "code": 8724,
        "mspv": 2,
        "request": {
            "payload": [
                {
                    "name": "gvarIndex",
                    "ctype": "uint8_t",
                    "desc": "Index of the Global Variable to set",
                    "units": "Index"
                },
                {
                    "name": "value",
                    "ctype": "int32_t",
                    "desc": "New value to store (clamped to configured min/max by `gvSet()`)",
                    "units": ""
                }
            ]
        },
        "reply": null,
        "notes": "Requires `USE_PROGRAMMING_FRAMEWORK`. Expects 5 bytes. Returns error if index is outside `MAX_GLOBAL_VARIABLES`.",
        "description": "Sets the specified Global Variable (GVAR) to the provided value."
    },
    "MSP2_INAV_FULL_LOCAL_POSE": {
        "code": 8736,
        "mspv": 2,
        "request": null,
        "reply": {
            "payload": [
                {
                    "name": "roll",
                    "ctype": "int16_t",
                    "desc": "Roll angle (`attitude.values.roll`)",
                    "units": "deci-degrees"
                },
                {
                    "name": "pitch",
                    "ctype": "int16_t",
                    "desc": "Pitch angle (`attitude.values.pitch`)",
                    "units": "deci-degrees"
                },
                {
                    "name": "yaw",
                    "ctype": "int16_t",
                    "desc": "Yaw/Heading angle (`attitude.values.yaw`)",
                    "units": "deci-degrees"
                },
                {
                    "name": "localPositionNorth",
                    "ctype": "int32_t",
                    "desc": "Estimated North coordinate in local NEU frame (`posControl.actualState.abs.pos.x`)",
                    "units": "cm"
                },
                {
                    "name": "localVelocityNorth",
                    "ctype": "int16_t",
                    "desc": "Estimated North component of velocity in local NEU frame (`posControl.actualState.abs.vel.x`)",
                    "units": "cm/s"
                },
                {
                    "name": "localPositionEast",
                    "ctype": "int32_t",
                    "desc": "Estimated East coordinate in local NEU frame (`posControl.actualState.abs.pos.y`)",
                    "units": "cm"
                },
                {
                    "name": "localVelocityEast",
                    "ctype": "int16_t",
                    "desc": "Estimated East component of velocity in local NEU frame (`posControl.actualState.abs.vel.y`)",
                    "units": "cm/s"
                },
                {
                    "name": "localPositionUp",
                    "ctype": "int32_t",
                    "desc": "Estimated Up coordinate in local NEU frame (`posControl.actualState.abs.pos.z`)",
                    "units": "cm"
                },
                {
                    "name": "localVelocityUp",
                    "ctype": "int16_t",
                    "desc": "Estimated Up component of velocity in local NEU frame (`posControl.actualState.abs.vel.z`)",
                    "units": "cm/s"
                }
            ]
        },
        "notes": "All attitude angles are in deci-degrees.",
        "description": "Provides estimates of current attitude, local NEU position, and velocity."
    },
    "MSP2_BETAFLIGHT_BIND": {
        "code": 12288,
        "mspv": 2,
        "request": null,
        "reply": null,
        "notes": "Requires `rxConfig()->receiverType == RX_TYPE_SERIAL`. Requires `USE_SERIALRX_CRSF` or `USE_SERIALRX_SRXL2`. Calls `crsfBind()` or `srxl2Bind()` respectively. Returns error if receiver type or provider is not supported for binding.",
        "description": "Initiates the receiver binding procedure for supported serial protocols (CRSF, SRXL2)."
    }
}
